(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}})();const style="",glass="",input="",loginPage$1="",mainPage$1="",background="",settingsPage$1="",colorpicker="",reply$1="",pageDenier=document.querySelector("#page-denier"),settingsPage=document.querySelector("#settings-page"),rootElement=document.querySelector(":root"),darkModeOn=document.querySelector(".darkmode-on"),darkModeOff=document.querySelector(".darkmode-off");let darkMode=!0;document.querySelector(".left-bar-option.settings").addEventListener("click",openSettingsPage);document.querySelector(".settings-page-option.save").addEventListener("click",saveSettings);document.querySelector(".settings-page-option.cancel").addEventListener("click",cancelSettings);document.querySelector(".darkmode").addEventListener("click",toggleDarkMode);document.querySelector(".theme-color-1").addEventListener("click",callColorPicker);document.querySelector(".theme-color-2").addEventListener("click",callColorPicker);pageDenier.addEventListener("click",closeCurrentModal);function closeCurrentModal(){colorPickerBox.style.display==="flex"?(colorPickerBox.style.display="none",pageDenier.style.zIndex="2"):settingsPage.style.display==="flex"&&closeSettingsPage()}function openSettingsPage(){settingsPage.style.display="flex",pageDenier.style.display="block"}function closeSettingsPage(){settingsPage.style.display="none",pageDenier.style.display="none"}function saveSettings(){const u=document.querySelector("#preview-theme-color-1").style.backgroundColor,_=document.querySelector("#preview-theme-color-2").style.backgroundColor;rootElement.style.setProperty("--theme-1",u),rootElement.style.setProperty("--theme-2",_),closeSettingsPage()}function cancelSettings(){closeSettingsPage()}function toggleDarkMode(){if(darkMode===!0){darkMode=!1,darkModeOn.style.display="none",darkModeOff.style.display="flex";for(const u of document.querySelectorAll("input, input::placeholder, .c-input, button, span, .user-username"))u.style.color="#1c1c1c";rootElement.style.setProperty("--main-color","rgba(206, 206, 206, 0.6)"),rootElement.style.setProperty("--main-color-full","rgb(206, 206, 206)"),rootElement.style.setProperty("--scrollbar-color","#7c7c7c"),rootElement.style.setProperty("--main-page-bg","#1c1c1c"),rootElement.style.setProperty("--text-color","#1c1c1c"),rootElement.style.setProperty("--main-border","rgba(0, 0, 0, 0.35)")}else{darkMode=!0,darkModeOn.style.display="flex",darkModeOff.style.display="none",rootElement.style.setProperty("--main-page-bg","#1c1c1c");for(const u of document.querySelectorAll("input, input::placeholder, .c-input, button, span, .user-username"))u.style.color="rgb(241, 241, 241)";rootElement.style.setProperty("--text-color","rgb(241, 241, 241)"),rootElement.style.setProperty("--scrollbar-color","#2d2d2d"),rootElement.style.setProperty("--main-color-full","rgb(31, 31, 31)"),rootElement.style.setProperty("--main-color","rgba(31, 31, 31, 0.6)"),rootElement.style.setProperty("--main-border","rgba(255, 255, 255, 0.15)")}}const colorPickerBox=document.querySelector(".colorpicker-box"),colorPicker=document.querySelector(".colorpicker"),colorPickerRange=document.querySelector(".colorpicker-range"),colorPickerCursor=document.querySelector(".colorpicker-cursor");let foundRed,foundGreen,foundBlue,foundSliderColor,foundEndColor=[],targetTheme="111";foundSliderColor=[255,0,0];firstCreatePixels();colorPickerRange.addEventListener("change",updateRGB);colorPicker.addEventListener("mousedown",colorPickerClicked);colorPicker.addEventListener("mousemove",cursorDrag);function callColorPicker(u){u.target.firstElementChild!=null?targetTheme=u.target.firstElementChild.nextElementSibling:targetTheme=u.target,colorPickerBox.style.left=`${u.x}px`,colorPickerBox.style.top=`${u.y}px`,colorPickerBox.style.display="flex",pageDenier.style.zIndex="4"}function findSliderRGB(u){return u<=255?(foundRed=255,foundGreen=u,foundBlue=0):u>255&&u<=510?(foundRed=510-u,foundGreen=255,foundBlue=0):u>510&&u<=765?(foundRed=0,foundGreen=255,foundBlue=u-510):u>765&&u<=1020?(foundRed=0,foundGreen=1020-u,foundBlue=255):u>1020&&u<=1275?(foundRed=u-1020,foundGreen=0,foundBlue=255):u>1275&&u<=1530&&(foundRed=255,foundGreen=0,foundBlue=1530-u),[foundRed,foundGreen,foundBlue]}function updateRGB(){foundSliderColor=findSliderRGB(colorPickerRange.value);const u=[foundSliderColor[0],foundSliderColor[1],foundSliderColor[2]];createPixels(u)}function findEndColor(u,_){const e=_[0],r=_[1],t=_[2];foundEndColor[0]=e-u*(e/255),foundEndColor[1]=r-u*(r/255),foundEndColor[2]=t-u*(t/255)}function firstCreatePixels(){for(let u=1;u<256;u++){const _=document.createElement("div");_.setAttribute("id",`c${u}`),_.setAttribute("class","colorpicker-pixel"),colorPicker.appendChild(_),findEndColor(u,[255,0,0]),_.style.background=`linear-gradient(90deg, rgb(${256-u}, ${256-u}, ${256-u}), rgb(${foundEndColor[0]}, ${foundEndColor[1]}, ${foundEndColor[2]}))`}}function createPixels(u){for(let _=1;_<256;_++)findEndColor(_,u),document.getElementById(`c${_}`).style.background=`linear-gradient(90deg, rgb(${256-_}, ${256-_}, ${256-_}), rgb(${foundEndColor[0]}, ${foundEndColor[1]}, ${foundEndColor[2]}))`}function colorPickerClicked(u){colorPickerCursor.style.left=`calc(${u.layerX}px - 0.375rem)`,colorPickerCursor.style.top=`calc(${u.layerY}px - 0.375rem)`}function calculateFinalColor(u,_,e){const r=foundSliderColor;let t=151-_+15;u=u-17,findEndColor(255/150*(150-t),r);let i=foundEndColor[0],a=foundEndColor[1],s=foundEndColor[2];const o=[(250-u)/250*(250/150*t-i)+i,(250-u)/250*(250/150*t-a)+a,(250-u)/250*(250/150*t-s)+s];targetTheme.style.backgroundColor=`rgb( ${o[0]}, ${o[1]}, ${o[2]})`}function cursorDrag(u){u.buttons===1&&(colorPickerCursor.style.left=`calc(${u.layerX}px - 0.375rem)`,colorPickerCursor.style.top=`calc(${u.layerY}px - 0.375rem)`,calculateFinalColor(u.layerX,u.layerY))}let mouseLocation=[0,0],moveAreaY=[0,0],moveAreaX=[0,0];window.addEventListener("mousemove",windowMove);window.addEventListener("mousedown",windowClick);function windowMove(u){mouseLocation=[u.x,u.y],(mouseLocation[0]<moveAreaX[0]||mouseLocation[0]>moveAreaX[1])&&closeOptionsMenu(),(mouseLocation[1]<moveAreaY[0]||mouseLocation[1]>moveAreaY[1])&&closeOptionsMenu()}function windowClick(u){(u.x<moveAreaX[0]+150||u.x>moveAreaX[1]-120)&&closeOptionsMenu(),(u.y<moveAreaY[0]+150||u.y>moveAreaY[1]-60)&&closeOptionsMenu()}for(const u of document.querySelectorAll(".chat-bg"))u.addEventListener("contextmenu",reply);for(const u of document.querySelectorAll(".reaction-option"))u.addEventListener("click",reactionClick);for(const u of document.querySelectorAll(".chat-reactions-box"))u.addEventListener("click",chatReactionsBoxClick);let chatToReact;const reactionsBox=document.querySelector(".reactions-box"),optionsMenu=document.querySelector(".options-menu");function reply(u){u.preventDefault(),u.target,chatToReact=u.target,optionsMenu.style.display="none",openOptionsMenu(u.x,u.y,u.target)}function openOptionsMenu(u,_,e){optionsMenu.style.display="flex";const r=window.getComputedStyle(reactionsBox).height;let t,i="",a=0;for(t=r[a],t=Number(t);t!="p";)t=r[a],t!="p"&&(i=`${i}${t}`),a++;i=Number(i),window.innerHeight-i<=_?(optionsMenu.style.top=`${window.innerHeight-i}px`,moveAreaY=[window.innerHeight-i+5-150,window.innerHeight-i+5+260]):(optionsMenu.style.top=`${_}px`,moveAreaY=[_+5-150,_+5+260]),window.innerWidth-200<=u?(optionsMenu.style.left=`${window.innerWidth-200}px`,moveAreaX=[window.innerWidth-200+5-150,window.innerWidth-200+5+260]):(optionsMenu.style.left=`${u+5}px`,moveAreaX=[u+5-150,u+5+260])}function closeOptionsMenu(){optionsMenu.style.display="none"}function reactionClick(u){const _=u.target.innerText;if(chatToReact.children.length===0){chatToReact.parentElement.children[2].innerText=_,chatToReact.parentElement.children[2].style.display="flex",closeOptionsMenu();return}chatToReact.children[2].innerText=_,chatToReact.children[2].style.display="flex",closeOptionsMenu()}function chatReactionsBoxClick(u){u.target.innerText="",u.target.style.display="none"}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var AgoraChat={exports:{}};(function(module,exports){(function(u,_){module.exports=_()})(commonjsGlobal,function(){return function(){var __webpack_modules__={4537:function(u){u.exports=function(_,e){for(var r=new Array(arguments.length-1),t=0,i=2,a=!0;i<arguments.length;)r[t++]=arguments[i++];return new Promise(function(s,o){r[t]=function(n){if(a)if(a=!1,n)o(n);else{for(var l=new Array(arguments.length-1),c=0;c<l.length;)l[c++]=arguments[c];s.apply(null,l)}};try{_.apply(e||null,r)}catch(n){a&&(a=!1,o(n))}})}},7419:function(u,_){var e=_;e.length=function(s){var o=s.length;if(!o)return 0;for(var n=0;--o%4>1&&s.charAt(o)==="=";)++n;return Math.ceil(3*s.length)/4-n};for(var r=new Array(64),t=new Array(123),i=0;i<64;)t[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;e.encode=function(s,o,n){for(var l,c=null,h=[],f=0,g=0;o<n;){var m=s[o++];switch(g){case 0:h[f++]=r[m>>2],l=(3&m)<<4,g=1;break;case 1:h[f++]=r[l|m>>4],l=(15&m)<<2,g=2;break;case 2:h[f++]=r[l|m>>6],h[f++]=r[63&m],g=0}f>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,h)),f=0)}return g&&(h[f++]=r[l],h[f++]=61,g===1&&(h[f++]=61)),c?(f&&c.push(String.fromCharCode.apply(String,h.slice(0,f))),c.join("")):String.fromCharCode.apply(String,h.slice(0,f))};var a="invalid encoding";e.decode=function(s,o,n){for(var l,c=n,h=0,f=0;f<s.length;){var g=s.charCodeAt(f++);if(g===61&&h>1)break;if((g=t[g])===void 0)throw Error(a);switch(h){case 0:l=g,h=1;break;case 1:o[n++]=l<<2|(48&g)>>4,l=g,h=2;break;case 2:o[n++]=(15&l)<<4|(60&g)>>2,l=g,h=3;break;case 3:o[n++]=(3&l)<<6|g,h=0}}if(h===1)throw Error(a);return n-c},e.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}},5124:function(u){function _(e,r){typeof e=="string"&&(r=e,e=void 0);var t=[];function i(s){if(typeof s!="string"){var o=a();if(_.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var n=Object.keys(s),l=new Array(n.length+1),c=new Array(n.length),h=0;h<n.length;)l[h]=n[h],c[h]=s[n[h++]];return l[h]=o,Function.apply(null,l).apply(null,c)}return Function(o)()}for(var f=new Array(arguments.length-1),g=0;g<f.length;)f[g]=arguments[++g];if(g=0,s=s.replace(/%([%dfijs])/g,function(m,d){var p=f[g++];switch(d){case"d":case"f":return String(Number(p));case"i":return String(Math.floor(p));case"j":return JSON.stringify(p);case"s":return String(p)}return"%"}),g!==f.length)throw Error("parameter count mismatch");return t.push(s),i}function a(s){return"function "+(s||r||"")+"("+(e&&e.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return i.toString=a,i}u.exports=_,_.verbose=!1},9211:function(u){function _(){this._listeners={}}u.exports=_,_.prototype.on=function(e,r,t){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:t||this}),this},_.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var t=this._listeners[e],i=0;i<t.length;)t[i].fn===r?t.splice(i,1):++i;return this},_.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,t)}return this}},9054:function(u,_,e){u.exports=i;var r=e(4537),t=e(7199)("fs");function i(a,s,o){return typeof s=="function"?(o=s,s={}):s||(s={}),o?!s.xhr&&t&&t.readFile?t.readFile(a,function(n,l){return n&&typeof XMLHttpRequest<"u"?i.xhr(a,s,o):n?o(n):o(null,s.binary?l:l.toString("utf8"))}):i.xhr(a,s,o):r(i,this,a,s)}i.xhr=function(a,s,o){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==0&&n.status!==200)return o(Error("status "+n.status));if(s.binary){var l=n.response;if(!l){l=[];for(var c=0;c<n.responseText.length;++c)l.push(255&n.responseText.charCodeAt(c))}return o(null,typeof Uint8Array<"u"?new Uint8Array(l):l)}return o(null,n.responseText)}},s.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",a),n.send()}},945:function(u){function _(a){return typeof Float32Array<"u"?function(){var s=new Float32Array([-0]),o=new Uint8Array(s.buffer),n=o[3]===128;function l(g,m,d){s[0]=g,m[d]=o[0],m[d+1]=o[1],m[d+2]=o[2],m[d+3]=o[3]}function c(g,m,d){s[0]=g,m[d]=o[3],m[d+1]=o[2],m[d+2]=o[1],m[d+3]=o[0]}function h(g,m){return o[0]=g[m],o[1]=g[m+1],o[2]=g[m+2],o[3]=g[m+3],s[0]}function f(g,m){return o[3]=g[m],o[2]=g[m+1],o[1]=g[m+2],o[0]=g[m+3],s[0]}a.writeFloatLE=n?l:c,a.writeFloatBE=n?c:l,a.readFloatLE=n?h:f,a.readFloatBE=n?f:h}():function(){function s(n,l,c,h){var f=l<0?1:0;if(f&&(l=-l),l===0)n(1/l>0?0:2147483648,c,h);else if(isNaN(l))n(2143289344,c,h);else if(l>34028234663852886e22)n((f<<31|2139095040)>>>0,c,h);else if(l<11754943508222875e-54)n((f<<31|Math.round(l/1401298464324817e-60))>>>0,c,h);else{var g=Math.floor(Math.log(l)/Math.LN2);n((f<<31|g+127<<23|8388607&Math.round(l*Math.pow(2,-g)*8388608))>>>0,c,h)}}function o(n,l,c){var h=n(l,c),f=2*(h>>31)+1,g=h>>>23&255,m=8388607&h;return g===255?m?NaN:f*(1/0):g===0?1401298464324817e-60*f*m:f*Math.pow(2,g-150)*(m+8388608)}a.writeFloatLE=s.bind(null,e),a.writeFloatBE=s.bind(null,r),a.readFloatLE=o.bind(null,t),a.readFloatBE=o.bind(null,i)}(),typeof Float64Array<"u"?function(){var s=new Float64Array([-0]),o=new Uint8Array(s.buffer),n=o[7]===128;function l(g,m,d){s[0]=g,m[d]=o[0],m[d+1]=o[1],m[d+2]=o[2],m[d+3]=o[3],m[d+4]=o[4],m[d+5]=o[5],m[d+6]=o[6],m[d+7]=o[7]}function c(g,m,d){s[0]=g,m[d]=o[7],m[d+1]=o[6],m[d+2]=o[5],m[d+3]=o[4],m[d+4]=o[3],m[d+5]=o[2],m[d+6]=o[1],m[d+7]=o[0]}function h(g,m){return o[0]=g[m],o[1]=g[m+1],o[2]=g[m+2],o[3]=g[m+3],o[4]=g[m+4],o[5]=g[m+5],o[6]=g[m+6],o[7]=g[m+7],s[0]}function f(g,m){return o[7]=g[m],o[6]=g[m+1],o[5]=g[m+2],o[4]=g[m+3],o[3]=g[m+4],o[2]=g[m+5],o[1]=g[m+6],o[0]=g[m+7],s[0]}a.writeDoubleLE=n?l:c,a.writeDoubleBE=n?c:l,a.readDoubleLE=n?h:f,a.readDoubleBE=n?f:h}():function(){function s(n,l,c,h,f,g){var m=h<0?1:0;if(m&&(h=-h),h===0)n(0,f,g+l),n(1/h>0?0:2147483648,f,g+c);else if(isNaN(h))n(0,f,g+l),n(2146959360,f,g+c);else if(h>17976931348623157e292)n(0,f,g+l),n((m<<31|2146435072)>>>0,f,g+c);else{var d;if(h<22250738585072014e-324)n((d=h/5e-324)>>>0,f,g+l),n((m<<31|d/4294967296)>>>0,f,g+c);else{var p=Math.floor(Math.log(h)/Math.LN2);p===1024&&(p=1023),n(4503599627370496*(d=h*Math.pow(2,-p))>>>0,f,g+l),n((m<<31|p+1023<<20|1048576*d&1048575)>>>0,f,g+c)}}}function o(n,l,c,h,f){var g=n(h,f+l),m=n(h,f+c),d=2*(m>>31)+1,p=m>>>20&2047,v=4294967296*(1048575&m)+g;return p===2047?v?NaN:d*(1/0):p===0?5e-324*d*v:d*Math.pow(2,p-1075)*(v+4503599627370496)}a.writeDoubleLE=s.bind(null,e,0,4),a.writeDoubleBE=s.bind(null,r,4,0),a.readDoubleLE=o.bind(null,t,0,4),a.readDoubleBE=o.bind(null,i,4,0)}(),a}function e(a,s,o){s[o]=255&a,s[o+1]=a>>>8&255,s[o+2]=a>>>16&255,s[o+3]=a>>>24}function r(a,s,o){s[o]=a>>>24,s[o+1]=a>>>16&255,s[o+2]=a>>>8&255,s[o+3]=255&a}function t(a,s){return(a[s]|a[s+1]<<8|a[s+2]<<16|a[s+3]<<24)>>>0}function i(a,s){return(a[s]<<24|a[s+1]<<16|a[s+2]<<8|a[s+3])>>>0}u.exports=_(_)},7199:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(u){}return null}module.exports=inquire},8626:function(u,_){var e=_,r=e.isAbsolute=function(i){return/^(?:\/|\w+:)/.test(i)},t=e.normalize=function(i){var a=(i=i.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),s=r(i),o="";s&&(o=a.shift()+"/");for(var n=0;n<a.length;)a[n]===".."?n>0&&a[n-1]!==".."?a.splice(--n,2):s?a.splice(n,1):++n:a[n]==="."?a.splice(n,1):++n;return o+a.join("/")};e.resolve=function(i,a,s){return s||(a=t(a)),r(a)?a:(s||(i=t(i)),(i=i.replace(/(?:\/|^)[^/]+$/,"")).length?t(i+"/"+a):a)}},6662:function(u){u.exports=function(_,e,r){var t=r||8192,i=t>>>1,a=null,s=t;return function(o){if(o<1||o>i)return _(o);s+o>t&&(a=_(t),s=0);var n=e.call(a,s,s+=o);return 7&s&&(s=1+(7|s)),n}}},4997:function(u,_){var e=_;e.length=function(r){for(var t=0,i=0,a=0;a<r.length;++a)(i=r.charCodeAt(a))<128?t+=1:i<2048?t+=2:(64512&i)==55296&&(64512&r.charCodeAt(a+1))==56320?(++a,t+=4):t+=3;return t},e.read=function(r,t,i){if(i-t<1)return"";for(var a,s=null,o=[],n=0;t<i;)(a=r[t++])<128?o[n++]=a:a>191&&a<224?o[n++]=(31&a)<<6|63&r[t++]:a>239&&a<365?(a=((7&a)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,o[n++]=55296+(a>>10),o[n++]=56320+(1023&a)):o[n++]=(15&a)<<12|(63&r[t++])<<6|63&r[t++],n>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),n=0);return s?(n&&s.push(String.fromCharCode.apply(String,o.slice(0,n))),s.join("")):String.fromCharCode.apply(String,o.slice(0,n))},e.write=function(r,t,i){for(var a,s,o=i,n=0;n<r.length;++n)(a=r.charCodeAt(n))<128?t[i++]=a:a<2048?(t[i++]=a>>6|192,t[i++]=63&a|128):(64512&a)==55296&&(64512&(s=r.charCodeAt(n+1)))==56320?(a=65536+((1023&a)<<10)+(1023&s),++n,t[i++]=a>>18|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128,t[i++]=63&a|128):(t[i++]=a>>12|224,t[i++]=a>>6&63|128,t[i++]=63&a|128);return i-o}},4188:function(u,_,e){var r,t,i;(function(a){if(_!=null&&typeof _.nodeType!="number")u.exports=a();else if(e.amdO!=null)t=[],(i=typeof(r=a)=="function"?r.apply(_,t):r)===void 0||(u.exports=i);else{var s=a(),o=typeof self<"u"?self:$.global;typeof o.btoa!="function"&&(o.btoa=s.btoa),typeof o.atob!="function"&&(o.atob=s.atob)}})(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(o){this.message=o}return s.prototype=new Error,s.prototype.name="InvalidCharacterError",{btoa:function(o){for(var n,l,c=String(o),h=0,f=a,g="";c.charAt(0|h)||(f="=",h%1);g+=f.charAt(63&n>>8-h%1*8)){if((l=c.charCodeAt(h+=.75))>255)throw new s("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|l}return g},atob:function(o){var n=String(o).replace(/[=]+$/,"");if(n.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var l,c,h=0,f=0,g="";c=n.charAt(f++);~c&&(l=h%4?64*l+c:c,h++%4)?g+=String.fromCharCode(255&l>>(-2*h&6)):0)c=a.indexOf(c);return g}}})},9667:function(u,_,e){e.r(_),e.d(_,{addUsersToChatRoom:function(){return O},addUsersToChatRoomAllowlist:function(){return ze},addUsersToChatRoomWhitelist:function(){return ot},blockChatRoomMember:function(){return ie},blockChatRoomMembers:function(){return be},chatRoomBlockMulti:function(){return ye},chatRoomBlockSingle:function(){return ce},createChatRoom:function(){return c},deleteChatRoomSharedFile:function(){return H},destroyChatRoom:function(){return h},disableSendChatRoomMsg:function(){return He},enableSendChatRoomMsg:function(){return Ke},fetchChatRoomAnnouncement:function(){return ue},fetchChatRoomSharedFileList:function(){return he},getChatRoomAdmin:function(){return y},getChatRoomAllowlist:function(){return nt},getChatRoomAttributes:function(){return de},getChatRoomBlacklist:function(){return Re},getChatRoomBlacklistNew:function(){return xe},getChatRoomBlocklist:function(){return V},getChatRoomDetails:function(){return f},getChatRoomMuteList:function(){return G},getChatRoomMuted:function(){return J},getChatRoomMutelist:function(){return te},getChatRoomSharedFilelist:function(){return le},getChatRoomWhitelist:function(){return Ye},getChatRooms:function(){return l},isChatRoomWhiteUser:function(){return $e},isInChatRoomAllowlist:function(){return Ie},isInChatRoomMutelist:function(){return x},joinChatRoom:function(){return S},leaveChatRoom:function(){return k},listChatRoomMember:function(){return E},listChatRoomMembers:function(){return T},modifyChatRoom:function(){return g},muteChatRoomMember:function(){return D},quitChatRoom:function(){return I},removeChatRoomAdmin:function(){return U},removeChatRoomAllowlistMember:function(){return Xe},removeChatRoomAttribute:function(){return K},removeChatRoomAttributes:function(){return ne},removeChatRoomBlockMulti:function(){return Ue},removeChatRoomBlockSingle:function(){return Oe},removeChatRoomMember:function(){return d},removeChatRoomMembers:function(){return v},removeChatRoomWhitelistMember:function(){return We},removeMultiChatRoomMember:function(){return p},removeMuteChatRoomMember:function(){return L},removeSingleChatRoomMember:function(){return m},rmUsersFromChatRoomWhitelist:function(){return et},setChatRoomAdmin:function(){return b},setChatRoomAttribute:function(){return Ce},setChatRoomAttributes:function(){return Ee},unblockChatRoomMember:function(){return fe},unblockChatRoomMembers:function(){return Ae},unmuteChatRoomMember:function(){return Z},updateChatRoomAnnouncement:function(){return se},uploadChatRoomSharedFile:function(){return j}}),e(1539),e(8674),e(8309),e(2526),e(1817),e(2222),e(9753),e(9600),e(7327),e(2165),e(6992),e(8783),e(3948);var r=e(5531),t=e(7252),i=e(4370),a=e(3246),s=e(7360),o=e(1595);function n(C){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},n(C)}function l(C){var X=this;if(typeof C.pagenum!="number"||typeof C.pagesize!="number")throw Error("Invalid parameter");if(!a.XZ.call(this)){var Y=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Y)}var re={pagenum:C.pagenum||1,pagesize:C.pagesize||20},ae=this.context,pe=ae.orgName,me=ae.appName,Te=ae.accessToken,Be={url:this.apiUrl+"/"+pe+"/"+me+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Te},data:re,success:function(Ge){typeof C.success=="function"&&C.success(Ge)},error:function(Ge){Ge.error&&Ge.error_description&&X.onError&&X.onError({type:r.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:Ge.error_description,data:Ge}),typeof C.error=="function"&&C.error(Ge)}};return s.kg.debug("Call getChatRooms",C),i.hj.call(this,Be,o.fI.GET_CHATROOM_LIST)}function c(C){if(typeof C.name!="string")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y={name:C.name,description:C.description,maxusers:C.maxusers,owner:this.user,members:C.members},re=this.context,ae=re.orgName,pe=re.appName,me=(re.accessToken,re.jid),Te={url:"".concat(this.apiUrl,"/").concat(ae,"/").concat(pe,"/chatrooms?resource=").concat(me.clientResource),dataType:"json",type:"POST",data:JSON.stringify(Y),headers:{Authorization:"Bearer "+C.token||0,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call createChatRoom",C),i.hj.call(this,Te,o.fI.CREATE_CHATROOM)}function h(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=(Y.accessToken,Y.jid),me={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(C.chatRoomId,"?resource=").concat(pe.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+C.token||0},success:C.success,error:C.error};return s.kg.debug("Call destroyChatRoom",C),i.hj.call(this,me,o.fI.DESTROY_CHATROOM)}function f(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+C.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call getChatRoomDetails",C),i.hj.call(this,me,o.fI.GET_CHATROOM_DETAIL)}function g(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={groupname:C.chatRoomName,description:C.description,maxusers:C.maxusers},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"?resource=").concat(me.clientResource),type:"PUT",data:JSON.stringify(Be),dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call modifyChatRoom",C),i.hj.call(this,Ge,o.fI.MODIFY_CHATROOM)}function m(C){if(typeof C.chatRoomId!="string"||C.chatRoomId===""||typeof C.username!="string")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.username,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/users/").concat(Be,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call removeChatRoomMember",C),i.hj.call(this,Ge,o.fI.REMOVE_CHATROOM_MEMBER)}var d=m;function p(C){if(typeof C.chatRoomId!="string"||C.chatRoomId===""||!Array.isArray(C.users))throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=C.chatRoomId,re=C.users.join(","),ae=this.context,pe=ae.orgName,me=ae.appName,Te=ae.accessToken,Be=ae.jid,Ge={url:"".concat(this.apiUrl,"/").concat(pe,"/").concat(me,"/chatrooms/").concat(Y,"/users/").concat(re,"?resource=").concat(Be.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Te,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call removeChatRoomMembers",C),i.hj.call(this,Ge,o.fI.MULTI_REMOVE_CHATROOM_MEMBER)}var v=p;function O(C){if(typeof C.chatRoomId!="string"||C.chatRoomId===""||!Array.isArray(C.users))throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=C.chatRoomId,re={usernames:C.users},ae=this.context,pe=ae.orgName,me=ae.appName,Te=ae.accessToken,Be=ae.jid,Ge={url:"".concat(this.apiUrl,"/").concat(pe,"/").concat(me,"/chatrooms/").concat(Y,"/users?resource=").concat(Be.clientResource),type:"POST",data:JSON.stringify(re),dataType:"json",headers:{Authorization:"Bearer "+Te,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call addUsersToChatRoom",C),i.hj.call(this,Ge,o.fI.ADD_USERS_TO_CHATROOM)}function S(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(C.roomId,"/apply?resource=").concat(me.clientResource),dataType:"json",type:"POST",data:JSON.stringify({message:C.message||""}),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call joinChatRoom",C),i.hj.call(this,Te,o.fI.JOIN_CHATROOM)}function I(C){var X=this;if(typeof C.roomId!="string"||C.roomId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var Y=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Y)}var re=this.context,ae=re.orgName,pe=re.appName,me=re.accessToken,Te=re.jid,Be={url:"".concat(this.apiUrl,"/").concat(ae,"/").concat(pe,"/chatrooms/").concat(C.roomId,"/quit?resource=").concat(Te.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+me},success:function(Ge){X._load_msg_cache=X._load_msg_cache.filter(function(ut){return(!ut.isGroup||ut.to!==C.roomId)&&ut}),typeof C.success=="function"&&C.success(Ge)},error:C.error};return s.kg.debug("Call leaveChatRoom",C),i.hj.call(this,Be,o.fI.QUIT_CHATROOM)}var k=I;function E(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(isNaN(C.pageNum)||C.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(C.pageSize)||C.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y={pagenum:C.pageNum,pagesize:C.pageSize},re=this.context,ae=re.orgName,pe=re.appName,me=re.accessToken,Te={url:this.apiUrl+"/"+ae+"/"+pe+"/chatrooms/"+C.chatRoomId+"/users",dataType:"json",type:"GET",data:Y,headers:{Authorization:"Bearer "+me,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call listChatRoomMembers",C),i.hj.call(this,Te,o.fI.LIST_CHATROOM_MEMBERS)}var T=E;function y(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.chatRoomId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+me+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call getChatRoomAdmin",C),i.hj.call(this,Te,o.fI.GET_CHATROOM_ADMIN)}function b(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={newadmin:C.username},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/admin?resource=").concat(me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(Be),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call setChatRoomAdmin",C),i.hj.call(this,Ge,o.fI.SET_CHATROOM_ADMIN)}function U(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.username,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/admin/").concat(Be,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call removeChatRoomAdmin",C),i.hj.call(this,Ge,o.fI.REMOVE_CHATROOM_ADMIN)}function D(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "groupId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(typeof C.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={usernames:[C.username],mute_duration:C.muteDuration},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/mute?resource=").concat(me.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},data:JSON.stringify(Be),success:C.success,error:C.error};return s.kg.debug("Call muteChatRoomMember",C),i.hj.call(this,Ge,o.fI.MUTE_CHATROOM_MEMBER)}function L(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.username,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/mute/").concat(Be,"?resource=").concat(me.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call unmuteChatRoomMember",C),i.hj.call(this,Ge,o.fI.REMOVE_MUTE_CHATROOM_MEMBER)}var Z=L;function J(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.chatRoomId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+me+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call getChatRoomMutelist",C),i.hj.call(this,Te,o.fI.GET_MUTE_CHATROOM_MEMBERS)}var G=J,te=J;function ce(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.username,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/blocks/users/").concat(Be,"?resource=").concat(me.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call blockChatRoomMember",C),i.hj.call(this,Ge,o.fI.SET_CHATROOM_MEMBER_TO_BLACK)}var ie=ce;function ye(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(C.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={usernames:C.usernames},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/blocks/users?resource=").concat(me.clientResource),data:JSON.stringify(Be),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Chat blockChatRoomMembers:",Ge),i.hj.call(this,Ge,o.fI.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var be=ye;function Oe(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.username!="string"||C.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.username,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/blocks/users/").concat(Be,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call unblockChatRoomMember",C),i.hj.call(this,Ge,o.fI.REMOVE_CHATROOM_MEMBER_BLACK)}var fe=Oe;function Ue(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(C.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be=C.usernames.join(","),Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/blocks/users/").concat(Be,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call unblockChatRoomMembers",C),i.hj.call(this,Ge,o.fI.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var Ae=Ue;function xe(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.chatRoomId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+me+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call getChatRoomBlocklist",C),i.hj.call(this,Te,o.fI.GET_CHATROOM_BLOCK_MEMBERS)}var Re=xe,V=xe;function He(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/ban?resource=").concat(me.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call disableSendChatRoomMsg",C),i.hj.call(this,Be,o.fI.DISABLED_CHATROOM_SEND_MSG)}function Ke(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/ban?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call enableSendChatRoomMsg",C),i.hj.call(this,Be,o.fI.ENABLE_CHATROOM_SEND_MSG)}function ot(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(C.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={usernames:C.users},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/white/users?resource=").concat(me.clientResource),type:"POST",data:JSON.stringify(Be),dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call addUsersToChatRoomWhitelist",C),i.hj.call(this,Ge,o.fI.ADD_USERS_TO_CHATROOM)}var ze=ot;function et(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.userName!="string"||C.userName==="")throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.chatRoomId,Be={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/white/users/").concat(C.userName,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call removeChatRoomAllowlistMember",C),i.hj.call(this,Be,o.fI.REMOVE_CHATROOM_WHITE_USERS)}var We=et,Xe=et;function Ye(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.chatRoomId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+me+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call getChatRoomAllowlist",C),i.hj.call(this,Te,o.fI.GET_CHATROOM_WHITE_USERS)}var nt=Ye;function $e(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof C.userName!="string"||C.userName==="")throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.chatRoomId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/chatrooms/"+me+"/white/users/"+C.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call isInChatRoomAllowlist",C),i.hj.call(this,Te,o.fI.CHECK_CHATROOM_WHITE_USER)}var Ie=$e;function x(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.userId,Te={url:this.apiUrl+"/"+re+"/"+ae+"/sdk/chatrooms/"+C.chatRoomId+"/mute/"+me,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+pe}};return s.kg.debug("Call isInChatRoomMutelist",C),i.hj.call(this,Te).then(function(Be){return Be.data})}function ue(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error('Invalid parameter: "roomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.roomId,Te={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(me,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call fetchChatRoomAnnouncement",C),i.hj.call(this,Te,o.fI.GET_CHATROOM_ANN)}function se(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof C.announcement!="string")throw Error('Invalid parameter: "announcement"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.roomId,Be={announcement:C.announcement},Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/announcement?resource=").concat(me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(Be),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call updateChatRoomAnnouncement:",C),i.hj.call(this,Ge,o.fI.UPDATE_CHATROOM_ANN)}function j(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error('Invalid parameter: "roomId"');if(n(C.file)!=="object")throw Error('Invalid parameter: "file"');if(a.XZ.call(this)){var X=this.context,Y=X.orgName,re=X.appName,ae=X.accessToken,pe=X.jid,me=C.roomId;i.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(Y,"/").concat(re,"/chatrooms/").concat(me,"/share_files?resource=").concat(pe.clientResource),onFileUploadProgress:C.onFileUploadProgress,onFileUploadComplete:C.onFileUploadComplete,onFileUploadError:C.onFileUploadError,onFileUploadCanceled:C.onFileUploadCanceled,accessToken:ae,apiUrl:this.apiUrl,file:C.file,appKey:this.context.appKey},o.fI.UPLOAD_CHATROOM_FILE),s.kg.debug("Call uploadChatRoomSharedFile",C)}}function H(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof C.fileId!="string"||C.fileId==="")throw Error('Invalid parameter: "fileId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.jid,Te=C.roomId,Be=C.fileId,Ge={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(Te,"/share_files/").concat(Be,"?resource=").concat(me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"},success:C.success,error:C.error};return s.kg.debug("Call deleteChatRoomSharedFile",C),i.hj.call(this,Ge,o.fI.DELETE_CHATROOM_FILE)}function he(C){if(typeof C.roomId!="string"||C.roomId==="")throw Error('Invalid parameter: "roomId"');if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=C.roomId,Te={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/chatrooms/").concat(me,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json",accept:"application/json"},success:C.success,error:C.error};return s.kg.debug("Call fetchChatRoomSharedFileList",C),i.hj.call(this,Te,o.fI.GET_CHATROOM_FILES)}var le=he;function de(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+C.chatRoomId);if(C.attributeKeys&&!Array.isArray(C.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+C.attributeKeys);if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=(Y.jid,C.chatRoomId),Te={keys:C.attributeKeys},Be={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/metadata/chatroom/").concat(me),type:"POST",dataType:"json",data:JSON.stringify(Te),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"}};return s.kg.debug("Call getChatRoomAttributes:",C),i.hj.call(this,Be).then(function(Ge){return{data:Ge.data,type:Ge.type}})}function Ee(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+C.chatRoomId);if(n(C.attributes)!=="object")throw Error("Invalid parameter attributes: "+C.attributes);if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.userId,Te=C.chatRoomId,Be=C.attributes,Ge=C.autoDelete,ut=Ge===void 0||Ge,at=C.isForced?"/forced":"",mt={metaData:Be,autoDelete:ut?"DELETE":"NO_DELETE"},vt={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/metadata/chatroom/").concat(Te,"/user/").concat(me)+at,type:"PUT",dataType:"json",data:JSON.stringify(mt),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttributes:",C),i.hj.call(this,vt).then(function(Et){return(0,a._W)(Et)})}function Ce(C){var X;if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+C.chatRoomId);if(typeof C.attributeKey!="string"||C.attributeKey==="")throw Error("Invalid parameter attributeKey: "+C.attributeKey);if(typeof C.attributeValue!="string"||C.attributeValue==="")throw Error("Invalid parameter attributeValue: "+C.attributeValue);if(!a.XZ.call(this)){var Y=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Y)}var re=this.context,ae=re.orgName,pe=re.appName,me=re.accessToken,Te=re.userId,Be=C.chatRoomId,Ge=C.attributeKey,ut=C.attributeValue,at=C.autoDelete,mt=at===void 0||at,vt=C.isForced?"/forced":"",Et={metaData:(X={},X[Ge]=ut,X),autoDelete:mt?"DELETE":"NO_DELETE"},Tt={url:"".concat(this.apiUrl,"/").concat(ae,"/").concat(pe,"/metadata/chatroom/").concat(Be,"/user/").concat(Te)+vt,type:"PUT",dataType:"json",data:JSON.stringify(Et),headers:{Authorization:"Bearer "+me,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttribute:",C),i.hj.call(this,Tt).then(function(ht){var yt=(0,a.H7)(ht);if(yt)throw yt})}function ne(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+C.chatRoomId);if(!Array.isArray(C.attributeKeys))throw Error('"Invalid parameter attributes": '+C.attributeKeys);if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.userId,Te=C.chatRoomId,Be=C.attributeKeys,Ge=C.isForced?"/forced":"",ut={keys:Be},at={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/metadata/chatroom/").concat(Te,"/user/").concat(me)+Ge,type:"DELETE",dataType:"json",data:JSON.stringify(ut),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttributes:",C),i.hj.call(this,at).then(function(mt){return(0,a._W)(mt)})}function K(C){if(typeof C.chatRoomId!="string"||C.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+C.chatRoomId);if(typeof C.attributeKey!="string"||C.attributeKey==="")throw Error('"Invalid parameter attributeKey": '+C.attributeKey);if(!a.XZ.call(this)){var X=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var Y=this.context,re=Y.orgName,ae=Y.appName,pe=Y.accessToken,me=Y.userId,Te=C.chatRoomId,Be=C.attributeKey,Ge=C.isForced?"/forced":"",ut={keys:[Be]},at={url:"".concat(this.apiUrl,"/").concat(re,"/").concat(ae,"/metadata/chatroom/").concat(Te,"/user/").concat(me)+Ge,type:"DELETE",dataType:"json",data:JSON.stringify(ut),headers:{Authorization:"Bearer "+pe,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttribute:",C),i.hj.call(this,at).then(function(mt){var vt=(0,a.H7)(mt);if(vt)throw vt})}},4363:function(u,_,e){e.d(_,{w:function(){return i}}),e(9601),e(2772);var r=e(7360),t=function(){return t=Object.assign||function(a){for(var s,o=1,n=arguments.length;o<n;o++)for(var l in s=arguments[o])Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l]);return a},t.apply(this,arguments)};function i(a){var s,o,n=a.id,l=a.payload,c=a.timestamp,h=a.to,f=l.bodies&&l.bodies.length>0?l.bodies[0]:{},g={},m={},d=l.type?l.type:h.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";switch(f.type){case"txt":g={id:n,type:"txt",chatType:d,msg:f.msg||"",to:l.to||"",from:l.from,time:c,ext:l.ext};break;case"img":g={id:n,type:"img",chatType:d,to:l.to,from:l.from,time:c,ext:l.ext,width:((s=f.size)===null||s===void 0?void 0:s.width)||0,height:((o=f.size)===null||o===void 0?void 0:o.height)||0,secret:f.secret||"",url:(f==null?void 0:f.url)||"",file:{}};break;case"video":g={id:n,type:"video",chatType:d,from:l.from,to:l.to,url:(f==null?void 0:f.url)||"",secret:f.secret||"",filename:f.filename,length:f.length||0,file:{},file_length:f.fileLength||0,filetype:l.ext.file_type||"",ext:l.ext,time:c};break;case"loc":g={id:n,type:"loc",chatType:d,from:l.from,to:l.to,buildingName:f.buildingName||"",addr:f.addr,lat:f.lat,lng:f.lng,ext:l.ext,time:c};break;case"audio":g={id:n,type:"audio",chatType:d,from:l.from,to:l.to,secret:f.secret||"",ext:l.ext,time:c,url:(f==null?void 0:f.url)||"",file:{},filename:f.filename,length:l.ext.duration||0,file_length:f.fileLength||0,filetype:l.ext.file_type||""};break;case"file":g={id:n,type:"file",chatType:d,from:l.from,to:l.to,ext:l.ext,time:c,url:(f==null?void 0:f.url)||"",secret:f.secret||"",file:{},filename:f.filename||"",length:f.length||0,file_length:f.file_length||0,filetype:l.ext.file_type||""};break;case"cmd":g={id:n,type:"cmd",chatType:d,from:l.from,to:l.to,ext:l.ext,time:c,action:f.action||""};break;case"custom":g={id:n,type:"custom",chatType:d,from:l.from,to:l.to,ext:l.ext,time:c,customEvent:f.customEvent||"",customExts:f.customExts||""};break;default:r.kg.error("unexpected message: ".concat(a))}if(l.msgConfig&&(m.msgConfig=l.msgConfig),l==null?void 0:l.meta){var p=l.meta;p.thread&&(m.chatThread={messageId:p.thread.msg_parent_id,parentId:p.thread.muc_parent_id,chatThreadName:p.thread.thread_name}),p.reactions&&(m.reactions=p.reactions),p.translations&&(m.translations=p.translations)}return t(t({},g),m)}},2856:function(u,_,e){e.r(_),e.d(_,{acceptGroupInvite:function(){return Ae},acceptGroupJoinRequest:function(){return be},addUsersToGroupAllowlist:function(){return X},addUsersToGroupWhitelist:function(){return C},agreeInviteIntoGroup:function(){return Ue},agreeJoinGroup:function(){return ye},blockGroup:function(){return h},blockGroupMember:function(){return x},blockGroupMembers:function(){return se},blockGroupMessages:function(){return f},changeGroupOwner:function(){return O},changeOwner:function(){return v},createGroup:function(){return c},createGroupNew:function(){return l},deleteGroupSharedFile:function(){return Tt},destroyGroup:function(){return Z},disableSendGroupMsg:function(){return ne},dissolveGroup:function(){return L},downloadGroupSharedFile:function(){return _t},enableSendGroupMsg:function(){return K},fetchGroupAnnouncement:function(){return mt},fetchGroupSharedFileList:function(){return ht},getGroup:function(){return d},getGroupAdmin:function(){return T},getGroupAllowlist:function(){return me},getGroupBlacklist:function(){return Ee},getGroupBlacklistNew:function(){return de},getGroupBlocklist:function(){return Ce},getGroupInfo:function(){return S},getGroupMsgReadUser:function(){return at},getGroupMuteList:function(){return nt},getGroupMutelist:function(){return $e},getGroupSharedFilelist:function(){return yt},getGroupWhitelist:function(){return pe},getJoinedGroups:function(){return p},getMuted:function(){return Ye},getPublicGroups:function(){return m},groupBlockMulti:function(){return ue},groupBlockSingle:function(){return Ie},inviteToGroup:function(){return te},inviteUsersToGroup:function(){return ce},isGroupWhiteUser:function(){return Te},isInGroupAllowlist:function(){return Ge},isInGroupMutelist:function(){return ut},isInGroupWhiteList:function(){return Be},joinGroup:function(){return ie},leaveGroup:function(){return G},listGroupMember:function(){return k},listGroupMembers:function(){return E},listGroups:function(){return g},modifyGroup:function(){return I},mute:function(){return ze},muteGroupMember:function(){return et},quitGroup:function(){return J},rejectGroupInvite:function(){return Re},rejectGroupJoinRequest:function(){return fe},rejectInviteIntoGroup:function(){return xe},rejectJoinGroup:function(){return Oe},removeAdmin:function(){return U},removeGroupAdmin:function(){return D},removeGroupAllowlistMember:function(){return ae},removeGroupBlockMulti:function(){return he},removeGroupBlockSingle:function(){return j},removeGroupMember:function(){return He},removeGroupMembers:function(){return ot},removeGroupWhitelistMember:function(){return re},removeMultiGroupMember:function(){return Ke},removeMute:function(){return We},removeSingleGroupMember:function(){return V},rmUsersFromGroupWhitelist:function(){return Y},setAdmin:function(){return y},setGroupAdmin:function(){return b},unblockGroupMember:function(){return H},unblockGroupMembers:function(){return le},unmuteGroupMember:function(){return Xe},updateGroupAnnouncement:function(){return vt},uploadGroupSharedFile:function(){return Et}}),e(1539),e(8674),e(2222),e(6699),e(2023),e(9554),e(4747),e(8309),e(2526),e(1817),e(9753),e(9600),e(2165),e(6992),e(8783),e(3948);var r=e(5531),t=e(7252),i=e(4370),a=e(3246),s=e(7360),o=e(1595);function n(M){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},n(M)}function l(M){if(!M||!M.data)throw Error("Invalid parameter");if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups?resource=").concat(Me.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:M.data.groupname,desc:M.data.desc,members:M.data.members,public:M.data.public,approval:M.data.approval,allowinvites:M.data.allowinvites,invite_need_confirm:M.data.inviteNeedConfirm,maxusers:M.data.maxusers,custom:M.data.ext}),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:function(qe){M.success&&M.success(qe)},error:M.error};return s.kg.debug("Call createGroup:",M),i.hj.call(this,Le,o.fI.CREATE_GROUP)}var c=l;function h(M){var Ne;if(typeof M.groupId!="string"||M.groupId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var oe=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(oe)}var we=this.context,Pe=we.orgName,je=we.appName,Me=we.accessToken,Le=we.jid,qe={entities:[(Ne={},Ne["notification_ignore_"+M.groupId]=!0,Ne)]},Qe={type:"PUT",url:"".concat(this.apiUrl,"/").concat(Pe,"/").concat(je,"/users/").concat(this.user,"?resource=").concat(Le.clientResource),data:JSON.stringify(qe),dataType:"json",headers:{Authorization:"Bearer "+Me,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call blockGroupMessages",M),i.hj.call(this,Qe,o.fI.BLOCK_GROUP)}var f=h;function g(M){if(typeof M.limit!="number")throw Error("Invalid parameter");if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me={limit:M.limit,cursor:M.cursor};M.cursor||delete Me.cursor;var Le={url:this.apiUrl+"/"+we+"/"+Pe+"/publicchatgroups",type:"GET",dataType:"json",data:Me,headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call listGroups",M),i.hj.call(this,Le,o.fI.LIST_GROUP)}var m=g;function d(M){if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me={url:this.apiUrl+"/"+we+"/"+Pe+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M&&(M==null?void 0:M.success),error:M&&(M==null?void 0:M.error)};return s.kg.debug("Call getJoinedGroups",M),i.hj.call(this,Me,o.fI.GET_USER_GROUP)}function p(M){if(typeof M.pageNum!="number"||typeof M.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(M.pageNum<0||M.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.needAffiliations||M.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(M.pageNum,"&pagesize=").concat(M.pageSize,"&needAffiliations=").concat(M.needAffiliations,"&needRole=").concat(M.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(M.pageNum,"&pagesize=").concat(M.pageSize),Le={url:this.apiUrl+"/"+we+"/"+Pe+Me,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M&&(M==null?void 0:M.success),error:M&&(M==null?void 0:M.error)};return s.kg.debug("Call getGroup",M),i.hj.call(this,Le,o.fI.GET_USER_GROUP).then(function(qe){var Qe=qe.uri,_e=qe.entities,De=[];return Qe.includes("joined_chatgroups")||(_e.forEach(function(ke){var it={affiliationsCount:ke.affiliations_count,groupName:ke.name,groupId:ke.groupId,role:ke.permission,disabled:ke.disabled,approval:ke.membersonly,allowInvites:ke.allowinvites,description:ke.description,maxUsers:ke.maxusers,public:ke.public};De.push(it)}),qe.entities=De),qe})}function v(M){if(typeof M.groupId!="string"||typeof M.newOwner!="string")throw Error("Invalid parameter");if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe={newowner:M.newOwner},we=this.context,Pe=we.orgName,je=we.appName,Me=we.accessToken,Le=we.jid,qe={url:"".concat(this.apiUrl,"/").concat(Pe,"/").concat(je,"/chatgroups/").concat(M.groupId,"?resource=").concat(Le.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+Me,"Content-Type":"application/json"},data:JSON.stringify(oe),success:M.success,error:M.error};return s.kg.debug("Call changeOwner",M),i.hj.call(this,qe,o.fI.CHANGE_OWNER)}var O=v;function S(M){if(typeof M.groupId!="string"&&!Array.isArray(M.groupId))throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+M.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupInfo",M),i.hj.call(this,Me,o.fI.GET_GROUP_INFO)}function I(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error("Invalid parameter");if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={groupname:M.groupName,description:M.description,custom:M.ext},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"?resource=").concat(Me.clientResource),type:"PUT",data:JSON.stringify(qe),dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call modifyGroup",M),i.hj.call(this,Qe,o.fI.MODIFY_GROUP)}function k(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(isNaN(M.pageNum)||M.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(M.pageSize)||M.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe={pagenum:M.pageNum,pagesize:M.pageSize},we=this.context,Pe=we.orgName,je=we.appName,Me=we.accessToken,Le={url:this.apiUrl+"/"+Pe+"/"+je+"/chatgroups/"+M.groupId+"/users",dataType:"json",type:"GET",data:oe,headers:{Authorization:"Bearer "+Me,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call listGroupMember",M),i.hj.call(this,Le,o.fI.LIST_GROUP_MEMBER)}var E=k;function T(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+Me+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupAdmin",M),i.hj.call(this,Le,o.fI.GET_GROUP_ADMIN)}function y(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.username!="string"||M.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={newadmin:M.username},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/admin?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call setGroupAdmin",M),i.hj.call(this,Qe,o.fI.SET_GROUP_ADMIN)}var b=y;function U(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.username!="string"||M.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.username,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/admin/").concat(qe,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call removeAdmin",M),i.hj.call(this,Qe,o.fI.REMOVE_GROUP_ADMIN)}var D=U;function L(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"?version=v3&resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call destroyGroup",M),i.hj.call(this,qe,o.fI.DISSOLVE_GROUP)}var Z=L;function J(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/quit?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call quitGroup",M),i.hj.call(this,qe,o.fI.QUIT_GROUP)}var G=J;function te(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(M.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=M.groupId,we={usernames:M.users},Pe=this.context,je=Pe.orgName,Me=Pe.appName,Le=Pe.accessToken,qe=Pe.jid,Qe={url:"".concat(this.apiUrl,"/").concat(je,"/").concat(Me,"/chatgroups/").concat(oe,"/invite?resource=").concat(qe.clientResource),type:"POST",data:JSON.stringify(we),dataType:"json",headers:{Authorization:"Bearer "+Le,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call inviteUsersToGroup",M),i.hj.call(this,Qe,o.fI.INVITE_TO_GROUP)}var ce=te;function ie(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(M.groupId,"/apply?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:M.message||""}),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call joinGroup",M),i.hj.call(this,Le,o.fI.JOIN_GROUP)}function ye(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.applicant!="string"||M.applicant==="")throw Error('Invalid parameter: "applicant"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={applicant:M.applicant,verifyResult:!0,reason:"no clue"},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/apply_verify?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call agreeJoinGroup",M),i.hj.call(this,Qe,o.fI.AGREE_JOIN_GROUP)}var be=ye;function Oe(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.applicant!="string"||M.applicant==="")throw Error('Invalid parameter: "applicant"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={applicant:M.applicant,verifyResult:!1,reason:M.reason||""},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/apply_verify?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call rejectGroupJoinRequest",M),i.hj.call(this,Qe,o.fI.REJECT_JOIN_GROUP)}var fe=Oe;function Ue(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.invitee!="string"||M.invitee==="")throw Error('Invalid parameter: "invitee"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={invitee:M.invitee,verifyResult:!0},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/invite_verify?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call acceptGroupInvite",M),i.hj.call(this,Qe,o.fI.AGREE_INVITE_GROUP)}var Ae=Ue;function xe(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.invitee!="string"||M.invitee==="")throw Error('Invalid parameter: "invitee"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={invitee:M.invitee,verifyResult:!1},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/invite_verify?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call rejectGroupInvite",M),i.hj.call(this,Qe,o.fI.REJECT_INVITE_GROUP)}var Re=xe;function V(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.username!="string"||M.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=M.groupId,we=M.username,Pe=this.context,je=Pe.orgName,Me=Pe.appName,Le=Pe.accessToken,qe=Pe.jid,Qe={url:"".concat(this.apiUrl,"/").concat(je,"/").concat(Me,"/chatgroups/").concat(oe,"/users/").concat(we,"?resource=").concat(qe.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Le,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call removeGroupMember",M),i.hj.call(this,Qe,o.fI.REMOVE_GROUP_MEMBER)}var He=V;function Ke(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(M.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.users.join(","),Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/users/").concat(qe,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call removeGroupMembers",M),i.hj.call(this,Qe,o.fI.MULTI_REMOVE_GROUP_MEMBER)}var ot=Ke;function ze(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(M.username)||typeof M.username=="string"&&M.username!==""))throw Error('Invalid parameter: "username"');if(typeof M.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={usernames:typeof M.username=="string"?[M.username]:M.username,mute_duration:M.muteDuration},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/mute?resource=").concat(Me.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},data:JSON.stringify(qe),success:M.success,error:M.error};return s.kg.debug("Call muteGroupMember",M),i.hj.call(this,Qe,o.fI.MUTE_GROUP_MEMBER)}var et=ze;function We(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(M.username)||typeof M.username=="string"&&M.username!==""))throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.username,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/mute/").concat(qe,"?resource=").concat(Me.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call unmuteGroupMember",M),i.hj.call(this,Qe,o.fI.UNMUTE_GROUP_MEMBER)}var Xe=We;function Ye(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+Me+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupMuteList",M),i.hj.call(this,Le,o.fI.GET_GROUP_MUTE_LIST)}var nt=Ye,$e=Ye;function Ie(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.username!="string"||M.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.username,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/blocks/users/").concat(qe,"?resource=").concat(Me.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call blockGroupMember",M),i.hj.call(this,Qe,o.fI.BLOCK_GROUP_MEMBER)}var x=Ie;function ue(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(M.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={usernames:M.usernames},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/blocks/users?resource=").concat(Me.clientResource),data:JSON.stringify(qe),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call blockGroupMembers",M),i.hj.call(this,Qe,o.fI.BLOCK_GROUP_MEMBERS)}var se=ue;function j(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.username!="string"||M.username==="")throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.username,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/blocks/users/").concat(qe,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call unblockGroupMember",M),i.hj.call(this,Qe,o.fI.UNBLOCK_GROUP_MEMBER)}var H=j;function he(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(M.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.usernames.join(","),Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/blocks/users/").concat(qe,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call unblockGroupMembers",M),i.hj.call(this,Qe,o.fI.UNBLOCK_GROUP_MEMBERS)}var le=he;function de(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+Me+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupBlacklist",M),i.hj.call(this,Le,o.fI.GET_GROUP_BLACK_LIST)}var Ee=de,Ce=de;function ne(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/ban?resource=").concat(Me.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call disableSendGroupMsg",M),i.hj.call(this,qe,o.fI.DISABLED_SEND_GROUP_MSG)}function K(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/ban?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call enableSendGroupMsg",M),i.hj.call(this,qe,o.fI.ENABLE_SEND_GROUP_MSG)}function C(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(M.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={usernames:M.users},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/white/users?resource=").concat(Me.clientResource),type:"POST",data:JSON.stringify(qe),dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call addUsersToGroupWhitelist",M),i.hj.call(this,Qe,o.fI.ADD_USERS_TO_GROUP_WHITE)}var X=C;function Y(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.userName!="string"||M.userName==="")throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/white/users/").concat(M.userName,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call removeGroupAllowlistMember",M),i.hj.call(this,qe,o.fI.REMOVE_GROUP_WHITE_MEMBER)}var re=Y,ae=Y;function pe(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+Me+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupAllowlist",M),i.hj.call(this,Le,o.fI.GET_GROUP_WHITE_LIST)}var me=pe;function Te(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.userName!="string"||M.userName==="")throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+Me+"/white/users/"+M.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call isInGroupAllowlist",M),i.hj.call(this,Le,o.fI.IS_IN_GROUP_WHITE_LIST)}var Be=Te,Ge=Te;function ut(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.userId,Le={url:this.apiUrl+"/"+we+"/"+Pe+"/sdk/group/"+M.groupId+"/mute/"+Me,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+je}};return s.kg.debug("Call isInGroupMutelist",M),i.hj.call(this,Le).then(function(qe){return qe.data})}function at(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.msgId!="string"||M.msgId==="")throw Error('Invalid parameter: "msgId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me={url:this.apiUrl+"/"+we+"/"+Pe+"/chatgroups/"+M.groupId+"/acks/"+M.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+je},success:M.success,error:M.error};return s.kg.debug("Call getGroupMsgReadUser",M),i.hj.call(this,Me,o.fI.GET_GROUP_MSG_READ_USER)}function mt(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.groupId,Le={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Me,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call fetchGroupAnnouncement",M),i.hj.call(this,Le,o.fI.GET_GROUP_ANN)}function vt(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.announcement!="string")throw Error('Invalid parameter: "announcement"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe={announcement:M.announcement},Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/announcement?resource=").concat(Me.clientResource),type:"POST",dataType:"json",data:JSON.stringify(qe),headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call updateGroupAnnouncement",M),i.hj.call(this,Qe,o.fI.UPDATE_GROUP_ANN)}function Et(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(n(M.file)!=="object")throw Error('Invalid parameter: "file"');if(a.XZ.call(this)){var Ne=this.context,oe=Ne.orgName,we=Ne.appName,Pe=Ne.accessToken,je=Ne.jid,Me=M.groupId;i.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(oe,"/").concat(we,"/chatgroups/").concat(Me,"/share_files?resource=").concat(je.clientResource),onFileUploadProgress:M.onFileUploadProgress,onFileUploadComplete:M.onFileUploadComplete,onFileUploadError:M.onFileUploadError,onFileUploadCanceled:M.onFileUploadCanceled,accessToken:Pe,apiUrl:this.apiUrl,file:M.file,appKey:this.context.appKey},o.fI.UPLOAD_GROUP_FILE),s.kg.debug("Call uploadGroupSharedFile",M)}}function Tt(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof M.fileId!="string"||M.fileId==="")throw Error('Invalid parameter: "file"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=oe.jid,Le=M.groupId,qe=M.fileId,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(Le,"/share_files/").concat(qe,"?resource=").concat(Me.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call deleteGroupSharedFile",M),i.hj.call(this,Qe,o.fI.DELETE_GROUP_FILE)}function ht(M){if(typeof M.groupId!="string"||M.groupId==="")throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var Ne=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Ne)}var oe=this.context,we=oe.orgName,Pe=oe.appName,je=oe.accessToken,Me=M.pageNum||1,Le=M.pageSize||10,qe=M.groupId,Qe={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Pe,"/chatgroups/").concat(qe,"/share_files?pagenum=").concat(Me,"&pagesize=").concat(Le),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+je,"Content-Type":"application/json"},success:M.success,error:M.error};return s.kg.debug("Call getGroupSharedFilelist",M),i.hj.call(this,Qe,o.fI.GET_GROUP_FILE_LIST)}var yt=ht;function _t(M){var Ne=this.context,oe=Ne.orgName,we=Ne.appName,Pe=Ne.accessToken,je=this.apiUrl,Me=M.groupId,Le=M.fileId;i.LR.call(this,{url:"".concat(je,"/").concat(oe,"/").concat(we,"/chatgroups/").concat(Me,"/share_files/").concat(Le),onFileDownloadComplete:M.onFileDownloadComplete,onFileDownloadError:M.onFileDownloadError,accessToken:Pe,id:Le,secret:M.secret},o.fI.DOWN_GROUP_FILE),s.kg.debug("Call downloadGroupSharedFile",M)}},7479:function(u,_,e){e.r(_),e.d(_,{acceptContactInvite:function(){return fe},acceptInvitation:function(){return Oe},addContact:function(){return ie},addReaction:function(){return et},addToBlackList:function(){return xe},addUsersToBlacklist:function(){return Re},addUsersToBlocklist:function(){return V},declineContactInvite:function(){return Ae},declineInvitation:function(){return Ue},deleteContact:function(){return be},deleteConversation:function(){return b},deleteReaction:function(){return We},deleteSession:function(){return y},fetchHistoryMessages:function(){return G},fetchUserInfoById:function(){return L},getBlacklist:function(){return p},getBlocklist:function(){return v},getChatToken:function(){return J},getContacts:function(){return S},getConversationlist:function(){return T},getHistoryMessages:function(){return ce},getReactionDetail:function(){return nt},getReactionList:function(){return Xe},getReactionlist:function(){return Ye},getRoster:function(){return O},getSessionList:function(){return E},recallMessage:function(){return ze},removeFromBlackList:function(){return He},removeHistoryMessages:function(){return Ie},removeRoster:function(){return ye},removeUserFromBlackList:function(){return Ke},removeUserFromBlocklist:function(){return ot},reportMessage:function(){return $e},updateCurrentUserNick:function(){return Z},updateOwnUserInfo:function(){return U},updateUserInfo:function(){return D},uploadPushToken:function(){return k},uploadToken:function(){return I}}),e(9601),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(9554),e(4747),e(2222),e(6699),e(9600),e(5069),e(561),e(8309),e(3710),e(9714),e(9753);var r=e(3246),t=e(5531),i=e(7252),a=e(4370),s=e(8161),o=e(4968),n=e(4188),l=e.n(n),c=e(7360),h=e(1595),f=e(4363),g=function(){return g=Object.assign||function(x){for(var ue,se=1,j=arguments.length;se<j;se++)for(var H in ue=arguments[se])Object.prototype.hasOwnProperty.call(ue,H)&&(x[H]=ue[H]);return x},g.apply(this,arguments)},m=function(x,ue,se,j){return new(se||(se=Promise))(function(H,he){function le(Ce){try{Ee(j.next(Ce))}catch(ne){he(ne)}}function de(Ce){try{Ee(j.throw(Ce))}catch(ne){he(ne)}}function Ee(Ce){var ne;Ce.done?H(Ce.value):(ne=Ce.value,ne instanceof se?ne:new se(function(K){K(ne)})).then(le,de)}Ee((j=j.apply(x,ue||[])).next())})},d=function(x,ue){var se,j,H,he,le={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return he={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function de(Ee){return function(Ce){return function(ne){if(se)throw new TypeError("Generator is already executing.");for(;le;)try{if(se=1,j&&(H=2&ne[0]?j.return:ne[0]?j.throw||((H=j.return)&&H.call(j),0):j.next)&&!(H=H.call(j,ne[1])).done)return H;switch(j=0,H&&(ne=[2&ne[0],H.value]),ne[0]){case 0:case 1:H=ne;break;case 4:return le.label++,{value:ne[1],done:!1};case 5:le.label++,j=ne[1],ne=[0];continue;case 7:ne=le.ops.pop(),le.trys.pop();continue;default:if(!((H=(H=le.trys).length>0&&H[H.length-1])||ne[0]!==6&&ne[0]!==2)){le=0;continue}if(ne[0]===3&&(!H||ne[1]>H[0]&&ne[1]<H[3])){le.label=ne[1];break}if(ne[0]===6&&le.label<H[1]){le.label=H[1],H=ne;break}if(H&&le.label<H[2]){le.label=H[2],le.ops.push(ne);break}H[2]&&le.ops.pop(),le.trys.pop();continue}ne=ue.call(x,le)}catch(K){ne=[6,K],j=0}finally{se=H=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([Ee,Ce])}}};function p(x){if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le={url:this.apiUrl+"/"+j+"/"+H+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+he},success:function(de){de.data.forEach(function(Ee){}),typeof(x==null?void 0:x.success)=="function"&&x.success(de)},error:function(de){typeof(x==null?void 0:x.error)=="function"&&x.error(de)}};return c.kg.debug("Call getBlocklist"),a.hj.call(this,le,h.fI.GET_BLACK_LIST)}var v=p,O=S;function S(x){var ue=this;if(!r.XZ.call(this)){var se=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(se)}var j=this.context,H=j.orgName,he=j.appName,le=j.accessToken,de={url:this.apiUrl+"/"+H+"/"+he+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+le},success:function(Ee){var Ce=[];Ee.data.forEach(function(ne){Ce.push({name:ne,subscription:"both",jid:ue.context.jid})}),typeof(x==null?void 0:x.success)=="function"&&x.success(Ce)},error:function(Ee){typeof(x==null?void 0:x.error)=="function"&&x.error(Ee)}};return c.kg.debug("Call getContacts"),a.hj.call(this,de,h.fI.GET_CONTACTS)}function I(x){if(typeof x.deviceId!="string"||x.deviceId==="")throw Error('Invalid parameter: "deviceId"');if(typeof x.deviceToken!="string"||x.deviceToken==="")throw Error('Invalid parameter: "deviceToken"');if(typeof x.notifierName!="string"||x.notifierName==="")throw Error('Invalid parameter: "notifierName"');if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/users/").concat(this.user),type:"PUT",data:JSON.stringify({device_id:x.deviceId,device_token:x.deviceToken,notifier_name:x.notifierName}),dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"},success:x.success,error:x.error};return c.kg.debug("Call uploadPushToken",x),a.hj.call(this,le,h.fI.UPLOAD_PUSH_TOKEN)}var k=I;function E(x){if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/users/").concat(this.user,"/user_channels"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"},success:x&&(x==null?void 0:x.success),error:x&&(x==null?void 0:x.error)};return c.kg.debug("Call getSessionList"),a.hj.call(this,le,h.fI.GET_SESSION_LIST)}function T(x){if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=!!(x&&typeof x.pageNum=="number"&&typeof x.pageSize=="number"&&x.pageNum>0&&x.pageSize>0),de={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/users/").concat(this.user,"/user_channels").concat(le?"/page":""),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"},success:x&&(x==null?void 0:x.success),error:x&&(x==null?void 0:x.error)};return le&&(de.data={pageNum:x.pageNum,pageSize:x.pageSize}),c.kg.debug("Call getConversationlist"),a.hj.call(this,de,h.fI.GET_SESSION_LIST).then(function(Ee){return function(Ce){var ne=Ce.data.channel_infos;return ne==null||ne.forEach(function(K){K.meta&&JSON.stringify(K.meta)!=="{}"?(K.meta.payload=JSON.parse(K.meta.payload),K.lastMessage=(0,f.w)(K.meta)):K.lastMessage=K.meta,delete K.meta}),Ce}(Ee)})}function y(x){if(x&&typeof x.channel!="string")throw Error("Invalid parameter channel: ".concat(x.channel));if(x&&x.chatType!=="singleChat"&&x.chatType!=="groupChat")throw Error("Invalid parameter chatType: ".concat(x.chatType));if(x&&typeof x.deleteRoam!="boolean")throw Error("Invalid parameter deleteRoam: ".concat(x.deleteRoam));if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se,j=this.context,H=j.orgName,he=j.appName,le=j.accessToken;se=x.chatType==="singleChat"?"chat":"groupChat";var de={url:"".concat(this.apiUrl,"/").concat(H,"/").concat(he,"/users/").concat(this.user,"/user_channel"),dataType:"json",type:"DELETE",data:JSON.stringify({channel:x.channel,type:se,delete_roam:x.deleteRoam}),headers:{Authorization:"Bearer "+le,"Content-Type":"application/json"},success:x.success,error:x.error};return c.kg.debug("Call deleteSession",x),a.hj.call(this,de,h.fI.DELETE_SESSION)}var b=y;function U(x,ue){if(!r.XZ.call(this)){var se=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(se)}var j=this.context,H=j.orgName,he=j.appName,le=j.accessToken,de=["nickname","avatarurl","mail","phone","gender","sign","birth","ext"],Ee={};if(typeof wx<"u"||typeof qq<"u")if(typeof x=="string"&&ue!==void 0){if(!de.includes(x))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");Ee[x]=ue}else{if(Object.prototype.toString.call(x)!=="[object Object]")throw new Error("illegal params");de.forEach(function(K){de.includes(K)&&x[K]!==void 0&&(Ee[K]=x[K])})}else if(typeof x=="string"){if(!de.includes(x))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");Ee=x+"="+ue}else{if(Object.prototype.toString.call(x)!=="[object Object]")throw new Error("illegal params");var Ce=[];de.forEach(function(K){if(de.includes(K)&&x[K]!==void 0){var C=encodeURIComponent(K),X=encodeURIComponent(x[K]);Ce.push(C+"="+X)}}),Ee=Ce.join("&")}var ne={url:"".concat(this.apiUrl,"/").concat(H,"/").concat(he,"/metadata/user/").concat(this.user),type:"PUT",data:Ee,dataType:"json",headers:{Authorization:"Bearer "+le,"Content-Type":"application/x-www-form-urlencoded"}};return c.kg.debug("Call updateOwnUserInfo",x),a.hj.call(this,ne,h.fI.UPDATE_USER_INFO)}var D=U;function L(x,ue){if(!r.XZ.call(this)){var se=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(se)}var j,H=this.context,he=H.orgName,le=H.appName,de=H.accessToken,Ee=[];if(typeof x=="string")Ee=[x];else{if(Object.prototype.toString.call(x)!=="[object Array]")throw new Error("illegal params");Ee=x}j=typeof ue=="string"?[ue]:ue&&Object.prototype.toString.call(ue)==="[object Array]"?ue:["nickname","avatarurl","mail","phone","gender","sign","birth","ext"];var Ce={url:"".concat(this.apiUrl,"/").concat(he,"/").concat(le,"/metadata/user/get"),type:"POST",data:JSON.stringify({targets:Ee,properties:j}),dataType:"json",headers:{Authorization:"Bearer "+de,"Content-Type":"application/json"}};return c.kg.debug("Call fetchUserInfoById",x),a.hj.call(this,Ce,h.fI.GET_USER_INFO)}function Z(x){if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/users/").concat(this.user),type:"PUT",dataType:"json",data:JSON.stringify({nickname:x}),headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}};return c.kg.debug("Call updateCurrentUserNick",x),a.hj.call(this,le)}function J(x){if(typeof x!="string"||x==="")throw Error('Invalid parameter: "agoraToken"');var ue=this.context,se=ue.orgName,j=ue.appName,H={url:this.apiUrl+"/"+se+"/"+j+"/token",dataType:"json",type:"POST",data:JSON.stringify({grant_type:"agora"}),headers:{Authorization:"Bearer "+x,"Content-Type":"application/json"}};return c.kg.debug("Call getChatToken",x),a.hj.call(this,H,h.fI.SDK_INTERNAL)}function G(x){var ue=this;return new Promise(function(se,j){if(!x.queue)throw Error('Invalid parameter: "specified"');if(!r.XZ.call(ue)){var H=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(H)}(function he(le){var de=this,Ee=le.count||20;te.call(this,{count:Ee,isGroup:!!le.isGroup,queue:le.queue,start:le.start,format:le.format,success:function(Ce){if(Ce.msgs.length>=Ee||Ce.is_last){var ne=Ce.msgs.splice(0,Ee).reverse();le.success&&le.success(ne),se(ne)}else he.call(de,g(g({},le),{start:null}))},fail:function(Ce){j(Ce),le.fail&&le.fail(Ce)}})}).call(ue,x),c.kg.debug("Call fetchHistoryMessages",x)})}function te(x){var ue=this,se=x.queue,j=this.mr_cache[se]||(this.mr_cache[se]={msgs:[]}),H=this.context.userId,he=x.start||-1,le=x.count||20;if(j.msgs.length>=le||j.is_last)typeof x.success=="function"&&x.success(j);else{j&&j.next_key&&(he=j.next_key),x.start&&(he=x.start);var de={queue:se+(x.isGroup?"@conference.easemob.com":"@easemob.com"),start:he,end:-1},Ee=this.context,Ce=Ee.orgName,ne=Ee.appName,K={url:this.apiUrl+"/"+Ce+"/"+ne+"/users/"+H+"/messageroaming",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(de),success:function(C){var X=C==null?void 0:C.data;if(!C.data.msgs)return typeof x.success=="function"&&x.success(j),j.is_last=!0,void(j.next_key="");var Y=X.msgs,re=Y.length;j.is_last=X.is_last,j.next_key=X.next_key;for(var ae=function(Te){for(var Be=[],Ge=0,ut=(Te=l().atob(Te)).length;Ge<ut;++Ge)Be.push(Te.charCodeAt(Ge));var at=ue.context.root.lookup("easemob.pb.Meta");if((at=at.decode(Be)).ns===1)return s.Z.call(ue,at,{errorCode:0,reason:""},!0,x.format)},pe=0;pe<re;pe++){var me=ae(Y[pe].msg);me&&j.msgs.push(me)}typeof x.success=="function"&&x.success(j)},error:function C(X){if(X.error&&X.error_description){var Y=i.Z.create({type:t.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:"fetch history messages error",data:X});ue.onError&&ue.onError(Y)}typeof x.fail=="function"&&x.fail(C)}};a.hj.call(this,K,h.fI.GET_HISTORY_MSG)}}function ce(x){var ue=this;return new Promise(function(se,j){if(typeof x.targetId!="string"||x.targetId==="")throw Error('"Invalid parameter": "targetId"');if(!r.XZ.call(ue))return j(i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"}));var H=ue.context,he=H.orgName,le=H.appName,de=H.userId,Ee=x.chatType==="groupChat"||x.chatType==="chatRoom"?"@conference.easemob.com":"@easemob.com",Ce={queue:x.targetId+Ee,start:x.cursor||-1,pull_number:x.pageSize||20,isGroup:x.chatType==="groupChat"||x.chatType==="chatRoom"||!1,is_positive:x.searchDirection==="down",end:-1},ne={url:ue.apiUrl+"/"+he+"/"+le+"/users/"+de+"/messageroaming",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+ue.token,"Content-Type":"application/json"},data:JSON.stringify(Ce),success:function(K){for(var C=K==null?void 0:K.data,X=C.msgs||[],Y=function(Te){for(var Be=[],Ge=0,ut=(Te=l().atob(Te)).length;Ge<ut;++Ge)Be.push(Te.charCodeAt(Ge));var at=ue.context.root.lookup("easemob.pb.Meta");if((at=at.decode(Be)).ns===1)return s.Z.call(ue,at,{errorCode:0,reason:""},!0,!0)},re=[],ae=0;ae<X.length;ae++){var pe=Y(X[ae].msg);pe&&re.push(pe)}C.msgs=re;var me={cursor:C.next_key,messages:re};se(me)},error:x.fail};a.hj.call(ue,ne),c.kg.debug("Call getHistoryMessages",x)})}function ie(x,ue){var se={id:this.getUniqueId(),to:x,message:ue};o.Z.operatRoster.call(this,se,"add"),c.kg.debug("Call addContact",se)}var ye=be;function be(x){var ue={id:this.getUniqueId(),to:x};o.Z.operatRoster.call(this,ue,"remove"),c.kg.debug("Call deleteContact",ue)}function Oe(x){var ue={id:this.getUniqueId(),to:x};o.Z.operatRoster.call(this,ue,"accept"),c.kg.debug("Call acceptInvitation",ue)}var fe=Oe;function Ue(x){var ue={id:this.getUniqueId(),to:x};o.Z.operatRoster.call(this,ue,"decline"),c.kg.debug("Call declineContactInvite",ue)}var Ae=Ue;function xe(x){o.Z.operatRoster.call(this,{to:x.name},"ban"),c.kg.debug("Call addUsersToBlocklist",x)}var Re=xe,V=xe;function He(x){o.Z.operatRoster.call(this,{to:x.name},"allow"),c.kg.debug("Call removeUserFromBlocklist",x)}var Ke=He,ot=He;function ze(x){var ue=this.getUniqueId(),se={id:ue,to:x.to};this._msgHash[ue]=g({},se);var j="";x.chatType!==void 0?j=x.chatType:x.type!==void 0&&(j=x.type==="chat"?"singleChat":x.type);var H={id:ue,type:"recall",chatType:j,ackId:x.mid,to:x.to,isChatThread:x.isChatThread||!1,success:x.success,fail:x.fail};return c.kg.debug("Call recallMessage",x),this.mSync.send(H,this)}function et(x){return m(this,void 0,void 0,function(){var ue,se,j,H,he,le,de,Ee,Ce;return d(this,function(ne){switch(ne.label){case 0:if(typeof x.messageId!="string"||!x.messageId)throw Error("Invalid parameter messageId: ".concat(x.messageId));if(typeof x.reaction!="string"||!x.reaction)throw Error("Invalid parameter reaction: ".concat(x.reaction));return r.XZ.call(this)?(se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=x.reaction,de=x.messageId,Ee={msgId:de,message:le},Ce={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/reaction/user/").concat(this.user),type:"POST",data:JSON.stringify(Ee),dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}},[4,a.hj.call(this,Ce)]):(ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(ue)]);case 1:return ne.sent(),[2]}})})}function We(x){return m(this,void 0,void 0,function(){var ue,se,j,H,he,le,de,Ee;return d(this,function(Ce){switch(Ce.label){case 0:if(typeof x.reaction!="string"||!x.reaction)throw Error("Invalid parameter reactionId: ".concat(x.reaction));return r.XZ.call(this)?(se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=x.messageId,de=x.reaction,Ee={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/reaction/user/").concat(this.user,"?msgId=").concat(le,"&message=").concat(de),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}},[4,a.hj.call(this,Ee)]):(ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(ue)]);case 1:return Ce.sent(),[2]}})})}function Xe(x){if(typeof x.chatType!="string"||!x.chatType)throw Error("Invalid parameter chatType: ".concat(x.chatType));if(!x.messageId)throw Error("Invalid parameter messageId: ".concat(x.messageId));if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=x.chatType,de=x.messageId,Ee={msgIdList:typeof de=="string"?[de]:de,msgType:le==="singleChat"?"chat":"groupchat",groupId:x.groupId||null},Ce={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/reaction/user/").concat(this.user),type:"GET",data:Ee,dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}};return a.hj.call(this,Ce).then(function(ne){var K=ne.data;return K==null||K.forEach(function(C){C==null||C.reactionList.forEach(function(X){X.isAddedBySelf=X.state,delete X.state,delete X.reactionId})}),ne})}var Ye=Xe;function nt(x){if(typeof x.reaction!="string"||!x.reaction)throw Error("Invalid parameter reaction: ".concat(x.reaction));if(typeof x.messageId!="string"||!x.messageId)throw Error("Invalid parameter messageId: ".concat(x.messageId));if(!r.XZ.call(this)){var ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(ue)}var se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=x.cursor,de=x.pageSize,Ee={msgId:x.messageId,message:x.reaction,currentPage:le||null,pageSize:de||20},Ce={url:"".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/reaction/user/").concat(this.user,"/detail"),type:"GET",data:Ee,dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}};return a.hj.call(this,Ce).then(function(ne){return ne.data.isAddedBySelf=ne.data.state,delete ne.data.state,delete ne.data.reactionId,ne})}function $e(x){return m(this,void 0,void 0,function(){var ue,se,j,H,he,le,de,Ee,Ce,ne,K;return d(this,function(C){switch(C.label){case 0:if(typeof x.reportType!="string"||!x.reportType)throw Error("Invalid parameter reportType: ".concat(x.reportType));if(typeof x.messageId!="string"||!x.messageId)throw Error("Invalid parameter messageId: ".concat(x.messageId));if(typeof x.reportReason!="string"||!x.reportReason)throw Error("Invalid parameter messageId: ".concat(x.reportReason));return r.XZ.call(this)?(se=this.context,j=se.orgName,H=se.appName,he=se.accessToken,le=x.reportType,de=x.reportReason,Ee=x.messageId,Ce={username:this.user,reportType:le,reportReason:de},ne="".concat(this.apiUrl,"/").concat(j,"/").concat(H,"/user/").concat(this.user,"/moderation/report/message/").concat(Ee),K={url:ne,type:"POST",data:JSON.stringify(Ce),dataType:"json",headers:{Authorization:"Bearer "+he,"Content-Type":"application/json"}},[4,a.hj.call(this,K)]):(ue=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(ue)]);case 1:return C.sent(),[2]}})})}function Ie(x){var ue;return m(this,void 0,void 0,function(){var se,j,H,he,le,de,Ee,Ce,ne;return d(this,function(K){switch(K.label){case 0:if(typeof x.targetId!="string"||x.targetId==="")throw Error('"Invalid parameter targetId": '+x.targetId);if(!["singleChat","groupChat"].includes(x.chatType))throw Error('"Invalid parameter chatType": '+x.chatType);if(x.beforeTimeStamp&&(typeof x.beforeTimeStamp!="number"||x.beforeTimeStamp<0||((ue=x.beforeTimeStamp)===null||ue===void 0?void 0:ue.toString().length)>18))throw Error('"Invalid parameter beforeTimeStamp": '+x.beforeTimeStamp);if(x.messageIds&&!(Array.isArray(x.messageIds)&&x.messageIds.length>0&&x.messageIds.length<=20))throw Error('"Invalid parameter messageIds": '+x.messageIds);if(!x.messageIds&&!x.beforeTimeStamp)throw Error("messageIds or beforeTimeStamp field is required.");return r.XZ.call(this)?(j=this.context,H=j.orgName,he=j.appName,le=j.userId,de=x.chatType==="singleChat"?"userId":"groupId",Ee=x.chatType==="singleChat"?"chat":"group",Ce=x.messageIds?"".concat(this.apiUrl,"/").concat(H,"/").concat(he,"/sdk/message/roaming/").concat(Ee,"/user/").concat(le,"?").concat(de,"=").concat(x.targetId,"&msgIdList=").concat(x.messageIds,"&resource=").concat(this.clientResource):"".concat(this.apiUrl,"/").concat(H,"/").concat(he,"/sdk/message/roaming/").concat(Ee,"/user/").concat(le,"/time?").concat(de,"=").concat(x.targetId,"&delTime=").concat(x.beforeTimeStamp,"&&resource=").concat(this.clientResource),ne={url:Ce,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}},c.kg.debug("Call removeHistoryMessages",x),[4,a.hj.call(this,ne)]):(se=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(se)]);case 1:return K.sent(),[2]}})})}},3770:function(u,_,e){e.r(_),e.d(_,{getPresenceStatus:function(){return m},getSubscribedPresenceList:function(){return f},getSubscribedPresencelist:function(){return g},publishPresence:function(){return l},subscribePresence:function(){return c},unsubscribePresence:function(){return h}}),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(2222),e(9753);var r=e(4370),t=e(3246),i=e(7252),a=e(5531),s=e(7360),o=function(d,p,v,O){return new(v||(v=Promise))(function(S,I){function k(y){try{T(O.next(y))}catch(b){I(b)}}function E(y){try{T(O.throw(y))}catch(b){I(b)}}function T(y){var b;y.done?S(y.value):(b=y.value,b instanceof v?b:new v(function(U){U(b)})).then(k,E)}T((O=O.apply(d,p||[])).next())})},n=function(d,p){var v,O,S,I,k={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return I={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function E(T){return function(y){return function(b){if(v)throw new TypeError("Generator is already executing.");for(;k;)try{if(v=1,O&&(S=2&b[0]?O.return:b[0]?O.throw||((S=O.return)&&S.call(O),0):O.next)&&!(S=S.call(O,b[1])).done)return S;switch(O=0,S&&(b=[2&b[0],S.value]),b[0]){case 0:case 1:S=b;break;case 4:return k.label++,{value:b[1],done:!1};case 5:k.label++,O=b[1],b=[0];continue;case 7:b=k.ops.pop(),k.trys.pop();continue;default:if(!((S=(S=k.trys).length>0&&S[S.length-1])||b[0]!==6&&b[0]!==2)){k=0;continue}if(b[0]===3&&(!S||b[1]>S[0]&&b[1]<S[3])){k.label=b[1];break}if(b[0]===6&&k.label<S[1]){k.label=S[1],S=b;break}if(S&&k.label<S[2]){k.label=S[2],k.ops.push(b);break}S[2]&&k.ops.pop(),k.trys.pop();continue}b=p.call(d,k)}catch(U){b=[6,U],O=0}finally{v=S=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([T,y])}}};function l(d){return o(this,void 0,void 0,function(){var p,v,O,S,I,k,E,T,y;return n(this,function(b){switch(b.label){case 0:if(typeof d.description!="string")throw Error('Invalid parameter: "description"');return t.XZ.call(this)?(v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E=this.context.jid.clientResource,T={ext:d.description},y={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/presence/").concat(E,"/1"),type:"POST",dataType:"json",data:JSON.stringify(T),headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d.success,error:d.error},s.kg.debug("Call publishPresence:",d),[4,r.hj.call(this,y)]):(p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(p)]);case 1:return b.sent(),[2]}})})}function c(d){if(!Array.isArray(d.usernames))throw Error('Invalid parameter: "usernames"');if(!d.usernames.length)throw Error('"usernames" can not be empty');if(typeof d.expiry!="number")throw Error('Invalid parameter: "expiry"');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.orgName,S=v.appName,I=v.userId,k=v.accessToken,E={usernames:d.usernames},T={url:"".concat(this.apiUrl,"/").concat(O,"/").concat(S,"/users/").concat(I,"/presence/").concat(d.expiry),type:"POST",dataType:"json",data:JSON.stringify(E),headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call subscribePresence:",d),r.hj.call(this,T).then(function(y){return y.data={result:y==null?void 0:y.result},y})}function h(d){return o(this,void 0,void 0,function(){var p,v,O,S,I,k,E;return n(this,function(T){switch(T.label){case 0:if(!Array.isArray(d.usernames))throw Error('Invalid parameter: "usernames"');if(!d.usernames.length)throw Error('"usernames" can not be empty');return t.XZ.call(this)?(v=this.context,O=v.orgName,S=v.appName,I=v.userId,k=v.accessToken,E={url:"".concat(this.apiUrl,"/").concat(O,"/").concat(S,"/users/").concat(I,"/presence"),type:"DELETE",dataType:"json",data:JSON.stringify(d.usernames),headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:d.success,error:d.error},s.kg.debug("Call unsubscribePresence:",d),[4,r.hj.call(this,E)]):(p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(p)]);case 1:return T.sent(),[2]}})})}function f(d){if(typeof d.pageNum!="number"||typeof d.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(d.pageNum<0||d.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.orgName,S=v.appName,I=v.userId,k=v.accessToken,E={url:"".concat(this.apiUrl,"/").concat(O,"/").concat(S,"/users/").concat(I,"/presence/sublist?pageNum=").concat(d.pageNum,"&pageSize=").concat(d.pageSize),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call getSubscribedPresenceList:",d),r.hj.call(this,E).then(function(T){return T.data={result:T==null?void 0:T.result},T})}var g=f;function m(d){if(!Array.isArray(d.usernames))throw Error('Invalid parameter: "usernames"');if(!d.usernames.length)throw Error('"usernames" can not be empty');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v={usernames:d.usernames},O=this.context,S=O.orgName,I=O.appName,k=O.userId,E=O.accessToken,T={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/presence"),type:"POST",dataType:"json",data:JSON.stringify(v),headers:{Authorization:"Bearer "+E,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call getPresenceStatus:",d),r.hj.call(this,T).then(function(y){return y.data={result:y==null?void 0:y.result},y})}},1735:function(u,_,e){e.r(_),e.d(_,{clearRemindTypeForConversation:function(){return c},getPushPerformLanguage:function(){return m},getSilentModeForAll:function(){return n},getSilentModeForConversation:function(){return h},getSilentModeForConversations:function(){return f},setPushPerformLanguage:function(){return g},setSilentModeForAll:function(){return o},setSilentModeForConversation:function(){return l}}),e(7941),e(1539),e(8674),e(2222),e(9753),e(9554),e(4747),e(9600);var r=e(4370),t=e(3246),i=e(7252),a=e(5531),s=e(7360);function o(d){if(!(d.options instanceof Object))throw Error('Invalid parameter: "options"');var p=d.options.paramType;if(typeof p!="number"||p<0||p>2)throw Error('Invalid parameter: "options of paramType"');if(p===0){if(typeof d.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(p===1){if(typeof d.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(p===2){var v=d.options,O=v.startTime,S=v.endTime;if(!(O instanceof Object&&Object.keys(O).length))throw Error('Invalid parameter: "options of startTime"');if(!O.hours||typeof O.hours!="number"||!O.minutes||typeof O.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(S instanceof Object&&Object.keys(S).length))throw Error('Invalid parameter: "options of endTime"');if(!S.hours||typeof S.hours!="number"||!S.minutes||typeof S.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!t.XZ.call(this)){var I=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(I)}var k=this.context,E=k.accessToken,T=k.orgName,y=k.appName,b=k.userId,U={};switch(p){case 0:U={type:d.options.remindType};break;case 1:U={ignoreDuration:d.options.duration};break;case 2:var D=d.options;O=D.startTime,S=D.endTime,U={ignoreInterval:"".concat(O.hours,":").concat(O.minutes,"-").concat(S.hours,":").concat(S.minutes)}}var L={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/users/").concat(b,"/notification/user/").concat(b),type:"PUT",dataType:"json",data:JSON.stringify(U),headers:{Authorization:"Bearer "+E,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call setSilentModeForAll:",d),r.hj.call(this,L)}function n(d){if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/notification/user/").concat(k),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d==null?void 0:d.success,error:d==null?void 0:d.error};return s.kg.debug("Call getSilentModeForAll:",d),r.hj.call(this,E)}function l(d){if(typeof d.conversationId!="string"||!d.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof d.type!="string"||!d.type)throw Error('Invalid parameter: "type"');if(!(d.options instanceof Object))throw Error('Invalid parameter: "options"');var p=d.options.paramType;if(typeof p!="number"||p<0||p>2)throw Error('Invalid parameter: "options of paramType"');if(p===0){if(typeof d.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(p===1){if(typeof d.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(p===2){var v=d.options,O=v.startTime,S=v.endTime;if(!(O instanceof Object&&Object.keys(O).length))throw Error('Invalid parameter: "options of startTime"');if(!O.hours||typeof O.hours!="number"||!O.minutes||typeof O.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(S instanceof Object&&Object.keys(S).length))throw Error('Invalid parameter: "options of endTime"');if(!S.hours||typeof S.hours!="number"||!S.minutes||typeof S.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!t.XZ.call(this)){var I=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(I)}var k=this.context,E=k.accessToken,T=k.orgName,y=k.appName,b=k.userId,U="chatgroup",D={};switch(p){case 0:D={type:d.options.remindType};break;case 1:D={ignoreDuration:d.options.duration};break;case 2:var L=d.options;O=L.startTime,S=L.endTime,D={ignoreInterval:"".concat(O.hours,":").concat(O.minutes,"-").concat(S.hours,":").concat(S.minutes)}}d.type==="singleChat"&&(U="user");var Z={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/users/").concat(b,"/notification/").concat(U,"/").concat(d.conversationId),type:"PUT",dataType:"json",data:JSON.stringify(D),headers:{Authorization:"Bearer "+E,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call setSilentModeForConversation:",d),r.hj.call(this,Z)}function c(d){if(typeof d.conversationId!="string"||!d.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof d.type!="string"||!d.type)throw Error('Invalid parameter: "type"');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E="chatgroup";d.type==="singleChat"&&(E="user");var T={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/notification/").concat(E,"/").concat(d.conversationId),type:"PUT",dataType:"json",data:JSON.stringify({type:"DEFAULT"}),headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call clearRemindTypeForConversation:",d),r.hj.call(this,T)}function h(d){if(typeof d.conversationId!="string"||!d.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof d.type!="string"||!d.type)throw Error('Invalid parameter: "type"');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E="chatgroup";d.type==="singleChat"&&(E="user");var T={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/notification/").concat(E,"/").concat(d.conversationId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call getSilentModeForConversation:",d),r.hj.call(this,T)}function f(d){if(!Array.isArray(d.conversationList))throw Error('Invalid parameter: "conversationList"');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E=[],T=[];d.conversationList.forEach(function(D){D.type==="singleChat"?E.push(D.id):T.push(D.id)});var y=E.length?E.join(","):"",b=T.length?T.join(","):"",U={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/notification?user=").concat(y,"&group=").concat(b),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call getSilentModeForConversations:",d),r.hj.call(this,U)}function g(d){if(typeof d.language!="string"||!d.language)throw Error('Invalid parameter: "language"');if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v={translationLanguage:d.language},O=this.context,S=O.accessToken,I=O.orgName,k=O.appName,E=O.userId,T={url:"".concat(this.apiUrl,"/").concat(I,"/").concat(k,"/users/").concat(E,"/notification/language"),type:"PUT",dataType:"json",data:JSON.stringify(v),headers:{Authorization:"Bearer "+S,"Content-Type":"application/json"},success:d.success,error:d.error};return s.kg.debug("Call setPushPerformLanguage:",d),r.hj.call(this,T)}function m(d){if(!t.XZ.call(this)){var p=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(p)}var v=this.context,O=v.accessToken,S=v.orgName,I=v.appName,k=v.userId,E={url:"".concat(this.apiUrl,"/").concat(S,"/").concat(I,"/users/").concat(k,"/notification/language"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+O,"Content-Type":"application/json"},success:d==null?void 0:d.success,error:d==null?void 0:d.error};return s.kg.debug("Call getPushPerformLanguage:",d),r.hj.call(this,E)}},7384:function(u,_,e){e.r(_),e.d(_,{changeChatThreadName:function(){return g},createChatThread:function(){return l},destroyChatThread:function(){return f},getChatThreadDetail:function(){return S},getChatThreadLastMessage:function(){return O},getChatThreadMembers:function(){return m},getChatThreads:function(){return v},getJoinedChatThreads:function(){return p},joinChatThread:function(){return c},leaveChatThread:function(){return h},removeChatThreadMember:function(){return d}}),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(8309),e(2222),e(9554),e(4747),e(9753);var r=e(5531),t=e(7252),i=e(4370),a=e(3246),s=e(4363),o=function(I,k,E,T){return new(E||(E=Promise))(function(y,b){function U(Z){try{L(T.next(Z))}catch(J){b(J)}}function D(Z){try{L(T.throw(Z))}catch(J){b(J)}}function L(Z){var J;Z.done?y(Z.value):(J=Z.value,J instanceof E?J:new E(function(G){G(J)})).then(U,D)}L((T=T.apply(I,k||[])).next())})},n=function(I,k){var E,T,y,b,U={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function D(L){return function(Z){return function(J){if(E)throw new TypeError("Generator is already executing.");for(;U;)try{if(E=1,T&&(y=2&J[0]?T.return:J[0]?T.throw||((y=T.return)&&y.call(T),0):T.next)&&!(y=y.call(T,J[1])).done)return y;switch(T=0,y&&(J=[2&J[0],y.value]),J[0]){case 0:case 1:y=J;break;case 4:return U.label++,{value:J[1],done:!1};case 5:U.label++,T=J[1],J=[0];continue;case 7:J=U.ops.pop(),U.trys.pop();continue;default:if(!((y=(y=U.trys).length>0&&y[y.length-1])||J[0]!==6&&J[0]!==2)){U=0;continue}if(J[0]===3&&(!y||J[1]>y[0]&&J[1]<y[3])){U.label=J[1];break}if(J[0]===6&&U.label<y[1]){U.label=y[1],y=J;break}if(y&&U.label<y[2]){U.label=y[2],U.ops.push(J);break}y[2]&&U.ops.pop(),U.trys.pop();continue}J=k.call(I,U)}catch(G){J=[6,G],T=0}finally{E=y=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}([L,Z])}}};function l(I){if(typeof I.name!="string"||I.name==="")throw Error("Invalid parameter name: ".concat(I.name));if(typeof I.messageId!="string"||I.messageId==="")throw Error("Invalid parameter messageId: ".concat(I.messageId));if(typeof I.parentId!="string"||I.parentId==="")throw Error("Invalid parameter parentId: ".concat(I.parentId));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={name:I.name,msg_id:I.messageId,group_id:I.parentId,owner:this.user},L={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread?resource=").concat(U.clientResource),type:"POST",dataType:"json",data:JSON.stringify(D),headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,L).then(function(Z){var J=Z.data.thread_id;return Z.data={chatThreadId:J},Z})}function c(I){if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"/user/").concat(this.user,"/join?resource=").concat(U.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D).then(function(L){var Z=L.data.detail;return Z.messageId=Z.msgId,Z.parentId=Z.groupId,delete Z.msgId,delete Z.groupId,L})}function h(I){return o(this,void 0,void 0,function(){var k,E,T,y,b,U,D;return n(this,function(L){switch(L.label){case 0:if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));return a.XZ.call(this)?(E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"/user/").concat(this.user,"/quit?resource=").concat(U.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}},[4,i.hj.call(this,D)]):(k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(k)]);case 1:return L.sent(),[2]}})})}function f(I){return o(this,void 0,void 0,function(){var k,E,T,y,b,U,D;return n(this,function(L){switch(L.label){case 0:if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));return a.XZ.call(this)?(E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"?resource=").concat(U.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}},[4,i.hj.call(this,D)]):(k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(k)]);case 1:return L.sent(),[2]}})})}function g(I){if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));if(typeof I.name!="string"||I.name==="")throw Error("Invalid parameter name: ".concat(I.name));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={name:I.name},L={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"?resource=").concat(U.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(D),headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,L)}function m(I){if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U={limit:I.pageSize||20,cursor:I.cursor||""},D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"/users"),type:"GET",dataType:"json",data:U,headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D)}function d(I){if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));if(typeof I.username!="string"||I.username==="")throw Error("Invalid parameter username: ".concat(I.username));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U=E.jid,D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId,"/users/").concat(I.username,"?resource=").concat(U.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D)}function p(I){if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U={limit:I.pageSize||20,cursor:I.cursor||""},D={url:I.parentId?"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/threads/chatgroups/").concat(I.parentId,"/user/").concat(this.user):"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/threads/user/").concat(this.user),type:"GET",dataType:"json",data:U,headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D).then(function(L){var Z=L.entities;return Z==null||Z.forEach(function(J){J.parentId=J.groupId,J.messageId=J.msgId,delete J.groupId,delete J.msgId}),L})}function v(I){if(typeof I.parentId!="string"||I.parentId==="")throw Error("Invalid parameter parentId: ".concat(I.parentId));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U={cursor:I.cursor||"",limit:I.pageSize||20},D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/threads/chatgroups/").concat(I.parentId),type:"GET",dataType:"json",data:U,headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D).then(function(L){var Z=L.entities;return Z==null||Z.forEach(function(J){J.parentId=J.groupId,J.messageId=J.msgId,delete J.groupId,delete J.msgId}),L})}function O(I){if(!Array.isArray(I.chatThreadIds))throw Error("Invalid parameter chatThreadIds: ".concat(I.chatThreadIds));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U={threadIds:I.chatThreadIds},D={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/message"),type:"POST",dataType:"json",data:JSON.stringify(U),headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,D).then(function(L){return function(Z){var J=Z.entities;return J==null||J.forEach(function(G){G.chatThreadId=G.thread_id,G.last_message&&JSON.stringify(G.last_message)!=="{}"?G.lastMessage=(0,s.w)(G.last_message):G.lastMessage=G.last_message,delete G.thread_id,delete G.last_message}),Z}(L)})}function S(I){if(typeof I.chatThreadId!="string"||I.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(I.chatThreadId));if(!a.XZ.call(this)){var k=t.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var E=this.context,T=E.orgName,y=E.appName,b=E.accessToken,U={url:"".concat(this.apiUrl,"/").concat(T,"/").concat(y,"/thread/").concat(I.chatThreadId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b,"Content-Type":"application/json"}};return i.hj.call(this,U).then(function(D){return D.data.affiliationsCount=D.data.affiliations_count,D.data.messageId=D.data.msgId,D.data.parentId=D.data.groupId,delete D.data.affiliations_count,delete D.data.msgId,delete D.data.groupId,D})}},70:function(u,_,e){e.r(_),e.d(_,{getSupportedLanguages:function(){return o},translateMessage:function(){return n}}),e(1539),e(8674),e(2222),e(9753);var r=e(3246),t=e(5531),i=e(7252),a=e(7360),s=e(4370);function o(){if(!r.XZ.call(this)){var l=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(l)}var c=this.context,h=c.orgName,f=c.appName,g=c.accessToken,m={url:"".concat(this.apiUrl,"/").concat(h,"/").concat(f,"/users/").concat(this.user,"/translate/support/language"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+g}};return a.kg.debug("Call getSupportedLanguages"),s.hj.call(this,m)}function n(l){if(typeof l.text!="string"||l.text==="")throw Error('Invalid parameter: "text"');if(!Array.isArray(l.languages))throw Error('Invalid parameter: "language"');if(!r.XZ.call(this)){var c=i.Z.create({type:t.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(c)}var h=this.context,f=h.orgName,g=h.appName,m=h.accessToken,d="".concat(this.apiUrl,"/").concat(f,"/").concat(g,"/users/").concat(this.user,"/translate"),p={text:l.text,to:l.languages},v={url:d,dataType:"json",type:"POST",data:JSON.stringify(p),headers:{Authorization:"Bearer "+m}};return a.kg.debug("Call translateMessage"),s.hj.call(this,v)}},3246:function(u,_,e){e.d(_,{H7:function(){return n},XZ:function(){return s},_W:function(){return o}}),e(7941),e(9554),e(1539),e(4747),e(6699),e(2023);var r=e(5531),t=e(7252);function i(){var l=this.context.appName,c=this.context.orgName;return!(!l||!c)||(this.onError&&this.onError({type:r.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function a(){var l;if(!this.context.accessToken){var c=t.Z.create({type:r.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return this.onError&&this.onError(c),(l=this.eventHandler)===null||l===void 0||l.dispatch("onError",c),!1}return!0}function s(){return a.call(this)&&i.call(this)}function o(l){var c=l.data,h=l.type;return{data:{status:Object.keys(c.errorKeys).length>0?"fail":"success",errorKeys:c.errorKeys,successKeys:c.successKeys},type:h}}function n(l){var c=l.data,h=void 0;return Object.keys(c.errorKeys).length>0&&Object.keys(c.errorKeys).forEach(function(f){var g=c.errorKeys[f];h=g.includes("is not part of you")?t.Z.create({type:r.E.NO_PERMISSION,message:g}):g.includes("size of metadata for this single chatroom exceeds the user defined limit")||g.includes("total size of chatroom metadata for this app exceeds the user defined limit")||g.includes("is exceeding maximum limit")?t.Z.create({type:r.E.MAX_LIMIT,message:g}):g.includes("is not Legal")?t.Z.create({type:r.E.REQUEST_PARAMETER_ERROR,message:g}):g.includes("Failed to update userMetadata. Concurrent updates not allowed")?t.Z.create({type:r.E.OPERATION_NOT_ALLOWED,message:g}):t.Z.create({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:g})}),h}},2071:function(u,_,e){e.d(_,{$x:function(){return s},F3:function(){return o},Nl:function(){return t},TJ:function(){return i},Tp:function(){return c},Wc:function(){return r},el:function(){return a},iB:function(){return n},yK:function(){return l}}),e(6992),e(1532),e(1539),e(8783),e(3948);var r=7,t=new Map,i=new Map,a="im",s="32f24ab2ddb74f508aa9286c356cec84",o=1e3,n={INIT:9674,API:9675},l="direct",c=-1},1595:function(u,_,e){var r,t,i,a,s,o;e.d(_,{C8:function(){return r},aC:function(){return o},c:function(){return i},dd:function(){return s},fI:function(){return t},td:function(){return a}}),function(n){n[n.UNKNOWOPERATION=-1]="UNKNOWOPERATION",n[n.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",n[n.REST_DEL_SESSION=2]="REST_DEL_SESSION",n[n.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",n[n.REST_OPERATE=10]="REST_OPERATE",n[n.MSYNC_SENDMESSAGE=11]="MSYNC_SENDMESSAGE",n[n.MSYNC_RECALLMESSAGE=12]="MSYNC_RECALLMESSAGE",n[n.MSYNC_OPERATE=20]="MSYNC_OPERATE",n[n.ROSTER_ADD=21]="ROSTER_ADD",n[n.ROSTER_REMOVE=22]="ROSTER_REMOVE",n[n.ROSTER_ACCEPT=23]="ROSTER_ACCEPT",n[n.ROSTER_DECLINE=24]="ROSTER_DECLINE",n[n.ROSTER_BAN=25]="ROSTER_BAN",n[n.ROSTER_ALLOW=26]="ROSTER_ALLOW",n[n.ROSTER_BLACKLIST=27]="ROSTER_BLACKLIST",n[n.ROSTER_CONTACTS=28]="ROSTER_CONTACTS",n[n.ROSTER_OPERATE=30]="ROSTER_OPERATE",n[n.USER_LOGIN=31]="USER_LOGIN",n[n.USER_CREATE=32]="USER_CREATE",n[n.USER_UPDATE_USERINFO=33]="USER_UPDATE_USERINFO",n[n.USER_FETCH_USERINFO=34]="USER_FETCH_USERINFO",n[n.USER_UPDATE_NICK=35]="USER_UPDATE_NICK",n[n.USER_UPLOAD_PUSH_TOKEN=36]="USER_UPLOAD_PUSH_TOKEN",n[n.USER_OPERATE=40]="USER_OPERATE",n[n.GROUP_CREATEGROUP=41]="GROUP_CREATEGROUP",n[n.GROUP_BLOCK_MESSAGE=42]="GROUP_BLOCK_MESSAGE",n[n.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=43]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",n[n.GROUP_FETCH_USERS_GROUP=44]="GROUP_FETCH_USERS_GROUP",n[n.GROUP_CHANGE_OWNER=45]="GROUP_CHANGE_OWNER",n[n.GROUP_FETCH_SPECIFICATION=46]="GROUP_FETCH_SPECIFICATION",n[n.GROUP_CHANGE_GROUPATTRIBUTE=47]="GROUP_CHANGE_GROUPATTRIBUTE",n[n.GROUP_FETCH_MEMEBERS=48]="GROUP_FETCH_MEMEBERS",n[n.GROUP_GET_ADMIN=49]="GROUP_GET_ADMIN",n[n.GROUP_SET_ADMIN=50]="GROUP_SET_ADMIN",n[n.GROUP_REMOVE_ADMIN=51]="GROUP_REMOVE_ADMIN",n[n.GROUP_DESTOTYGROUP=52]="GROUP_DESTOTYGROUP",n[n.GROUP_LEAVEGROUP=53]="GROUP_LEAVEGROUP",n[n.GROUP_INVITE_TO_GROUP=54]="GROUP_INVITE_TO_GROUP",n[n.GROUP_JOIN_PUBLICGROUP=55]="GROUP_JOIN_PUBLICGROUP",n[n.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=56]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",n[n.GROUP_DECLINE_JOINPUBLICGROUPAPPL=57]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",n[n.GROUP_ACCEPT_INVITATION=58]="GROUP_ACCEPT_INVITATION",n[n.GROUP_DECLINE_INVITATION=59]="GROUP_DECLINE_INVITATION",n[n.GROUP_REMOVE_MEMBER=60]="GROUP_REMOVE_MEMBER",n[n.GROUP_REMOVE_MEMBERS=61]="GROUP_REMOVE_MEMBERS",n[n.GROUP_MUTE_MEMBERS=62]="GROUP_MUTE_MEMBERS",n[n.GROUP_UNMUTE_MEMBERS=63]="GROUP_UNMUTE_MEMBERS",n[n.GROUP_FETCH_MUTES=64]="GROUP_FETCH_MUTES",n[n.GROUP_BLOCK_MEMBER=65]="GROUP_BLOCK_MEMBER",n[n.GROUP_BLOCK_MEMBERS=66]="GROUP_BLOCK_MEMBERS",n[n.GROUP_UNBLOCK_MEMBER=67]="GROUP_UNBLOCK_MEMBER",n[n.GROUP_UNBLOCK_MEMBERS=68]="GROUP_UNBLOCK_MEMBERS",n[n.GROUP_GET_BLOCK_LIST=69]="GROUP_GET_BLOCK_LIST",n[n.GROUP_MUTE_ALLMEMBERS=70]="GROUP_MUTE_ALLMEMBERS",n[n.GROUP_UNMUTE_ALLMEMBERS=71]="GROUP_UNMUTE_ALLMEMBERS",n[n.GROUP_ADD_WHITELIST=72]="GROUP_ADD_WHITELIST",n[n.GROUP_REMOVE_WHITELIST=73]="GROUP_REMOVE_WHITELIST",n[n.GROUP_FETCH_WHITELIST=74]="GROUP_FETCH_WHITELIST",n[n.GROUP_IS_IN_WHITELIST=75]="GROUP_IS_IN_WHITELIST",n[n.GROUP_GET_READ_USERS=76]="GROUP_GET_READ_USERS",n[n.GROUP_FETCH_ANNOUNCEMENT=77]="GROUP_FETCH_ANNOUNCEMENT",n[n.GROUP_UPDATE_ANNOUNCEMENT=78]="GROUP_UPDATE_ANNOUNCEMENT",n[n.GROUP_UPLOAD_SHAREDFILE=79]="GROUP_UPLOAD_SHAREDFILE",n[n.GROUP_DELETE_SHAREDFILE=80]="GROUP_DELETE_SHAREDFILE",n[n.GROUP_FETCH_SHAREDFILE=81]="GROUP_FETCH_SHAREDFILE",n[n.GROUP_DOWNLOAD_SHAREDFILE=82]="GROUP_DOWNLOAD_SHAREDFILE",n[n.GROUP_OPERATE=100]="GROUP_OPERATE",n[n.CHATROOM_FETCH_CHATROOMSWITHPAGE=101]="CHATROOM_FETCH_CHATROOMSWITHPAGE",n[n.CHATROOM_CREATECHATROOM=102]="CHATROOM_CREATECHATROOM",n[n.CHATROOM_DESTORYCHATROOM=103]="CHATROOM_DESTORYCHATROOM",n[n.CHATROOM_FETCH_SPECIFICATION=104]="CHATROOM_FETCH_SPECIFICATION",n[n.CHATROOM_CHANGE_ATTRIBUTE=105]="CHATROOM_CHANGE_ATTRIBUTE",n[n.CHATROOM_REMOVE_MEMBER=106]="CHATROOM_REMOVE_MEMBER",n[n.CHATROOM_REMOVE_MEMBERS=107]="CHATROOM_REMOVE_MEMBERS",n[n.CHATROOM_ADD_MEMBERS=108]="CHATROOM_ADD_MEMBERS",n[n.CHATROOM_JOINCAHTROOM=109]="CHATROOM_JOINCAHTROOM",n[n.CHATROOM_LEAVECAHTROOM=110]="CHATROOM_LEAVECAHTROOM",n[n.CHATROOM_FETCH_MEMBERS=111]="CHATROOM_FETCH_MEMBERS",n[n.CHATROOM_GET_ADMIN=112]="CHATROOM_GET_ADMIN",n[n.CHATROOM_SET_ADMIN=113]="CHATROOM_SET_ADMIN",n[n.CHATROOM_REMOVE_ADMIN=114]="CHATROOM_REMOVE_ADMIN",n[n.CHATROOM_MUTE_USER=115]="CHATROOM_MUTE_USER",n[n.CHATROOM_UNMUTE_USER=116]="CHATROOM_UNMUTE_USER",n[n.CHATROOM_FETCH_MUTES=117]="CHATROOM_FETCH_MUTES",n[n.CHATROOM_BLOCK_USER=118]="CHATROOM_BLOCK_USER",n[n.CHATROOM_BLOCK_USERS=119]="CHATROOM_BLOCK_USERS",n[n.CHATROOM_UNBLOCK_USER=120]="CHATROOM_UNBLOCK_USER",n[n.CHATROOM_UNBLOCK_USERS=121]="CHATROOM_UNBLOCK_USERS",n[n.CHATROOM_FETCH_BANS=122]="CHATROOM_FETCH_BANS",n[n.CHATROOM_MUTE_ALLMEMEBERS=123]="CHATROOM_MUTE_ALLMEMEBERS",n[n.CHATROOM_UNMUTE_ALLMEMEBERS=124]="CHATROOM_UNMUTE_ALLMEMEBERS",n[n.CHATROOM_ADD_WHITELIST=125]="CHATROOM_ADD_WHITELIST",n[n.CHATROOM_REMOVE_WHITELIST=126]="CHATROOM_REMOVE_WHITELIST",n[n.CHATROOM_FETCH_WHITELIST=127]="CHATROOM_FETCH_WHITELIST",n[n.CHATROOM_FETCH_MEMBERIN_WHITELIST=128]="CHATROOM_FETCH_MEMBERIN_WHITELIST",n[n.CHATROOM_FETCH_ANNOUNCEMENT=129]="CHATROOM_FETCH_ANNOUNCEMENT",n[n.CHATROOM_UPDATE_ANNOUNCEMENT=130]="CHATROOM_UPDATE_ANNOUNCEMENT",n[n.CHATROOM_REMOVE_SHARE_FILE=131]="CHATROOM_REMOVE_SHARE_FILE",n[n.CHATROOM_GET_SHARE_FILE_LIST=132]="CHATROOM_GET_SHARE_FILE_LIST",n[n.CHATROOM_UPLOAD_FILE=133]="CHATROOM_UPLOAD_FILE",n[n.CHATROOM_OPERATE=150]="CHATROOM_OPERATE"}(r||(r={})),function(n){n.SDK_INTERNAL="SDK_INTERNAL",n.LOGIN="USER_LOGIN",n.REGISTER="USER_CREATE",n.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",n.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",n.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",n.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",n.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",n.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",n.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",n.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",n.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",n.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",n.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",n.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",n.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",n.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",n.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",n.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",n.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",n.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",n.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",n.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",n.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",n.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",n.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",n.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",n.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",n.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",n.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",n.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",n.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",n.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",n.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",n.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",n.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",n.CREATE_GROUP="GROUP_CREATEGROUP",n.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",n.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",n.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",n.CHANGE_OWNER="GROUP_CHANGE_OWNER",n.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",n.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",n.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",n.GET_GROUP_ADMIN="GROUP_GET_ADMIN",n.SET_GROUP_ADMIN="GROUP_SET_ADMIN",n.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",n.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",n.QUIT_GROUP="GROUP_LEAVEGROUP",n.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",n.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",n.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",n.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",n.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",n.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",n.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",n.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",n.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",n.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",n.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",n.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",n.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",n.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",n.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",n.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",n.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",n.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",n.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",n.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",n.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",n.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",n.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",n.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",n.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",n.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",n.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",n.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",n.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",n.GET_SESSION_LIST="REST_GET_SESSION_LIST",n.DELETE_SESSION="REST_DEL_SESSION",n.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",n.UPDATE_USER_INFO="USER_UPDATE_USERINFO",n.GET_USER_INFO="USER_FETCH_USERINFO",n.UPDATE_USER_NICK="USER_UPDATE_NICK",n.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",n.GET_BLACK_LIST="ROSTER_BLACKLIST",n.GET_CONTACTS="ROSTER_CONTACTS",n.add="ROSTER_ADD",n.remove="ROSTER_REMOVE",n.accept="ROSTER_ACCEPT",n.decline="ROSTER_DECLINE",n.ban="ROSTER_BAN",n.allow="ROSTER_ALLOW",n.SEND_MSG="MSYNC_SENDMESSAGE",n.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",n.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE"}(t||(t={})),function(n){n.GET_DNS="REST_DNSLIST",n.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",n.LOGIN_BY_PWD="LOGIN_BY_PWD",n.RESISTER="REGISTER"}(i||(i={})),function(n){n[n["5G"]=7]="5G",n[n["4G"]=7]="4G",n[n["3G"]=7]="3G",n[n["2G"]=7]="2G",n[n["SLOW-2G"]=7]="SLOW-2G",n[n.WIFI=2]="WIFI",n[n.LAN=1]="LAN",n[n.DISCONNECTED=0]="DISCONNECTED",n[n.NONE=0]="NONE",n[n.UNKNOWN=-1]="UNKNOWN",n[n["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(a||(a={})),function(n){n[n.success=200]="success",n[n.failed=500]="failed"}(s||(s={})),function(n){n[n.web=0]="web",n[n.native=1]="native"}(o||(o={}))},7252:function(u,_){var e=function(){function r(t){this.type=t.type,this.message=t.message,this.data=t.data}return r.create=function(t){return new r(t)},r}();_.Z=e},8161:function(u,_,e){e(3710),e(1539),e(9714),e(9653),e(8309),e(9554),e(4747),e(2772),e(2222);var r=e(3720),t=e.n(r),i=e(4363),a=e(4370),s=e(7360),o=e(4799),n={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM"};function l(h){for(var f={},g=0;g<h.length;g++)if(h[g].type===8)f[h[g].key]=JSON.parse(h[g].stringValue);else if(h[g].type===7)f[h[g].key]=h[g].stringValue;else if(h[g].type===6)f[h[g].key]=h[g].doubleValue;else if(h[g].type===5)f[h[g].key]=h[g].floatValue;else if(h[g].type===1){var m=h[g].varintValue,d=new(t())(m.low,m.high,m.unsigned).toString();f[h[g].key]=Number(d)!==0}else h[g].type!==2&&h[g].type!==3&&h[g].type!==4||(m=h[g].varintValue,d=new(t())(m.low,m.high,m.unsigned).toString(),f[h[g].key]=Number(d));return f}function c(h,f,g){if(this.delivery&&h!==f){var m=this.getUniqueId(),d=new o.Message("delivery",m);d.set({ackId:g,to:h}),s.kg.debug("send delivery ack"),this.send(d.body)}}_.Z=function(h,f,g,m){var d,p,v,O,S,I,k,E=new(t())(h.timestamp.low,h.timestamp.high,h.timestamp.unsigned).toString(),T=this.root.lookup("easemob.pb.MessageBody").decode(h.payload),y=1;if(h.meta&&h.meta.length)switch(a.P6.parseNotify(h.meta).is_online){case 0:y=0;break;case 1:y=1;break;default:y=2}else y=3;var b=new(t())(h.id.low,h.id.high,h.id.unsigned).toString(),U=T.ackMessageId?new(t())(T.ackMessageId.low,T.ackMessageId.high,T.ackMessageId.unsigned).toString():"",D="",L=T.from&&T.from.name,Z=T.to&&T.to.name;switch(s.kg.debug("thirdMessage:",T),T.type){case 1:D="chat",this.grantType==="agoraToken"&&(D="singleChat"),this.delivery&&c.call(this,L,Z,b);break;case 2:D="groupchat",this.grantType==="agoraToken"&&(D="groupChat");break;case 3:D="chatroom",this.grantType==="agoraToken"&&(D="chatRoom"),y=1;break;case 4:D="read_ack";var J=void 0;return T.ext[0]&&JSON.parse(T.ext[0].stringValue)?(J={id:b,type:"read",from:L,to:Z,mid:U,groupReadCount:T.ext[0]&&JSON.parse(T.ext[0].stringValue),ackContent:T.ackContent,onlineState:y},this.onReadMessage&&this.onReadMessage(J),void((d=this.eventHandler)===null||d===void 0||d.dispatch("onReadMessage",J))):(J={id:b,type:"read",from:L,to:Z,mid:U,onlineState:y},this.onReadMessage&&this.onReadMessage(J),void((p=this.eventHandler)===null||p===void 0||p.dispatch("onReadMessage",J)));case 5:D="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:b,type:"delivery",from:L,to:Z,mid:U,onlineState:y});var G={id:b,type:"delivery",from:L,to:Z,mid:U,onlineState:y};return void((v=this.eventHandler)===null||v===void 0||v.dispatch("onDeliveredMessage",G));case 6:D="recall";var te={id:b,from:L||"admin",to:Z,mid:U,onlineState:y};return this.onRecallMessage&&this.onRecallMessage(te),void((O=this.eventHandler)===null||O===void 0||O.dispatch("onRecallMessage",te));case 7:this.onChannelMessage&&this.onChannelMessage({id:b,type:"channel",chatType:"singleChat",from:L,to:Z,time:Number(E),onlineState:y});var ce={id:b,type:"channel",chatType:"singleChat",from:L,to:Z,time:Number(E),onlineState:y};return void((S=this.eventHandler)===null||S===void 0||S.dispatch("onChannelMessage",ce));default:return void s.kg.error("unexpected message type: ".concat(T.type))}var ie,ye="normal";if(D.toLowerCase()==="chat"||D==="singleChat")ie="singleChat";else if(D.toLowerCase()==="groupchat"||D==="groupChat")ie="groupChat";else if(ie="chatRoom",y=1,h.ext){var be=l([h.ext]);ye=be.chatroom_msg_tag===0?"high":be.chatroom_msg_tag===2?"low":"normal"}for(var Oe=0;Oe<T.contents.length;Oe++){var fe={},Ue={},Ae=f.errorCode>0,xe=f.errorCode,Re=f.reason,V=T.contents[Oe],He={},Ke=[],ot=[],ze=null,et=null,We=void 0;if(T.ext&&(He=l(T.ext)),T.meta&&typeof T.meta=="string"){var Xe=JSON.parse(T.meta);Xe.reaction&&(Ke=Xe.reaction).forEach(function(Ee){Ee.isAddedBySelf=Ee.state,delete Ee.state}),Xe.translations&&(ot=Xe.translations),Xe.thread&&JSON.stringify(Xe.thread)!=="{}"&&(ze={messageId:Xe.thread.msg_parent_id,parentId:Xe.thread.muc_parent_id,chatThreadName:Xe.thread.thread_name}),Xe.thread_overview&&JSON.stringify(Xe.thread_overview)!=="{}"&&(et={id:Xe.thread_overview.id,parentId:Xe.thread_overview.muc_parent_id,name:Xe.thread_overview.name,lastMessage:(0,i.w)(Xe.thread_overview.last_message),createTimestamp:Xe.thread_overview.create_timestamp,updateTimestamp:Xe.thread_overview.update_timestamp,messageCount:Xe.thread_overview.message_count})}switch(V.type){case 0:!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,data:V.text,ext:He,sourceMsg:V.text,time:E,msgConfig:T.msgConfig,onlineState:y}).msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onTextMessage&&this.onTextMessage(fe);var Ye={id:b,type:"txt",chatType:ie,msg:V.text,to:Z,from:L,ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(Ye.msgConfig=fe.msgConfig),Ke.length>0&&(Ye.reactions=Ke),ze&&(Ye.chatThread=ze),et&&(Ye.chatThreadOverview=et),ot.length>0&&(Ye.translations=ot),ie==="chatRoom"&&(Ye.priority=ye),Ue=Ye,!g&&this.eventHandler&&this.eventHandler.dispatch("onTextMessage",Ye);break;case 1:var nt=((I=V==null?void 0:V.size)===null||I===void 0?void 0:I.width)||0,$e=((k=V==null?void 0:V.size)===null||k===void 0?void 0:k.height)||0;We=this.useOwnUploadFun?V.remotePath:(V.remotePath&&this.apiUrl+V.remotePath.substr(V.remotePath.indexOf("/",9)))+"?em-redirect=true",V.secretKey&&!this.useOwnUploadFun&&(We="".concat(We,"&share-secret=").concat(V.secretKey)),!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,url:We,secret:V.secretKey,filename:V.displayName,thumb:this.useOwnUploadFun?"":"".concat(We,"&thumbnail=true"),thumb_secret:V.secretKey,file_length:V.fileLength||"",width:nt,height:$e,filetype:V.filetype||"",accessToken:this.token,ext:He,time:E,msgConfig:T.msgConfig,onlineState:y}).delay&&delete fe.delay,!fe.msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onPictureMessage&&this.onPictureMessage(fe);var Ie={id:b,type:"img",chatType:ie,from:L,to:Z,url:We||"",file:{},width:nt,height:$e,secret:V.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(We,"&thumbnail=true"),thumb_secret:V.secretKey,file_length:V.fileLength||0,ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(Ie.msgConfig=fe.msgConfig),Ke.length>0&&(Ie.reactions=Ke),ze&&(Ie.chatThread=ze),et&&(Ie.chatThreadOverview=et),ie==="chatRoom"&&(Ie.priority=ye),Ue=Ie,!g&&this.eventHandler&&this.eventHandler.dispatch("onImageMessage",Ie);break;case 2:We=this.useOwnUploadFun?V.remotePath:(V.remotePath&&this.apiUrl+V.remotePath.substr(V.remotePath.indexOf("/",9)))+"?em-redirect=true",V.secretKey&&!this.useOwnUploadFun&&(We="".concat(We,"&share-secret=").concat(V.secretKey)),!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,url:We,secret:V.secretKey,filename:V.displayName,length:V.duration||"",file_length:V.fileLength||"",filetype:V.filetype||"",accessToken:this.token||"",ext:He,time:E,msgConfig:T.msgConfig,onlineState:y}).delay&&delete fe.delay,!fe.msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onVideoMessage&&this.onVideoMessage(fe);var x={id:b,type:"video",chatType:ie,from:L,to:Z,url:We,secret:V.secretKey,filename:V.displayName,length:V.duration||0,file:{},file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(x.msgConfig=fe.msgConfig),Ke.length>0&&(x.reactions=Ke),ze&&(x.chatThread=ze),et&&(x.chatThreadOverview=et),ie==="chatRoom"&&(x.priority=ye),Ue=x,!g&&this.eventHandler&&this.eventHandler.dispatch("onVideoMessage",x);break;case 3:!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,addr:V.address,buildingName:V.buildingName,lat:V.latitude,lng:V.longitude,ext:He,time:E,msgConfig:T.msgConfig,onlineState:y}).delay&&delete fe.delay,!fe.msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onLocationMessage&&this.onLocationMessage(fe);var ue={id:b,type:"loc",chatType:ie,from:L,to:Z,buildingName:V.buildingName,addr:V.address,lat:V.latitude,lng:V.longitude,ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(ue.msgConfig=fe.msgConfig),Ke.length>0&&(ue.reactions=Ke),ze&&(ue.chatThread=ze),et&&(ue.chatThreadOverview=et),ie==="chatRoom"&&(ue.priority=ye),Ue=ue,!g&&this.eventHandler&&this.eventHandler.dispatch("onLocationMessage",ue);break;case 4:We=this.useOwnUploadFun?V.remotePath:(V.remotePath&&this.apiUrl+V.remotePath.substr(V.remotePath.indexOf("/",9)))+"?em-redirect=true",V.secretKey&&!this.useOwnUploadFun&&(We="".concat(We,"&share-secret=").concat(V.secretKey)),!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,url:We,secret:V.secretKey,filename:V.displayName,file_length:V.fileLength||"",accessToken:this.token||"",ext:He,length:V.duration,time:E,msgConfig:T.msgConfig,onlineState:y}).delay&&delete fe.delay,!fe.msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onAudioMessage&&this.onAudioMessage(fe);var se={id:b,type:"audio",chatType:ie,from:L,to:Z,url:We,secret:V.secretKey,file:{},filename:V.displayName,length:V.duration||0,file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(se.msgConfig=fe.msgConfig),Ke.length>0&&(se.reactions=Ke),ze&&(se.chatThread=ze),et&&(se.chatThreadOverview=et),ie==="chatRoom"&&(se.priority=ye),Ue=se,!g&&this.eventHandler&&this.eventHandler.dispatch("onAudioMessage",se);break;case 5:We=this.useOwnUploadFun?V.remotePath:(V.remotePath&&this.apiUrl+V.remotePath.substr(V.remotePath.indexOf("/",9)))+"?em-redirect=true",V.secretKey&&!this.useOwnUploadFun&&(We="".concat(We,"&share-secret=").concat(V.secretKey)),!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,url:We,secret:V.secretKey,filename:V.displayName,file_length:V.fileLength,accessToken:this.token||"",ext:He,time:E,msgConfig:T.msgConfig,onlineState:y}).delay&&delete fe.delay,!fe.msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onFileMessage&&this.onFileMessage(fe);var j={id:b,type:"file",chatType:ie,from:L,to:Z,url:We,secret:V.secretKey,file:{},filename:V.displayName,length:V.duration||0,file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(j.msgConfig=fe.msgConfig),Ke.length>0&&(j.reactions=Ke),ze&&(j.chatThread=ze),et&&(j.chatThreadOverview=et),ie==="chatRoom"&&(j.priority=ye),Ue=j,!g&&this.eventHandler&&this.eventHandler.dispatch("onFileMessage",j);break;case 6:!(fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,action:V.action,ext:He,time:E,msgConfig:T.msgConfig,onlineState:y}).msgConfig&&delete T.msgConfig,fe.error=Ae,fe.errorText=Re,fe.errorCode=xe,!g&&this.onCmdMessage&&this.onCmdMessage(fe);var H={id:b,type:"cmd",chatType:ie,from:L,to:Z,action:V.action,ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(H.msgConfig=fe.msgConfig),Ke.length>0&&(H.reactions=Ke),ze&&(H.chatThread=ze),et&&(H.chatThreadOverview=et),ie==="chatRoom"&&(H.priority=ye),Ue=H,!g&&this.eventHandler&&this.eventHandler.dispatch("onCmdMessage",H);break;case 7:var he={},le={};T.contents[0].customExts&&(he=l(T.contents[0].customExts)),T.contents[0].params&&(le=l(T.contents[0].params)),fe={id:b,type:D,contentsType:n[V.type],from:L,to:Z,customEvent:V.customEvent,params:le,customExts:he,ext:He,time:E,onlineState:y},!g&&this.onCustomMessage&&this.onCustomMessage(fe);var de={id:b,type:"custom",chatType:ie,from:L,to:Z,customEvent:V.customEvent,params:le,customExts:he,ext:He,time:Number(E),onlineState:y};fe.msgConfig&&(de.msgConfig=fe.msgConfig),Ke.length>0&&(de.reactions=Ke),ze&&(de.chatThread=ze),et&&(de.chatThreadOverview=et),ie==="chatRoom"&&(de.priority=ye),Ue=de,!g&&this.eventHandler&&this.eventHandler.dispatch("onCustomMessage",de);break;default:s.kg.error("Unknow message type, message:",V)}return m?Ue:fe}}},4968:function(u,_,e){e(8309);var r,t=e(7360),i=e(2071),a=e(1595);(function(o){o[o.Add=2]="Add",o[o.Remove=3]="Remove",o[o.Accept=4]="Accept",o[o.Decline=5]="Decline",o[o.Ban=6]="Ban",o[o.Allow=7]="Allow"})(r||(r={}));var s={operatRoster:function(o,n){var l=[],c=this.root.lookup("easemob.pb.RosterBody"),h=c.decode(l);switch(n){case"add":h.operation=r.Add;break;case"remove":h.operation=r.Remove;break;case"accept":h.operation=r.Accept;break;case"decline":h.operation=r.Decline;break;case"ban":h.operation=r.Ban;break;case"allow":h.operation=r.Allow;break;default:t.kg.error("operatRoster:",n)}h.from=this.context.jid;var f=[];if(typeof o.to=="string")f.push({appKey:this.appKey||this.context.appKey,name:o.to,domain:"easemob.com"});else if(o.to instanceof Array)for(var g=0;g<o.to.length;g++)f.push({appKey:this.appKey,name:o.to[g],domain:"easemob.com"});h.to=f,h.reason=o.message||"",h=c.encode(h).finish();var m=this.root.lookup("easemob.pb.Meta").decode(l);m.id=o.id||this.getUniqueId();var d=this.dataReport.geOperateFun({operationName:a.fI[n]});i.Nl.size<=i.F3&&i.Nl.set(m.id,{rpt:d,requestName:a.fI[n]}),m.from=this.context.jid,m.to={domain:"@easemob.com"},m.ns=3,m.payload=h;var p=this.root.lookup("easemob.pb.CommSyncUL"),v=p.decode(l);v.meta=m,v=p.encode(v).finish();var O=this.root.lookup("easemob.pb.MSync"),S=O.decode(l);if(S.version=this.version,S.encryptType=[0],S.command=0,S.guid=this.jid,S.payload=v,S=O.encode(S).finish(),this.name==="miniCore")this.sock.send(S);else{var I=this.mSync.base64transform(S);this.sock.send(I)}},handleRosterMsg:function(o){var n,l,c,h,f,g,m=this.root.lookup("easemob.pb.RosterBody").decode(o.payload),d={type:"",to:m.to[0].name,from:m.from.name,status:m.reason};switch(m.operation){case 2:d.type="subscribe",this.onContactInvited&&this.onContactInvited(d),(n=this.eventHandler)===null||n===void 0||n.dispatch("onContactInvited",d);break;case 3:d.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(d),(l=this.eventHandler)===null||l===void 0||l.dispatch("onContactDeleted",d);break;case 4:d.type="subscribed",this.onContactAdded&&this.onContactAdded(d),(c=this.eventHandler)===null||c===void 0||c.dispatch("onContactAdded",d);break;case 5:d.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(d),(h=this.eventHandler)===null||h===void 0||h.dispatch("onContactRefuse",d);break;case 6:case 7:break;case 8:d.type="subscribed",this.onContactAgreed&&this.onContactAgreed(d),(f=this.eventHandler)===null||f===void 0||f.dispatch("onContactAgreed",d);break;case 9:d.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(d),(g=this.eventHandler)===null||g===void 0||g.dispatch("onContactRefuse",d);break;default:t.kg.error("handleRosterMsg:",m)}this.onPresence&&d.type&&this.onPresence(d)}};_.Z=s},7360:function(u,_,e){function r(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}e.d(_,{kg:function(){return g}}),e(7042),e(2222),e(8309),e(9600),e(6992),e(1539),e(8783),e(3948),e(285),e(1637),e(4812),e(3710),e(9554),e(2772),e(4916),e(2526),e(1817),e(2165);var t=typeof window<"u"&&window.navigator!==void 0&&/Trident\/|MSIE /.test(window.navigator.userAgent);function i(m){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(m)}var a,s=function(m,d,p){if(p||arguments.length===2)for(var v,O=0,S=d.length;O<S;O++)!v&&O in d||(v||(v=Array.prototype.slice.call(d,0,O)),v[O]=d[O]);return m.concat(v||Array.prototype.slice.call(d))},o=function(){},n={};(function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT"})(a||(a={}));var l=function(){function m(d,p,v){this.name=d||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=a,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=v||this.defaultMethodFactory;var O=this._getPersistedLevel();O==null&&(O=p===null?"WARN":p),this.logs=[],this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(O,!1,"")}return m.prototype.setConfig=function(d){this.config=d},m.prototype.getLevel=function(){return this.currentLevel},m.prototype.setLevel=function(d,p,v){if(typeof d=="string"&&(d=a[d]),d===void 0&&(d=0),!(typeof d=="number"&&d>=0&&d<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+d);if(this.currentLevel=d,p!==!1&&this._persistLevel(d),this.replaceLoggingMethods(d,v),typeof console>"u"&&d<a.SILENT)throw Error("No console available for logging")},m.prototype.setDefaultLevel=function(d){this._getPersistedLevel()||this.setLevel(d,!1,"")},m.prototype.enableAll=function(d){this.setLevel(this.levels.TRACE,!0,"")},m.prototype.disableAll=function(d){this.setLevel(this.levels.SILENT,!0,"")},m.prototype.getLogs=function(){return this.logs},m.prototype.download=function(){if(typeof window<"u"&&typeof document<"u"){var d=this.getLogs().join(`
`),p=new Blob([d],{type:"text/plain;charset=UTF-8"}),v=window.URL.createObjectURL(p),O=document.createElement("a");O.style.display="none",O.href=v,O.setAttribute("download","sdklog"),document.body.appendChild(O),O.click()}},m.prototype._bindMethod=function(d,p,v){var O=this,S=d[p],I=this.getTime();if(v)return this._cacheLog;if(typeof S.bind=="function")return function(){for(var k=[],E=0;E<arguments.length;E++)k[E]=arguments[E];var T=O.getTime();S.call.apply(S,s([d,"".concat(T," IM SDK [").concat(p==="log"?"debug":p,"]: ")],k,!1)),O.onLog&&O.onLog({time:T,level:p==="log"?"debug":p,logs:k})};try{return Function.prototype.bind.call(S,d,"".concat(I," IM SDK [").concat(p==="log"?"debug":p,"]: "))}catch{return function(){return Function.prototype.apply.apply(S,[d,arguments])}}},m.prototype.getTime=function(){var d=new Date;return d.toTimeString().split(" ")[0]+":"+d.getMilliseconds()},m.prototype._cacheLog=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=new Date().toLocaleString()+": ",O="";d.forEach(function(S){i(S)==="object"?O+=JSON.stringify(S)+" ":O+=S+" "}),this._cacheLogCall(v+O)},m.prototype._cacheLogCall=function(d){var p=c(d),v=this.logBytes+p,O=this.config.maxCache;if(!(p>=O)){if(v<O)this.logBytes+=p;else for(var S=v-O,I=0;I<S;){var k=this.logs.shift();k!==void 0&&(I+=c(k))}this.logs.push(d)}},m.prototype._getPersistedLevel=function(){var d;if(typeof window>"u")return 5;if((d=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])==="undefined"){var p=window.document.cookie,v=p.indexOf(encodeURIComponent(this.storageLogLevelKey));v!==-1&&(d=/^([^;]+)/.exec(p.slice(v))[1])}return d||5},m.prototype._persistLevel=function(d){var p=this.logMethods[d]||"SILENT";typeof window<"u"&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=p),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+p+";"))},m.prototype.replaceLoggingMethods=function(d,p){for(var v=0;v<this.logMethods.length;v++){var O=this.logMethods[v];this[O]=v<d?o:this.methodFactory(O,d,p)}this.log=this.debug},m.prototype.defaultMethodFactory=function(d,p,v){return this.realMethod(d)||this.enableLoggingWhenConsoleArrives.apply(this,[d,p,v])},m.prototype.realMethod=function(d){return d==="debug"&&(d="log"),typeof console<"u"&&(d==="trace"&&t?r:console[d]!==void 0?this._bindMethod(console,d,this.config.useCache):console.log!==void 0?this._bindMethod(console,"log",this.config.useCache):o)},m.prototype.enableLoggingWhenConsoleArrives=function(d,p,v){return function(){typeof console<"u"&&(this.replaceLoggingMethods.call(this,p,v),this[d].apply(this,arguments))}.bind(this)},m}();function c(m){for(var d=m.length,p=0;p<m.length;p++)m.charCodeAt(p)>255&&d++;return d}var h=new l;h.getLogger=function(m){if(typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");return this};var f=typeof window<"u"?window.log:void 0;h.noConflict=function(){return typeof window<"u"&&window.log===h&&(window.log=f),h},h.getLoggers=function(){return n};var g=h},4799:function(u,_,e){e.d(_,{Message:function(){return m}});var r=e(4370),t=function(){function d(p){var v=p.id;this.id=v,this.type=p.type}return d.prototype.set=function(p){this.body={id:this.id,ackId:p.id,type:"read",to:p.to,from:p.from||"",chatType:p.chatType}},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType,ackId:p.id,type:"read",to:p.to,from:p.from||"",ackContent:p.ackContent,isChatThread:p.isChatThread}},d}(),i=function(){function d(p){this.id=p.id,this.type=p.type}return d.prototype.set=function(p){this.body={id:this.id,ackId:p.ackId,type:"delivery",to:p.to,from:p.from||""}},d.create=function(p){return{id:r.P6.getUniqueId(),ackId:p.ackId,type:"delivery",to:p.to,from:p.from||"",isChatThread:p.isChatThread}},d}(),a=(e(3843),e(3710),function(){function d(p){var v=p.type,O=p.id;this.id=O,this.type=v}return d.prototype.set=function(p){this.body={id:this.id,chatType:p.chatType||"singleChat",type:"channel",to:p.to,from:p.from||"",time:Date.now()}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),type:"channel",chatType:p.chatType||"singleChat",to:p.to,from:p.from||"",time:Date.now(),isChatThread:p.isChatThread}},d}()),s=(e(9753),function(){function d(p){var v=p.type,O=p.id||r.P6.getUniqueId();this.id=O,this.type=v,this.value=""}return d.prototype.set=function(p){this.body={id:this.id,chatType:p.chatType||"singleChat",type:"txt",to:p.to,msg:p.msg,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now(),isChatThread:p.isChatThread},this.value=p.msg},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){var v,O;return!((v=p.msgConfig)===null||v===void 0)&&v.languages&&Array.isArray((O=p.msgConfig)===null||O===void 0?void 0:O.languages),{type:"txt",id:r.P6.getUniqueId(),msg:p.msg,to:p.to,from:p.from||"",chatType:p.chatType,ext:p.ext,time:Date.now(),msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}()),o=function(){function d(p){var v=p.type,O=p.id;this.id=O||r.P6.getUniqueId(),this.type=v}return d.prototype.set=function(p){this.body={id:this.id,chatType:p.chatType||"singleChat",type:"cmd",to:p.to,action:p.action,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now()}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),type:"cmd",to:p.to,from:p.from||"",chatType:p.chatType||"singleChat",action:p.action,time:Date.now(),ext:p.ext,msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),n=function(){function d(p){var v=p.type,O=p.id||r.P6.getUniqueId();this.id=O,this.type=v}return d.prototype.set=function(p){this.body={id:this.id,chatType:p.chatType||"singleChat",type:"custom",to:p.to,customEvent:p.customEvent,customExts:p.customExts,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now()}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType||"singleChat",type:"custom",to:p.to,customEvent:p.customEvent,customExts:p.customExts,from:p.from||"",ext:p.ext,time:Date.now(),msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),l=function(){function d(p){var v=p.type,O=p.id;this.id=O||r.P6.getUniqueId(),this.type=v}return d.prototype.set=function(p){this.body={id:this.id,chatType:p.chatType||"singleChat",type:"loc",to:p.to,addr:p.addr,buildingName:p.buildingName,lat:p.lat,lng:p.lng,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now()}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType||"singleChat",type:"loc",to:p.to,addr:p.addr,buildingName:p.buildingName,lat:p.lat,lng:p.lng,from:p.from||"",ext:p.ext,time:Date.now(),msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),c=function(){function d(p){var v=p.type,O=p.id||r.P6.getUniqueId();this.id=O,this.type=v}return d.prototype.set=function(p){p.file=p.file||p.fileInputId&&r.P6.getFileUrl(p.fileInputId),this.body={id:this.id,chatType:p.chatType||"singleChat",type:"img",file:p.file,width:p.width,height:p.height,to:p.to,from:p.from||"",roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now(),onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,isChatThread:p.isChatThread}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType,type:"img",url:p.url,width:p.width,height:p.height,file:p.file,to:p.to,from:p.from||"",ext:p.ext,time:Date.now(),msgConfig:p.msgConfig,file_length:p.file_length,onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,isChatThread:p.isChatThread,priority:p.priority}},d}(),h=function(){function d(p){var v=p.type,O=p.id||r.P6.getUniqueId();this.id=O,this.type=v}return d.prototype.set=function(p){p.file=p.file||p.fileInputId&&r.P6.getFileUrl(p.fileInputId),this.body={id:this.id,chatType:p.chatType||"singleChat",type:"audio",file:p.file,filename:p.filename,length:p.length,file_length:p.file_length,fileInputId:p.fileInputId,to:p.to,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now(),onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,isChatThread:p.isChatThread}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType,type:"audio",filename:p.filename,length:p.length,file:p.file,to:p.to,from:p.from||"",ext:p.ext,time:Date.now(),onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,file_length:p.file_length,msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),f=function(){function d(p){var v=p.type,O=p.id;this.id=O,this.type=v}return d.prototype.set=function(p){p.file=p.file||p.fileInputId&&r.P6.getFileUrl(p.fileInputId),this.body={id:this.id,chatType:p.chatType||"singleChat",type:"video",file:p.file,filename:p.filename,length:p.length,file_length:p.file_length,fileInputId:p.fileInputId,to:p.to,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now(),apiUrl:p.apiUrl,onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,isChatThread:p.isChatThread}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType||"singleChat",type:"video",file:p.file,filename:p.filename,length:p.length,file_length:p.file_length,fileInputId:p.fileInputId,to:p.to,from:p.from||"",ext:p.ext,time:Date.now(),onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),g=function(){function d(p){var v=p.type,O=p.id;this.id=O,this.type=v}return d.prototype.set=function(p){p.file=p.file||p.fileInputId&&r.P6.getFileUrl(p.fileInputId),this.body={id:this.id,chatType:p.chatType||"singleChat",type:"file",file:p.file,filename:p.filename,fileInputId:p.fileInputId,to:p.to,from:p.from,roomType:p.roomType,success:p.success,fail:p.fail,ext:p.ext,time:Date.now(),onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,isChatThread:p.isChatThread}},d.prototype.setChatType=function(p){return!!this.body&&(this.body.chatType=p,!0)},d.prototype.setGroup=function(p){return!!this.body&&(this.body.group=p,!0)},d.create=function(p){return{id:r.P6.getUniqueId(),chatType:p.chatType||"singleChat",type:"file",file:p.file,filename:p.filename,fileInputId:p.fileInputId,file_length:p.file_length,to:p.to,from:p.from||"",ext:p.ext,onFileUploadError:p.onFileUploadError,onFileUploadComplete:p.onFileUploadComplete,onFileUploadProgress:p.onFileUploadProgress,body:p.body,time:Date.now(),msgConfig:p.msgConfig,isChatThread:p.isChatThread,priority:p.priority}},d}(),m=function(){function d(p,v){return this.type=p,this.id=v||r.P6.getUniqueId(),d.createOldMsg({type:p,id:this.id})}return d.createOldMsg=function(p){switch(p.type){case"read":return new t({type:"read",id:p.id});case"delivery":return new i({type:"delivery",id:p.id});case"channel":return new a({type:"channel",id:p.id});case"txt":return new s({type:"txt",id:p.id});case"cmd":return new o({type:"cmd",id:p.id});case"custom":return new n({type:"custom",id:p.id});case"loc":return new l({type:"loc",id:p.id});case"img":return new c({type:"img",id:p.id});case"audio":return new h({type:"audio",id:p.id});case"video":return new f({type:"video",id:p.id});case"file":return new g({type:"file",id:p.id})}},d.create=function(p){return(v=p).type!=="txt"||"version"in v?function(O){return O.type==="img"&&!("version"in O)}(p)?c.create(p):function(O){return O.type==="cmd"&&!("version"in O)}(p)?o.create(p):function(O){return O.type==="file"&&!("version"in O)}(p)?g.create(p):function(O){return O.type==="audio"&&!("version"in O)}(p)?h.create(p):function(O){return O.type==="video"&&!("version"in O)}(p)?f.create(p):function(O){return O.type==="custom"&&!("version"in O)}(p)?n.create(p):function(O){return O.type==="loc"&&!("version"in O)}(p)?l.create(p):function(O){return O.type==="channel"&&!("version"in O)}(p)?a.create(p):function(O){return O.type==="delivery"&&!("version"in O)}(p)?i.create(p):function(O){return O.type==="read"&&!("version"in O)}(p)?t.create(p):{}:s.create(p);var v},d.prototype.set=function(p){},d}()},5531:function(u,_,e){var r;e.d(_,{E:function(){return r}}),function(t){t[t.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",t[t.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",t[t.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",t[t.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",t[t.REQUEST_ABORT=-4]="REQUEST_ABORT",t[t.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",t[t.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",t[t.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",t[t.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",t[t.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",t[t.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",t[t.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",t[t.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",t[t.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",t[t.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",t[t.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",t[t.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",t[t.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",t[t.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",t[t.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",t[t.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",t[t.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",t[t.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",t[t.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",t[t.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",t[t.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",t[t.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",t[t.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",t[t.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",t[t.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",t[t.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",t[t.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",t[t.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",t[t.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",t[t.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",t[t.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",t[t.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",t[t.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",t[t.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",t[t.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",t[t.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",t[t.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",t[t.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",t[t.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",t[t.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",t[t.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",t[t.MAX_LIMIT=50]="MAX_LIMIT",t[t.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",t[t.NO_PERMISSION=52]="NO_PERMISSION",t[t.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",t[t.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",t[t.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",t[t.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",t[t.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",t[t.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",t[t.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",t[t.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",t[t.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",t[t.USER_NOT_FOUND=204]="USER_NOT_FOUND",t[t.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",t[t.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",t[t.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",t[t.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",t[t.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",t[t.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",t[t.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",t[t.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",t[t.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",t[t.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",t[t.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",t[t.WEBIM_MESSAGE_REC_AUDIO=304]="WEBIM_MESSAGE_REC_AUDIO",t[t.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",t[t.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",t[t.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",t[t.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",t[t.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",t[t.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",t[t.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",t[t.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",t[t.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",t[t.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",t[t.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",t[t.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",t[t.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",t[t.STATUS_INIT=400]="STATUS_INIT",t[t.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",t[t.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",t[t.STATUS_OPENED=403]="STATUS_OPENED",t[t.STATUS_CLOSING=404]="STATUS_CLOSING",t[t.STATUS_CLOSED=405]="STATUS_CLOSED",t[t.STATUS_ERROR=406]="STATUS_ERROR",t[t.SERVER_BUSY=500]="SERVER_BUSY",t[t.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",t[t.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",t[t.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",t[t.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",t[t.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",t[t.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",t[t.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",t[t.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",t[t.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",t[t.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",t[t.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",t[t.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",t[t.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",t[t.PERMISSION_DENIED=603]="PERMISSION_DENIED",t[t.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",t[t.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",t[t.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",t[t.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",t[t.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",t[t.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",t[t.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",t[t.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",t[t.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",t[t.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",t[t.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",t[t.REACTION_CREATING=1102]="REACTION_CREATING",t[t.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",t[t.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",t[t.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",t[t.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",t[t.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",t[t.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST"}(r||(r={}))},4370:function(u,_,e){e.d(_,{iw:function(){return m},hj:function(){return l},LR:function(){return S},cT:function(){return O},P6:function(){return k}}),e(9601),e(1539),e(8674),e(3710),e(6699),e(7042),e(2772),e(9653),e(9714),e(6992),e(8783),e(3948),e(285),e(1637),e(8309),e(4986),e(2023);var r=e(5531),t=function(){return t=Object.assign||function(E){for(var T,y=1,b=arguments.length;y<b;y++)for(var U in T=arguments[y])Object.prototype.hasOwnProperty.call(T,U)&&(E[U]=T[U]);return E},t.apply(this,arguments)},i=e(1595),a=e(2071),s=e(7360),o=function(){return o=Object.assign||function(E){for(var T,y=1,b=arguments.length;y<b;y++)for(var U in T=arguments[y])Object.prototype.hasOwnProperty.call(T,U)&&(E[U]=T[U]);return E},o.apply(this,arguments)},n=function(){};function l(E,T){var y,b=this;return p().platform===m.WEB?new Promise(function(U,D){var L=E.dataType||"text",Z=E.success||n,J=E.error||n,G=new XMLHttpRequest;G.ontimeout=function(){D({type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:G})},G.onerror=function(){D({type:r.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:G})},G.onabort=function(){D({type:r.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:G})},G.onreadystatechange=function(){if(G.readyState===4){var fe=new Date().getTime()-y,Ue=G.status||0,Ae={elapse:fe,httpCode:Ue};if(Ue===200){k.ajaxUnconventionalErrorTimes=0;try{switch(L){case"text":return Z(G.responseText),void U(G.responseText);case"json":var xe=JSON.parse(G.responseText);return xe.extraInfo=Ae,Z(xe),void U(xe);case"xml":return G.responseXML&&G.responseXML.documentElement?(Z(G.responseXML.documentElement),void U(G.responseXML.documentElement)):(J({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void D({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:J({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"Invalid dataType"}),D({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"Invalid dataType"})}return U(G.response||G.responseText),void Z(G.response||G.responseText,G)}catch(Re){D(Re)}return}[400,401,403,404,429,500,503].includes(Ue)||(s.kg.debug("rest api request fail status:",Ue),k.ajaxUnconventionalErrorTimes++),function(Re,V,He,Ke){var ot,ze,et,We,Xe,Ye,nt,$e,Ie,x,ue,se,j,H,he,le,de,Ee,Ce,ne,K=Re.response;K&&typeof K=="string"&&(K=JSON.parse(K));var C=Re.status,X={elapse:Ke,httpCode:C,errDesc:K==null?void 0:K.error_description};if(C===400){if(K.error_code===40002)return void V({type:r.E.THREAD_ALREADY_EXIST,message:K==null?void 0:K.error_description,extraInfo:X});if(K.error_code===40009)return void V({type:r.E.OPERATION_UNSUPPORTED,message:K==null?void 0:K.error_description,extraInfo:X});if(K.error_code===60010)return void V({type:r.E.NO_PERMISSION,message:K==null?void 0:K.desc});if(K.error_code===60011)return void V({type:r.E.CHATROOM_NOT_JOINED,message:K==null?void 0:K.desc});if(K.error_code===60012)return void V({type:r.E.MAX_LIMIT,message:K==null?void 0:K.desc});if(!((ot=K.error_description)===null||ot===void 0)&&ot.includes("are not members of this group"))return!((ze=Re.responseURL)===null||ze===void 0)&&ze.includes("chatgroups")?V({type:r.E.GROUP_NOT_JOINED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):V({type:r.E.CHATROOM_NOT_JOINED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}),void He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:K==null?void 0:K.error_description,data:Re.responseText,extraInfo:X});if((K==null?void 0:K.result)==="the app not open presence")return void V({type:r.E.SERVICE_NOT_ENABLED,message:K==null?void 0:K.result,extraInfo:X});switch(K==null?void 0:K.error_description){case"the user is already operation this message":V({type:r.E.REACTION_ALREADY_ADDED,message:K==null?void 0:K.error_description,extraInfo:X});break;case"The quantity has exceeded the limit!":V({type:r.E.MAX_LIMIT,message:K==null?void 0:K.error_description,extraInfo:X});break;case"The user not in this group!":V({type:r.E.GROUP_NOT_JOINED,message:K==null?void 0:K.error_description,extraInfo:X});break;case"the user operation is illegal!":V({type:r.E.REACTION_OPERATION_IS_ILLEGAL,message:K==null?void 0:K.error_description,extraInfo:X});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":V({type:r.E.SERVICE_NOT_ENABLED,message:K==null?void 0:K.error_description,extraInfo:X});break;case"this message is creating reaction, please try again.":V({type:r.E.REACTION_CREATING,message:K==null?void 0:K.error_description,extraInfo:X});break;case"groupId can not be null!":V({type:r.E.GROUP_NOT_EXIST,message:K==null?void 0:K.error_description,extraInfo:X});break;case"The input text is too long.":V({type:r.E.TRANSLATION_TEXT_TOO_LONG,message:K==null?void 0:K.error_description,extraInfo:X});break;case"The target language is not valid.":V({type:r.E.TRANSLATION_NOT_VALID,message:K==null?void 0:K.error_description,extraInfo:X});break;case"report failed, get message by id failed":V({type:r.E.MESSAGE_NOT_FOUND,message:K==null?void 0:K.error_description,extraInfo:X});break;case"ext is too big ":V({type:r.E.PRESENCE_PARAM_EXCEED,message:K==null?void 0:K.error_description,extraInfo:X});break;case"Request body not readable.Please check content type is correct!":V({type:r.E.REQUEST_PARAMETER_ERROR,message:K==null?void 0:K.error_description,extraInfo:X});break;default:V({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:K==null?void 0:K.error_description,data:Re.responseText,extraInfo:X}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:K==null?void 0:K.error_description,data:Re.responseText,extraInfo:X})}}else if(C===401)K.error_code===40001||K.error_description==="Unable to authenticate (OAuth)"?V({type:r.E.NO_PERMISSION,message:K==null?void 0:K.error_description,extraInfo:X}):(He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:Re.responseText,extraInfo:X}),V({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:Re.responseText,extraInfo:X}));else if(C===403)K.error_code===4e4?V({type:r.E.SERVICE_NOT_ENABLED,message:K==null?void 0:K.error_description,extraInfo:X}):K.error_code===40003||K.error_code===40004?V({type:r.E.THREAD_ALREADY_EXIST,message:K==null?void 0:K.error_description,extraInfo:X}):(K.error_code===40005||K.error_code===40007)&&V({type:r.E.MAX_LIMIT,message:K==null?void 0:K.error_description,extraInfo:X}),K.error_description==="group member list is full!"?!((et=Re.responseURL)===null||et===void 0)&&et.includes("chatgroups")?V({type:r.E.GROUP_MEMBERS_FULL,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):V({type:r.E.CHATROOM_MEMBERS_FULL,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):!((We=K.error_description)===null||We===void 0)&&We.includes(K.error_description.includes("already in group"))?!((Xe=Re.responseURL)===null||Xe===void 0)&&Xe.includes("chatgroups")&&V({type:r.E.GROUP_ALREADY_JOINED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):!((Ye=K.error_description)===null||Ye===void 0)&&Ye.includes("are not members of this group")?!((nt=Re.responseURL)===null||nt===void 0)&&nt.includes("chatgroups")?V({type:r.E.GROUP_NOT_JOINED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):V({type:r.E.CHATROOM_NOT_JOINED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):(($e=K.error_description)===null||$e===void 0?void 0:$e.includes("service not open!"))||((Ie=K.error_description)===null||Ie===void 0?void 0:Ie.includes("message report not open"))||((x=K.error_description)===null||x===void 0?void 0:x.includes("messageroaming function not open"))?V({type:r.E.SERVICE_NOT_ENABLED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):!((ue=K.error_description)===null||ue===void 0)&&ue.includes("members size is greater than max user size !")?V({type:r.E.GROUP_MEMBERS_LIMIT,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):!((se=K.error_description)===null||se===void 0)&&se.includes("can not operate this group, reason: group is disabled")?V({type:r.E.GROUP_IS_DISABLED,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):V({type:r.E.PERMISSION_DENIED,data:Re.response||Re.responseText,message:"permission denied",extraInfo:t(t({},X),{errDesc:"permission denied"})}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:Re.responseText,extraInfo:X});else if(C===404)K.error_code===40011?V({type:r.E.THREAD_NOT_EXIST,message:K==null?void 0:K.error_description,extraInfo:X}):K.error_code===40012&&V({type:r.E.NO_PERMISSION,message:K==null?void 0:K.error_description,extraInfo:X}),((j=K.error_description)===null||j===void 0?void 0:j.includes("do not find this group"))||((H=K.error_description)===null||H===void 0?void 0:H.includes("does not exist"))?!((he=Re.responseURL)===null||he===void 0)&&he.includes("chatgroups")?V({type:r.E.GROUP_NOT_EXIST,data:Re.response||Re.responseText,message:"The chat room dose not exist.",extraInfo:t(t({},X),{errDesc:"The chat room dose not exist."})}):V({type:r.E.CHATROOM_NOT_EXIST,data:Re.response||Re.responseText,message:"The chat room dose not exist.",extraInfo:t(t({},X),{errDesc:"The chat room dose not exist."})}):((le=K.error_description)===null||le===void 0?void 0:le.includes("username"))&&((de=K.error_description)===null||de===void 0?void 0:de.includes("doesn't exist!'"))||((Ee=K.error_description)===null||Ee===void 0?void 0:Ee.includes("user not found"))?V({type:r.E.USER_NOT_FOUND,data:Re.response||Re.responseText,message:K.error_description,extraInfo:X}):V({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.response||Re.responseText,message:Re.responseText,extraInfo:X}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.response||Re.responseText,message:Re.responseText,extraInfo:X});else if(C===429||C===503){if(!((Ce=K.error_description)===null||Ce===void 0)&&Ce.includes("The request has reached the maximum limit"))return void V({type:r.E.MAX_LIMIT,message:Re.responseText,extraInfo:X});V({type:r.E.SERVER_BUSY,data:Re.response||Re.responseText,message:"Server is busy.",extraInfo:t(t({},X),{errDesc:"Server is busy."})}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"Server is busy.",extraInfo:t(t({},X),{errDesc:"Server is busy."})})}else if(C===500){if((K.error_code===40006||K.error_code===40008||K.error_code===40010)&&V({type:r.E.SERVER_UNKNOWN_ERROR,message:K==null?void 0:K.error_description,extraInfo:X}),(ne=K.error_description)===null||ne===void 0?void 0:ne.includes("translte failed!"))return void V({type:r.E.TRANSLATION_FAILED,message:Re.responseText,extraInfo:X});V({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"",extraInfo:X}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:"",extraInfo:X})}else V({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:Re.responseText,extraInfo:t(t({},X),{errDesc:"ajax error"})}),He({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Re.responseText,message:Re.responseText,extraInfo:t(t({},X),{errDesc:"ajax error"})})}(G,D,J,fe)}G.readyState===0&&(J({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"Request not initialized"}),D({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:G.responseText,message:"Request not initialized"}))},E.responseType&&G.responseType&&(G.responseType=E.responseType),E.mimeType&&G.overrideMimeType(E.mimeType);var te=E.type||"POST",ce=E.data||null,ie="";if(te.toLowerCase()==="get"&&ce){for(var ye in ce)ce.hasOwnProperty(ye)&&(ie+=ye+"="+ce[ye]+"&");ie=ie&&ie.slice(0,-1),E.url+=(E.url.indexOf("?")>0?"&":"?")+(ie&&ie+"&")+"_v="+new Date().getTime(),ce=null,ie=""}y=new Date().getTime(),G.open(te,E.url);var be=E.headers||{};for(var Oe in be["Content-Type"]||(be["Content-Type"]="application/json"),be)be.hasOwnProperty(Oe)&&G.setRequestHeader(Oe,be[Oe]);G.send(ce)}).then(function(U){return b.dataReport&&T&&T!==i.fI.SDK_INTERNAL&&b.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:o({isSuccess:1,requestUrl:E.url,requestName:T,requestMethod:E.type},I(U.extraInfo))}),T!==i.fI.SDK_INTERNAL&&delete U.extraInfo,c(U)==="Object"?o(o({},U),{type:r.E.REQUEST_SUCCESS}):{data:U,type:r.E.REQUEST_SUCCESS}}).catch(function(U){throw b.dataReport&&T&&T!==i.fI.SDK_INTERNAL&&b.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:o({isSuccess:0,requestUrl:E.url,requestName:T,requestMethod:E.type},I(U.extraInfo))}),T!==i.fI.SDK_INTERNAL&&delete U.extraInfo,U}):h.call(this,E,T)}function c(E){return Object.prototype.toString.call(E).slice(8,-1)}function h(E,T){var y=this;return new Promise(function(b,U){var D=E.success||n,L=E.error||n,Z=E.type||"POST",J=E.data||null,G="",te=new Date().getTime(),ce=k.getEnvInfo();if(Z.toLowerCase()==="get"&&J){for(var ie in J)J.hasOwnProperty(ie)&&(G+=ie+"="+J[ie]+"&");G=G&&G.slice(0,-1),E.url+=(E.url.indexOf("?")>0?"&":"?")+(G&&G+"&")+"_v="+new Date().getTime(),J=null,G=""}var ye={url:E.url,data:E.data,method:Z,headers:{},success:function(be){var Oe,fe,Ue,Ae,xe,Re={elapse:new Date().getTime()-te,httpCode:Number(((Oe=be.statusCode)===null||Oe===void 0?void 0:Oe.toString())||((fe=be.status)===null||fe===void 0?void 0:fe.toString())),errDesc:((Ue=be==null?void 0:be.data)===null||Ue===void 0?void 0:Ue.error_description)||""};if(((Ae=be.statusCode)===null||Ae===void 0?void 0:Ae.toString())==="200"||((xe=be.status)===null||xe===void 0?void 0:xe.toString())==="200"){be.data.extraInfo=Re;var V=be.data;D(V),b(V)}else be.extraInfo=Re,L(V=be),U(V)},complete:function(){},fail:function(be){var Oe={elapse:new Date().getTime()-te,httpCode:a.Tp,errDesc:"request:fail"};be.extraInfo=Oe,be.data={error:"request:fail",error_description:"request:fail"},L(be),U(be)}};if(ce.platform==="zfb"||ce.platform==="dd"?ye.headers=E.headers:ye.header=E.headers,ce.platform==="dd")return dd.httpRequest(ye);ce.global.request(ye)}).then(function(b){return y.dataReport&&T&&T!==i.fI.SDK_INTERNAL&&y.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:o({isSuccess:1,requestUrl:E.url,requestName:T,requestMethod:E.type},I(b.extraInfo))}),T!==i.fI.SDK_INTERNAL&&delete b.extraInfo,c(b)==="Object"?o(o({},b),{type:r.E.REQUEST_SUCCESS}):{data:b,type:r.E.REQUEST_SUCCESS}}).catch(function(b){throw y.dataReport&&T&&T!==i.fI.SDK_INTERNAL&&y.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:o({isSuccess:0,requestUrl:E.url,requestName:T,requestMethod:E.type},I(b.extraInfo))}),T!==i.fI.SDK_INTERNAL&&delete b.extraInfo,b})}var f,g,m,d=(f=function(E,T){var y=p();if(y.platform!==m.WEB){var b=y.global,U=function(D){D.isConnected?E():T()};b.offNetworkStatusChange&&b.offNetworkStatusChange(U),b.onNetworkStatusChange&&b.onNetworkStatusChange(U)}else typeof addEventListener<"u"&&(window.addEventListener("online",E),window.addEventListener("offline",T))},function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];if(!f)return g;g=f.apply(void 0,E),f=null});function p(){return typeof swan<"u"&&v(swan)?{platform:m.BAIDU,global:swan}:typeof tt<"u"&&v(tt)?{platform:m.TT,global:tt}:typeof dd<"u"&&v(dd)?{platform:m.DD,global:dd}:typeof my<"u"&&v(my)?{platform:m.ZFB,global:my}:typeof wx<"u"&&v(wx)?{platform:m.WX,global:wx}:typeof uni<"u"&&v(uni)?{platform:m.UNI,global:uni}:typeof window<"u"&&window.WebSocket?{platform:m.WEB,global:window}:{platform:m.NODE,global:e.g||{}}}function v(E){for(var T=["canIUse","getSystemInfo"],y=0,b=T.length;y<b;y++)if(!E[T[y]])return!1;return!0}function O(E,T){var y,b,U=this,D=new Date().getTime(),L=E.accessToken;if(L){var Z=E.appKey,J=[],G="",te="";if(Z&&(G=(J=Z.split("#"))[0],te=J[1]),G||te){var ce=E.apiUrl,ie=E.uploadUrl||ce+"/"+G+"/"+te+"/chatfiles";if(((b=(y=E==null?void 0:E.file)===null||y===void 0?void 0:y.data)===null||b===void 0?void 0:b.size)<=0)E.onFileUploadError&&E.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else{var ye=new XMLHttpRequest;ye.upload&&ye.upload.addEventListener("progress",E.onFileUploadProgress||n,!1),ye.addEventListener("abort",E.onFileUploadCanceled||n,!1),ye.addEventListener("error",function(fe){Oe({type:r.E.WEBIM_UPLOADFILE_ERROR,data:ye})},!1),ye.addEventListener("load",function(fe){try{var Ue=JSON.parse(ye.responseText);if(ye.status===400)return Oe({type:r.E.WEBIM_UPLOADFILE_ERROR,data:Ue}),!1;try{(function(Ae){var xe=new Date().getTime()-D;U.dataReport&&T&&[i.fI.UPLOAD_MSG_ATTACH,i.fI.UPLOAD_CHATROOM_FILE,i.fI.UPLOAD_GROUP_FILE].includes(T)&&U.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:{isSuccess:Ae!=null&&Ae.error?0:1,requestMethod:"POST",requestName:T,requestElapse:xe,requestUrl:ie,code:ye.status,codeDesc:(Ae==null?void 0:Ae.error_description)||""}}),E.onFileUploadComplete&&E.onFileUploadComplete(Ae)})(Ue)}catch(Ae){Oe({type:r.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:Ae})}}catch{Oe({type:r.E.WEBIM_UPLOADFILE_ERROR,data:ye.responseText})}},!1),ye.open("POST",ie),ye.setRequestHeader("restrict-access","true"),ye.setRequestHeader("Accept","*/*"),ye.setRequestHeader("Authorization","Bearer "+L);var be=new FormData;be.append("file",E.file.data),ye.send(be)}}else E.onFileUploadError&&E.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"})}else E.onFileUploadError&&E.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"});function Oe(fe){var Ue=new Date().getTime()-D;U.dataReport&&T&&[i.fI.UPLOAD_MSG_ATTACH,i.fI.UPLOAD_CHATROOM_FILE,i.fI.UPLOAD_GROUP_FILE].includes(T)&&U.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:T,requestElapse:Ue,requestUrl:ie,code:(ye==null?void 0:ye.status)||0,codeDesc:"upload file error"}}),E.onFileUploadError&&E.onFileUploadError(fe)}}function S(E,T){E.onFileDownloadComplete=E.onFileDownloadComplete||n,E.onFileDownloadError=E.onFileDownloadError||n;var y=new Date().getTime(),b=new XMLHttpRequest,U=this;b.addEventListener("load",function(ce){var ie=new Date().getTime()-y;U.dataReport&&T&&T===i.fI.DOWN_GROUP_FILE&&U.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:{isSuccess:b.status===200?1:0,requestMethod:"POST",requestName:T,requestElapse:ie,requestUrl:E==null?void 0:E.url,code:b.status,codeDesc:b.status===200?"":"download file error"}}),E.onFileDownloadComplete&&E.onFileDownloadComplete(b.response)},!1),b.addEventListener("error",function(ce){var ie=new Date().getTime()-y;U.dataReport&&T&&T===i.fI.DOWN_GROUP_FILE&&U.dataReport.geOperateFun({operationName:T})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:T,requestElapse:ie,requestUrl:E==null?void 0:E.url,code:(b==null?void 0:b.status)||0,codeDesc:"download file error"}}),E.onFileDownloadError&&E.onFileDownloadError({type:r.E.WEBIM_DOWNLOADFILE_ERROR,id:E.id,xhr:b})},!1);var D=E.method||"GET",L=E.responseType||"blob",Z=E.mimeType||"text/plain; charset=x-user-defined";b.open(D,E.url),typeof Blob<"u"?b.responseType=L:b.overrideMimeType(Z);var J={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":E.secret,Authorization:"Bearer "+this.context.accessToken},G=E.headers||{};for(var te in G)J[te]=G[te];for(var te in J)J[te]&&b.setRequestHeader(te,J[te]);b.send(null)}function I(E){E===void 0&&(E={});var T=E.elapse,y=T===void 0?0:T,b=E.httpCode,U=b===void 0?0:b,D=E.errDesc;return{requestElapse:y,code:U,codeDesc:D===void 0?"":D}}(function(E){E.WEB="web",E.WX="wx",E.ZFB="zfb",E.DD="dd",E.TT="tt",E.BAIDU="baidu",E.QUICK_APP="quick_app",E.UNI="uni",E.NODE="node"})(m||(m={}));var k={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:l,getUniqueId:function(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var E=new Date,T=new Date(2010,1,1);return(E.getTime()-T.getTime()+this.autoIncrement).toString()},getFileUrl:function(E){var T={url:"",filename:"",filetype:"",data:{}},y=typeof E=="string"?document.getElementById(E):E;if(window.URL.createObjectURL){if(!y.files)throw Error("this is not HTMLInputElement");var b=y.files;if(b.length>0){var U=b.item(0);T.data=U,T.url=window.URL.createObjectURL(U),T.filename=(U==null?void 0:U.name)||""}}else{if(typeof E!="string")throw Error("in IE fileInputId must be string");U=document.getElementById(E).value,T.url=U;var D=U.lastIndexOf("/"),L=U.lastIndexOf("\\"),Z=Math.max(D,L);T.filename=Z<0?U:U.substring(Z+1)}var J=T.filename.lastIndexOf(".");return J!==-1&&(T.filetype=T.filename.substring(J+1).toLowerCase()),T},uploadFile:O,flow:function(E){for(var T=E.length,y=T;y--;)if(typeof E[y]!="function")throw new TypeError("Expected a function");return function(){for(var b=[],U=0;U<arguments.length;U++)b[U]=arguments[U];for(var D=0,L=T?E[D].apply(this,b):b[0];++D<T;)L=E[D].call(this,L);return L}},listenNetwork:d,getEnvInfo:p,wxRequest:h,parseDownloadResponse:function(E){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return E&&E.type&&E.type==="application/json"||0>Object.prototype.toString.call(E).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(E)},download:S,parseNotify:function(E){for(var T="",y=0;y<E.length;y++)T+="%"+E[y].toString(16);return JSON.parse(decodeURIComponent(T))},getExtraData:I}},9662:function(u,_,e){var r=e(614),t=e(6330),i=TypeError;u.exports=function(a){if(r(a))return a;throw i(t(a)+" is not a function")}},9483:function(u,_,e){var r=e(4411),t=e(6330),i=TypeError;u.exports=function(a){if(r(a))return a;throw i(t(a)+" is not a constructor")}},6077:function(u,_,e){var r=e(614),t=String,i=TypeError;u.exports=function(a){if(typeof a=="object"||r(a))return a;throw i("Can't set "+t(a)+" as a prototype")}},1223:function(u,_,e){var r=e(5112),t=e(30),i=e(3070).f,a=r("unscopables"),s=Array.prototype;s[a]==null&&i(s,a,{configurable:!0,value:t(null)}),u.exports=function(o){s[a][o]=!0}},5787:function(u,_,e){var r=e(7976),t=TypeError;u.exports=function(i,a){if(r(a,i))return i;throw t("Incorrect invocation")}},9670:function(u,_,e){var r=e(111),t=String,i=TypeError;u.exports=function(a){if(r(a))return a;throw i(t(a)+" is not an object")}},3013:function(u){u.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:function(u,_,e){var r=e(7293);u.exports=r(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},260:function(u,_,e){var r,t,i,a=e(3013),s=e(9781),o=e(7854),n=e(614),l=e(111),c=e(2597),h=e(648),f=e(6330),g=e(8880),m=e(8052),d=e(7045),p=e(7976),v=e(9518),O=e(7674),S=e(5112),I=e(9711),k=e(9909),E=k.enforce,T=k.get,y=o.Int8Array,b=y&&y.prototype,U=o.Uint8ClampedArray,D=U&&U.prototype,L=y&&v(y),Z=b&&v(b),J=Object.prototype,G=o.TypeError,te=S("toStringTag"),ce=I("TYPED_ARRAY_TAG"),ie=a&&!!O&&h(o.opera)!=="Opera",ye=!1,be={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Oe={BigInt64Array:8,BigUint64Array:8},fe=function(Ae){var xe=v(Ae);if(l(xe)){var Re=T(xe);return Re&&c(Re,"TypedArrayConstructor")?Re.TypedArrayConstructor:fe(xe)}},Ue=function(Ae){if(!l(Ae))return!1;var xe=h(Ae);return c(be,xe)||c(Oe,xe)};for(r in be)(i=(t=o[r])&&t.prototype)?E(i).TypedArrayConstructor=t:ie=!1;for(r in Oe)(i=(t=o[r])&&t.prototype)&&(E(i).TypedArrayConstructor=t);if((!ie||!n(L)||L===Function.prototype)&&(L=function(){throw G("Incorrect invocation")},ie))for(r in be)o[r]&&O(o[r],L);if((!ie||!Z||Z===J)&&(Z=L.prototype,ie))for(r in be)o[r]&&O(o[r].prototype,Z);if(ie&&v(D)!==Z&&O(D,Z),s&&!c(Z,te))for(r in ye=!0,d(Z,te,{configurable:!0,get:function(){return l(this)?this[ce]:void 0}}),be)o[r]&&g(o[r],ce,r);u.exports={NATIVE_ARRAY_BUFFER_VIEWS:ie,TYPED_ARRAY_TAG:ye&&ce,aTypedArray:function(Ae){if(Ue(Ae))return Ae;throw G("Target is not a typed array")},aTypedArrayConstructor:function(Ae){if(n(Ae)&&(!O||p(L,Ae)))return Ae;throw G(f(Ae)+" is not a typed array constructor")},exportTypedArrayMethod:function(Ae,xe,Re,V){if(s){if(Re)for(var He in be){var Ke=o[He];if(Ke&&c(Ke.prototype,Ae))try{delete Ke.prototype[Ae]}catch{try{Ke.prototype[Ae]=xe}catch{}}}Z[Ae]&&!Re||m(Z,Ae,Re?xe:ie&&b[Ae]||xe,V)}},exportTypedArrayStaticMethod:function(Ae,xe,Re){var V,He;if(s){if(O){if(Re){for(V in be)if((He=o[V])&&c(He,Ae))try{delete He[Ae]}catch{}}if(L[Ae]&&!Re)return;try{return m(L,Ae,Re?xe:ie&&L[Ae]||xe)}catch{}}for(V in be)!(He=o[V])||He[Ae]&&!Re||m(He,Ae,xe)}},getTypedArrayConstructor:fe,isView:function(Ae){if(!l(Ae))return!1;var xe=h(Ae);return xe==="DataView"||c(be,xe)||c(Oe,xe)},isTypedArray:Ue,TypedArray:L,TypedArrayPrototype:Z}},3331:function(u,_,e){var r=e(7854),t=e(1702),i=e(9781),a=e(3013),s=e(6530),o=e(8880),n=e(7045),l=e(9190),c=e(7293),h=e(5787),f=e(9303),g=e(7466),m=e(7067),d=e(1179),p=e(9518),v=e(7674),O=e(8006).f,S=e(1285),I=e(1589),k=e(8003),E=e(9909),T=s.PROPER,y=s.CONFIGURABLE,b="ArrayBuffer",U="DataView",D="Wrong index",L=E.getterFor(b),Z=E.getterFor(U),J=E.set,G=r.ArrayBuffer,te=G,ce=te&&te.prototype,ie=r.DataView,ye=ie&&ie.prototype,be=Object.prototype,Oe=r.Array,fe=r.RangeError,Ue=t(S),Ae=t([].reverse),xe=d.pack,Re=d.unpack,V=function(j){return[255&j]},He=function(j){return[255&j,j>>8&255]},Ke=function(j){return[255&j,j>>8&255,j>>16&255,j>>24&255]},ot=function(j){return j[3]<<24|j[2]<<16|j[1]<<8|j[0]},ze=function(j){return xe(j,23,4)},et=function(j){return xe(j,52,8)},We=function(j,H,he){n(j.prototype,H,{configurable:!0,get:function(){return he(this)[H]}})},Xe=function(j,H,he,le){var de=m(he),Ee=Z(j);if(de+H>Ee.byteLength)throw fe(D);var Ce=Ee.bytes,ne=de+Ee.byteOffset,K=I(Ce,ne,ne+H);return le?K:Ae(K)},Ye=function(j,H,he,le,de,Ee){var Ce=m(he),ne=Z(j);if(Ce+H>ne.byteLength)throw fe(D);for(var K=ne.bytes,C=Ce+ne.byteOffset,X=le(+de),Y=0;Y<H;Y++)K[C+Y]=X[Ee?Y:H-Y-1]};if(a){var nt=T&&G.name!==b;if(c(function(){G(1)})&&c(function(){new G(-1)})&&!c(function(){return new G,new G(1.5),new G(NaN),G.length!=1||nt&&!y}))nt&&y&&o(G,"name",b);else{(te=function(j){return h(this,ce),new G(m(j))}).prototype=ce;for(var $e,Ie=O(G),x=0;Ie.length>x;)($e=Ie[x++])in te||o(te,$e,G[$e]);ce.constructor=te}v&&p(ye)!==be&&v(ye,be);var ue=new ie(new te(2)),se=t(ye.setInt8);ue.setInt8(0,2147483648),ue.setInt8(1,2147483649),!ue.getInt8(0)&&ue.getInt8(1)||l(ye,{setInt8:function(j,H){se(this,j,H<<24>>24)},setUint8:function(j,H){se(this,j,H<<24>>24)}},{unsafe:!0})}else ce=(te=function(j){h(this,ce);var H=m(j);J(this,{type:b,bytes:Ue(Oe(H),0),byteLength:H}),i||(this.byteLength=H,this.detached=!1)}).prototype,ye=(ie=function(j,H,he){h(this,ye),h(j,ce);var le=L(j),de=le.byteLength,Ee=f(H);if(Ee<0||Ee>de)throw fe("Wrong offset");if(Ee+(he=he===void 0?de-Ee:g(he))>de)throw fe("Wrong length");J(this,{type:U,buffer:j,byteLength:he,byteOffset:Ee,bytes:le.bytes}),i||(this.buffer=j,this.byteLength=he,this.byteOffset=Ee)}).prototype,i&&(We(te,"byteLength",L),We(ie,"buffer",Z),We(ie,"byteLength",Z),We(ie,"byteOffset",Z)),l(ye,{getInt8:function(j){return Xe(this,1,j)[0]<<24>>24},getUint8:function(j){return Xe(this,1,j)[0]},getInt16:function(j){var H=Xe(this,2,j,arguments.length>1?arguments[1]:void 0);return(H[1]<<8|H[0])<<16>>16},getUint16:function(j){var H=Xe(this,2,j,arguments.length>1?arguments[1]:void 0);return H[1]<<8|H[0]},getInt32:function(j){return ot(Xe(this,4,j,arguments.length>1?arguments[1]:void 0))},getUint32:function(j){return ot(Xe(this,4,j,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(j){return Re(Xe(this,4,j,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(j){return Re(Xe(this,8,j,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(j,H){Ye(this,1,j,V,H)},setUint8:function(j,H){Ye(this,1,j,V,H)},setInt16:function(j,H){Ye(this,2,j,He,H,arguments.length>2?arguments[2]:void 0)},setUint16:function(j,H){Ye(this,2,j,He,H,arguments.length>2?arguments[2]:void 0)},setInt32:function(j,H){Ye(this,4,j,Ke,H,arguments.length>2?arguments[2]:void 0)},setUint32:function(j,H){Ye(this,4,j,Ke,H,arguments.length>2?arguments[2]:void 0)},setFloat32:function(j,H){Ye(this,4,j,ze,H,arguments.length>2?arguments[2]:void 0)},setFloat64:function(j,H){Ye(this,8,j,et,H,arguments.length>2?arguments[2]:void 0)}});k(te,b),k(ie,U),u.exports={ArrayBuffer:te,DataView:ie}},1048:function(u,_,e){var r=e(7908),t=e(1400),i=e(6244),a=e(5117),s=Math.min;u.exports=[].copyWithin||function(o,n){var l=r(this),c=i(l),h=t(o,c),f=t(n,c),g=arguments.length>2?arguments[2]:void 0,m=s((g===void 0?c:t(g,c))-f,c-h),d=1;for(f<h&&h<f+m&&(d=-1,f+=m-1,h+=m-1);m-- >0;)f in l?l[h]=l[f]:a(l,h),h+=d,f+=d;return l}},1285:function(u,_,e){var r=e(7908),t=e(1400),i=e(6244);u.exports=function(a){for(var s=r(this),o=i(s),n=arguments.length,l=t(n>1?arguments[1]:void 0,o),c=n>2?arguments[2]:void 0,h=c===void 0?o:t(c,o);h>l;)s[l++]=a;return s}},8533:function(u,_,e){var r=e(2092).forEach,t=e(9341)("forEach");u.exports=t?[].forEach:function(i){return r(this,i,arguments.length>1?arguments[1]:void 0)}},7745:function(u,_,e){var r=e(6244);u.exports=function(t,i){for(var a=0,s=r(i),o=new t(s);s>a;)o[a]=i[a++];return o}},8457:function(u,_,e){var r=e(9974),t=e(6916),i=e(7908),a=e(3411),s=e(7659),o=e(4411),n=e(6244),l=e(6135),c=e(4121),h=e(1246),f=Array;u.exports=function(g){var m=i(g),d=o(this),p=arguments.length,v=p>1?arguments[1]:void 0,O=v!==void 0;O&&(v=r(v,p>2?arguments[2]:void 0));var S,I,k,E,T,y,b=h(m),U=0;if(!b||this===f&&s(b))for(S=n(m),I=d?new this(S):f(S);S>U;U++)y=O?v(m[U],U):m[U],l(I,U,y);else for(T=(E=c(m,b)).next,I=d?new this:[];!(k=t(T,E)).done;U++)y=O?a(E,v,[k.value,U],!0):k.value,l(I,U,y);return I.length=U,I}},1318:function(u,_,e){var r=e(5656),t=e(1400),i=e(6244),a=function(s){return function(o,n,l){var c,h=r(o),f=i(h),g=t(l,f);if(s&&n!=n){for(;f>g;)if((c=h[g++])!=c)return!0}else for(;f>g;g++)if((s||g in h)&&h[g]===n)return s||g||0;return!s&&-1}};u.exports={includes:a(!0),indexOf:a(!1)}},2092:function(u,_,e){var r=e(9974),t=e(1702),i=e(8361),a=e(7908),s=e(6244),o=e(5417),n=t([].push),l=function(c){var h=c==1,f=c==2,g=c==3,m=c==4,d=c==6,p=c==7,v=c==5||d;return function(O,S,I,k){for(var E,T,y=a(O),b=i(y),U=r(S,I),D=s(b),L=0,Z=k||o,J=h?Z(O,D):f||p?Z(O,0):void 0;D>L;L++)if((v||L in b)&&(T=U(E=b[L],L,y),c))if(h)J[L]=T;else if(T)switch(c){case 3:return!0;case 5:return E;case 6:return L;case 2:n(J,E)}else switch(c){case 4:return!1;case 7:n(J,E)}return d?-1:g||m?m:J}};u.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(u,_,e){var r=e(2104),t=e(5656),i=e(9303),a=e(6244),s=e(9341),o=Math.min,n=[].lastIndexOf,l=!!n&&1/[1].lastIndexOf(1,-0)<0,c=s("lastIndexOf"),h=l||!c;u.exports=h?function(f){if(l)return r(n,this,arguments)||0;var g=t(this),m=a(g),d=m-1;for(arguments.length>1&&(d=o(d,i(arguments[1]))),d<0&&(d=m+d);d>=0;d--)if(d in g&&g[d]===f)return d||0;return-1}:n},1194:function(u,_,e){var r=e(7293),t=e(5112),i=e(7392),a=t("species");u.exports=function(s){return i>=51||!r(function(){var o=[];return(o.constructor={})[a]=function(){return{foo:1}},o[s](Boolean).foo!==1})}},9341:function(u,_,e){var r=e(7293);u.exports=function(t,i){var a=[][t];return!!a&&r(function(){a.call(null,i||function(){return 1},1)})}},3671:function(u,_,e){var r=e(9662),t=e(7908),i=e(8361),a=e(6244),s=TypeError,o=function(n){return function(l,c,h,f){r(c);var g=t(l),m=i(g),d=a(g),p=n?d-1:0,v=n?-1:1;if(h<2)for(;;){if(p in m){f=m[p],p+=v;break}if(p+=v,n?p<0:d<=p)throw s("Reduce of empty array with no initial value")}for(;n?p>=0:d>p;p+=v)p in m&&(f=c(f,m[p],p,g));return f}};u.exports={left:o(!1),right:o(!0)}},3658:function(u,_,e){var r=e(9781),t=e(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();u.exports=s?function(o,n){if(t(o)&&!a(o,"length").writable)throw i("Cannot set read only .length");return o.length=n}:function(o,n){return o.length=n}},1589:function(u,_,e){var r=e(1400),t=e(6244),i=e(6135),a=Array,s=Math.max;u.exports=function(o,n,l){for(var c=t(o),h=r(n,c),f=r(l===void 0?c:l,c),g=a(s(f-h,0)),m=0;h<f;h++,m++)i(g,m,o[h]);return g.length=m,g}},206:function(u,_,e){var r=e(1702);u.exports=r([].slice)},4362:function(u,_,e){var r=e(1589),t=Math.floor,i=function(o,n){var l=o.length,c=t(l/2);return l<8?a(o,n):s(o,i(r(o,0,c),n),i(r(o,c),n),n)},a=function(o,n){for(var l,c,h=o.length,f=1;f<h;){for(c=f,l=o[f];c&&n(o[c-1],l)>0;)o[c]=o[--c];c!==f++&&(o[c]=l)}return o},s=function(o,n,l,c){for(var h=n.length,f=l.length,g=0,m=0;g<h||m<f;)o[g+m]=g<h&&m<f?c(n[g],l[m])<=0?n[g++]:l[m++]:g<h?n[g++]:l[m++];return o};u.exports=i},7475:function(u,_,e){var r=e(3157),t=e(4411),i=e(111),a=e(5112)("species"),s=Array;u.exports=function(o){var n;return r(o)&&(n=o.constructor,(t(n)&&(n===s||r(n.prototype))||i(n)&&(n=n[a])===null)&&(n=void 0)),n===void 0?s:n}},5417:function(u,_,e){var r=e(7475);u.exports=function(t,i){return new(r(t))(i===0?0:i)}},3411:function(u,_,e){var r=e(9670),t=e(9212);u.exports=function(i,a,s,o){try{return o?a(r(s)[0],s[1]):a(s)}catch(n){t(i,"throw",n)}}},7072:function(u,_,e){var r=e(5112)("iterator"),t=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){t=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch{}u.exports=function(s,o){if(!o&&!t)return!1;var n=!1;try{var l={};l[r]=function(){return{next:function(){return{done:n=!0}}}},s(l)}catch{}return n}},4326:function(u,_,e){var r=e(1702),t=r({}.toString),i=r("".slice);u.exports=function(a){return i(t(a),8,-1)}},648:function(u,_,e){var r=e(1694),t=e(614),i=e(4326),a=e(5112)("toStringTag"),s=Object,o=i(function(){return arguments}())=="Arguments";u.exports=r?i:function(n){var l,c,h;return n===void 0?"Undefined":n===null?"Null":typeof(c=function(f,g){try{return f[g]}catch{}}(l=s(n),a))=="string"?c:o?i(l):(h=i(l))=="Object"&&t(l.callee)?"Arguments":h}},5631:function(u,_,e){var r=e(30),t=e(7045),i=e(9190),a=e(9974),s=e(5787),o=e(8554),n=e(408),l=e(1656),c=e(6178),h=e(6340),f=e(9781),g=e(2423).fastKey,m=e(9909),d=m.set,p=m.getterFor;u.exports={getConstructor:function(v,O,S,I){var k=v(function(U,D){s(U,E),d(U,{type:O,index:r(null),first:void 0,last:void 0,size:0}),f||(U.size=0),o(D)||n(D,U[I],{that:U,AS_ENTRIES:S})}),E=k.prototype,T=p(O),y=function(U,D,L){var Z,J,G=T(U),te=b(U,D);return te?te.value=L:(G.last=te={index:J=g(D,!0),key:D,value:L,previous:Z=G.last,next:void 0,removed:!1},G.first||(G.first=te),Z&&(Z.next=te),f?G.size++:U.size++,J!=="F"&&(G.index[J]=te)),U},b=function(U,D){var L,Z=T(U),J=g(D);if(J!=="F")return Z.index[J];for(L=Z.first;L;L=L.next)if(L.key==D)return L};return i(E,{clear:function(){for(var U=T(this),D=U.index,L=U.first;L;)L.removed=!0,L.previous&&(L.previous=L.previous.next=void 0),delete D[L.index],L=L.next;U.first=U.last=void 0,f?U.size=0:this.size=0},delete:function(U){var D=this,L=T(D),Z=b(D,U);if(Z){var J=Z.next,G=Z.previous;delete L.index[Z.index],Z.removed=!0,G&&(G.next=J),J&&(J.previous=G),L.first==Z&&(L.first=J),L.last==Z&&(L.last=G),f?L.size--:D.size--}return!!Z},forEach:function(U){for(var D,L=T(this),Z=a(U,arguments.length>1?arguments[1]:void 0);D=D?D.next:L.first;)for(Z(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(U){return!!b(this,U)}}),i(E,S?{get:function(U){var D=b(this,U);return D&&D.value},set:function(U,D){return y(this,U===0?0:U,D)}}:{add:function(U){return y(this,U=U===0?0:U,U)}}),f&&t(E,"size",{configurable:!0,get:function(){return T(this).size}}),k},setStrong:function(v,O,S){var I=O+" Iterator",k=p(O),E=p(I);l(v,O,function(T,y){d(this,{type:I,target:T,state:k(T),kind:y,last:void 0})},function(){for(var T=E(this),y=T.kind,b=T.last;b&&b.removed;)b=b.previous;return T.target&&(T.last=b=b?b.next:T.state.first)?c(y=="keys"?b.key:y=="values"?b.value:[b.key,b.value],!1):(T.target=void 0,c(void 0,!0))},S?"entries":"values",!S,!0),h(O)}}},7710:function(u,_,e){var r=e(2109),t=e(7854),i=e(1702),a=e(4705),s=e(8052),o=e(2423),n=e(408),l=e(5787),c=e(614),h=e(8554),f=e(111),g=e(7293),m=e(7072),d=e(8003),p=e(9587);u.exports=function(v,O,S){var I=v.indexOf("Map")!==-1,k=v.indexOf("Weak")!==-1,E=I?"set":"add",T=t[v],y=T&&T.prototype,b=T,U={},D=function(ce){var ie=i(y[ce]);s(y,ce,ce=="add"?function(ye){return ie(this,ye===0?0:ye),this}:ce=="delete"?function(ye){return!(k&&!f(ye))&&ie(this,ye===0?0:ye)}:ce=="get"?function(ye){return k&&!f(ye)?void 0:ie(this,ye===0?0:ye)}:ce=="has"?function(ye){return!(k&&!f(ye))&&ie(this,ye===0?0:ye)}:function(ye,be){return ie(this,ye===0?0:ye,be),this})};if(a(v,!c(T)||!(k||y.forEach&&!g(function(){new T().entries().next()}))))b=S.getConstructor(O,v,I,E),o.enable();else if(a(v,!0)){var L=new b,Z=L[E](k?{}:-0,1)!=L,J=g(function(){L.has(1)}),G=m(function(ce){new T(ce)}),te=!k&&g(function(){for(var ce=new T,ie=5;ie--;)ce[E](ie,ie);return!ce.has(-0)});G||((b=O(function(ce,ie){l(ce,y);var ye=p(new T,ce,b);return h(ie)||n(ie,ye[E],{that:ye,AS_ENTRIES:I}),ye})).prototype=y,y.constructor=b),(J||te)&&(D("delete"),D("has"),I&&D("get")),(te||Z)&&D(E),k&&y.clear&&delete y.clear}return U[v]=b,r({global:!0,constructor:!0,forced:b!=T},U),d(b,v),k||S.setStrong(b,v,I),b}},9920:function(u,_,e){var r=e(2597),t=e(3887),i=e(1236),a=e(3070);u.exports=function(s,o,n){for(var l=t(o),c=a.f,h=i.f,f=0;f<l.length;f++){var g=l[f];r(s,g)||n&&r(n,g)||c(s,g,h(o,g))}}},4964:function(u,_,e){var r=e(5112)("match");u.exports=function(t){var i=/./;try{"/./"[t](i)}catch{try{return i[r]=!1,"/./"[t](i)}catch{}}return!1}},8544:function(u,_,e){var r=e(7293);u.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},6178:function(u){u.exports=function(_,e){return{value:_,done:e}}},8880:function(u,_,e){var r=e(9781),t=e(3070),i=e(9114);u.exports=r?function(a,s,o){return t.f(a,s,i(1,o))}:function(a,s,o){return a[s]=o,a}},9114:function(u){u.exports=function(_,e){return{enumerable:!(1&_),configurable:!(2&_),writable:!(4&_),value:e}}},6135:function(u,_,e){var r=e(4948),t=e(3070),i=e(9114);u.exports=function(a,s,o){var n=r(s);n in a?t.f(a,n,i(0,o)):a[n]=o}},7045:function(u,_,e){var r=e(6339),t=e(3070);u.exports=function(i,a,s){return s.get&&r(s.get,a,{getter:!0}),s.set&&r(s.set,a,{setter:!0}),t.f(i,a,s)}},8052:function(u,_,e){var r=e(614),t=e(3070),i=e(6339),a=e(3072);u.exports=function(s,o,n,l){l||(l={});var c=l.enumerable,h=l.name!==void 0?l.name:o;if(r(n)&&i(n,h,l),l.global)c?s[o]=n:a(o,n);else{try{l.unsafe?s[o]&&(c=!0):delete s[o]}catch{}c?s[o]=n:t.f(s,o,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return s}},9190:function(u,_,e){var r=e(8052);u.exports=function(t,i,a){for(var s in i)r(t,s,i[s],a);return t}},3072:function(u,_,e){var r=e(7854),t=Object.defineProperty;u.exports=function(i,a){try{t(r,i,{value:a,configurable:!0,writable:!0})}catch{r[i]=a}return a}},5117:function(u,_,e){var r=e(6330),t=TypeError;u.exports=function(i,a){if(!delete i[a])throw t("Cannot delete property "+r(a)+" of "+r(i))}},9781:function(u,_,e){var r=e(7293);u.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(u){var _=typeof document=="object"&&document.all,e=_===void 0&&_!==void 0;u.exports={all:_,IS_HTMLDDA:e}},317:function(u,_,e){var r=e(7854),t=e(111),i=r.document,a=t(i)&&t(i.createElement);u.exports=function(s){return a?i.createElement(s):{}}},7207:function(u){var _=TypeError;u.exports=function(e){if(e>9007199254740991)throw _("Maximum allowed index exceeded");return e}},8324:function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(u,_,e){var r=e(317)("span").classList,t=r&&r.constructor&&r.constructor.prototype;u.exports=t===Object.prototype?void 0:t},8886:function(u,_,e){var r=e(8113).match(/firefox\/(\d+)/i);u.exports=!!r&&+r[1]},7871:function(u,_,e){var r=e(3823),t=e(5268);u.exports=!r&&!t&&typeof window=="object"&&typeof document=="object"},9363:function(u){u.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},3823:function(u){u.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},256:function(u,_,e){var r=e(8113);u.exports=/MSIE|Trident/.test(r)},1528:function(u,_,e){var r=e(8113);u.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},6833:function(u,_,e){var r=e(8113);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(u,_,e){var r=e(4326);u.exports=typeof process<"u"&&r(process)=="process"},1036:function(u,_,e){var r=e(8113);u.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(u){u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(u,_,e){var r,t,i=e(7854),a=e(8113),s=i.process,o=i.Deno,n=s&&s.versions||o&&o.version,l=n&&n.v8;l&&(t=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!t&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(t=+r[1]),u.exports=t},8008:function(u,_,e){var r=e(8113).match(/AppleWebKit\/(\d+)\./);u.exports=!!r&&+r[1]},748:function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(u,_,e){var r=e(7854),t=e(1236).f,i=e(8880),a=e(8052),s=e(3072),o=e(9920),n=e(4705);u.exports=function(l,c){var h,f,g,m,d,p=l.target,v=l.global,O=l.stat;if(h=v?r:O?r[p]||s(p,{}):(r[p]||{}).prototype)for(f in c){if(m=c[f],g=l.dontCallGetSet?(d=t(h,f))&&d.value:h[f],!n(v?f:p+(O?".":"#")+f,l.forced)&&g!==void 0){if(typeof m==typeof g)continue;o(m,g)}(l.sham||g&&g.sham)&&i(m,"sham",!0),a(h,f,m,l)}}},7293:function(u){u.exports=function(_){try{return!!_()}catch{return!0}}},6677:function(u,_,e){var r=e(7293);u.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(u,_,e){var r=e(4374),t=Function.prototype,i=t.apply,a=t.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(u,_,e){var r=e(1470),t=e(9662),i=e(4374),a=r(r.bind);u.exports=function(s,o){return t(s),o===void 0?s:i?a(s,o):function(){return s.apply(o,arguments)}}},4374:function(u,_,e){var r=e(7293);u.exports=!r(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})},7065:function(u,_,e){var r=e(1702),t=e(9662),i=e(111),a=e(2597),s=e(206),o=e(4374),n=Function,l=r([].concat),c=r([].join),h={},f=function(g,m,d){if(!a(h,m)){for(var p=[],v=0;v<m;v++)p[v]="a["+v+"]";h[m]=n("C,a","return new C("+c(p,",")+")")}return h[m](g,d)};u.exports=o?n.bind:function(g){var m=t(this),d=m.prototype,p=s(arguments,1),v=function(){var O=l(p,s(arguments));return this instanceof v?f(m,O.length,O):m.apply(g,O)};return i(d)&&(v.prototype=d),v}},6916:function(u,_,e){var r=e(4374),t=Function.prototype.call;u.exports=r?t.bind(t):function(){return t.apply(t,arguments)}},6530:function(u,_,e){var r=e(9781),t=e(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=t(i,"name"),o=s&&function(){}.name==="something",n=s&&(!r||r&&a(i,"name").configurable);u.exports={EXISTS:s,PROPER:o,CONFIGURABLE:n}},5668:function(u,_,e){var r=e(1702),t=e(9662);u.exports=function(i,a,s){try{return r(t(Object.getOwnPropertyDescriptor(i,a)[s]))}catch{}}},1470:function(u,_,e){var r=e(4326),t=e(1702);u.exports=function(i){if(r(i)==="Function")return t(i)}},1702:function(u,_,e){var r=e(4374),t=Function.prototype,i=t.call,a=r&&t.bind.bind(i,i);u.exports=r?a:function(s){return function(){return i.apply(s,arguments)}}},5005:function(u,_,e){var r=e(7854),t=e(614),i=function(a){return t(a)?a:void 0};u.exports=function(a,s){return arguments.length<2?i(r[a]):r[a]&&r[a][s]}},1246:function(u,_,e){var r=e(648),t=e(8173),i=e(8554),a=e(7497),s=e(5112)("iterator");u.exports=function(o){if(!i(o))return t(o,s)||t(o,"@@iterator")||a[r(o)]}},4121:function(u,_,e){var r=e(6916),t=e(9662),i=e(9670),a=e(6330),s=e(1246),o=TypeError;u.exports=function(n,l){var c=arguments.length<2?s(n):l;if(t(c))return i(r(c,n));throw o(a(n)+" is not iterable")}},8044:function(u,_,e){var r=e(1702),t=e(3157),i=e(614),a=e(4326),s=e(1340),o=r([].push);u.exports=function(n){if(i(n))return n;if(t(n)){for(var l=n.length,c=[],h=0;h<l;h++){var f=n[h];typeof f=="string"?o(c,f):typeof f!="number"&&a(f)!="Number"&&a(f)!="String"||o(c,s(f))}var g=c.length,m=!0;return function(d,p){if(m)return m=!1,p;if(t(this))return p;for(var v=0;v<g;v++)if(c[v]===d)return p}}}},8173:function(u,_,e){var r=e(9662),t=e(8554);u.exports=function(i,a){var s=i[a];return t(s)?void 0:r(s)}},7854:function(u,_,e){var r=function(t){return t&&t.Math==Math&&t};u.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:function(u,_,e){var r=e(1702),t=e(7908),i=r({}.hasOwnProperty);u.exports=Object.hasOwn||function(a,s){return i(t(a),s)}},3501:function(u){u.exports={}},842:function(u){u.exports=function(_,e){try{arguments.length==1?console.error(_):console.error(_,e)}catch{}}},490:function(u,_,e){var r=e(5005);u.exports=r("document","documentElement")},4664:function(u,_,e){var r=e(9781),t=e(7293),i=e(317);u.exports=!r&&!t(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},1179:function(u){var _=Array,e=Math.abs,r=Math.pow,t=Math.floor,i=Math.log,a=Math.LN2;u.exports={pack:function(s,o,n){var l,c,h,f=_(n),g=8*n-o-1,m=(1<<g)-1,d=m>>1,p=o===23?r(2,-24)-r(2,-77):0,v=s<0||s===0&&1/s<0?1:0,O=0;for((s=e(s))!=s||s===1/0?(c=s!=s?1:0,l=m):(l=t(i(s)/a),s*(h=r(2,-l))<1&&(l--,h*=2),(s+=l+d>=1?p/h:p*r(2,1-d))*h>=2&&(l++,h/=2),l+d>=m?(c=0,l=m):l+d>=1?(c=(s*h-1)*r(2,o),l+=d):(c=s*r(2,d-1)*r(2,o),l=0));o>=8;)f[O++]=255&c,c/=256,o-=8;for(l=l<<o|c,g+=o;g>0;)f[O++]=255&l,l/=256,g-=8;return f[--O]|=128*v,f},unpack:function(s,o){var n,l=s.length,c=8*l-o-1,h=(1<<c)-1,f=h>>1,g=c-7,m=l-1,d=s[m--],p=127&d;for(d>>=7;g>0;)p=256*p+s[m--],g-=8;for(n=p&(1<<-g)-1,p>>=-g,g+=o;g>0;)n=256*n+s[m--],g-=8;if(p===0)p=1-f;else{if(p===h)return n?NaN:d?-1/0:1/0;n+=r(2,o),p-=f}return(d?-1:1)*n*r(2,p-o)}}},8361:function(u,_,e){var r=e(1702),t=e(7293),i=e(4326),a=Object,s=r("".split);u.exports=t(function(){return!a("z").propertyIsEnumerable(0)})?function(o){return i(o)=="String"?s(o,""):a(o)}:a},9587:function(u,_,e){var r=e(614),t=e(111),i=e(7674);u.exports=function(a,s,o){var n,l;return i&&r(n=s.constructor)&&n!==o&&t(l=n.prototype)&&l!==o.prototype&&i(a,l),a}},2788:function(u,_,e){var r=e(1702),t=e(614),i=e(5465),a=r(Function.toString);t(i.inspectSource)||(i.inspectSource=function(s){return a(s)}),u.exports=i.inspectSource},2423:function(u,_,e){var r=e(2109),t=e(1702),i=e(3501),a=e(111),s=e(2597),o=e(3070).f,n=e(8006),l=e(1156),c=e(2050),h=e(9711),f=e(6677),g=!1,m=h("meta"),d=0,p=function(O){o(O,m,{value:{objectID:"O"+d++,weakData:{}}})},v=u.exports={enable:function(){v.enable=function(){},g=!0;var O=n.f,S=t([].splice),I={};I[m]=1,O(I).length&&(n.f=function(k){for(var E=O(k),T=0,y=E.length;T<y;T++)if(E[T]===m){S(E,T,1);break}return E},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(O,S){if(!a(O))return typeof O=="symbol"?O:(typeof O=="string"?"S":"P")+O;if(!s(O,m)){if(!c(O))return"F";if(!S)return"E";p(O)}return O[m].objectID},getWeakData:function(O,S){if(!s(O,m)){if(!c(O))return!0;if(!S)return!1;p(O)}return O[m].weakData},onFreeze:function(O){return f&&g&&c(O)&&!s(O,m)&&p(O),O}};i[m]=!0},9909:function(u,_,e){var r,t,i,a=e(4811),s=e(7854),o=e(111),n=e(8880),l=e(2597),c=e(5465),h=e(6200),f=e(3501),g="Object already initialized",m=s.TypeError,d=s.WeakMap;if(a||c.state){var p=c.state||(c.state=new d);p.get=p.get,p.has=p.has,p.set=p.set,r=function(O,S){if(p.has(O))throw m(g);return S.facade=O,p.set(O,S),S},t=function(O){return p.get(O)||{}},i=function(O){return p.has(O)}}else{var v=h("state");f[v]=!0,r=function(O,S){if(l(O,v))throw m(g);return S.facade=O,n(O,v,S),S},t=function(O){return l(O,v)?O[v]:{}},i=function(O){return l(O,v)}}u.exports={set:r,get:t,has:i,enforce:function(O){return i(O)?t(O):r(O,{})},getterFor:function(O){return function(S){var I;if(!o(S)||(I=t(S)).type!==O)throw m("Incompatible receiver, "+O+" required");return I}}}},7659:function(u,_,e){var r=e(5112),t=e(7497),i=r("iterator"),a=Array.prototype;u.exports=function(s){return s!==void 0&&(t.Array===s||a[i]===s)}},3157:function(u,_,e){var r=e(4326);u.exports=Array.isArray||function(t){return r(t)=="Array"}},4067:function(u,_,e){var r=e(648);u.exports=function(t){var i=r(t);return i=="BigInt64Array"||i=="BigUint64Array"}},614:function(u,_,e){var r=e(4154),t=r.all;u.exports=r.IS_HTMLDDA?function(i){return typeof i=="function"||i===t}:function(i){return typeof i=="function"}},4411:function(u,_,e){var r=e(1702),t=e(7293),i=e(614),a=e(648),s=e(5005),o=e(2788),n=function(){},l=[],c=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),g=!h.exec(n),m=function(p){if(!i(p))return!1;try{return c(n,l,p),!0}catch{return!1}},d=function(p){if(!i(p))return!1;switch(a(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!f(h,o(p))}catch{return!0}};d.sham=!0,u.exports=!c||t(function(){var p;return m(m.call)||!m(Object)||!m(function(){p=!0})||p})?d:m},4705:function(u,_,e){var r=e(7293),t=e(614),i=/#|\.prototype\./,a=function(c,h){var f=o[s(c)];return f==l||f!=n&&(t(h)?r(h):!!h)},s=a.normalize=function(c){return String(c).replace(i,".").toLowerCase()},o=a.data={},n=a.NATIVE="N",l=a.POLYFILL="P";u.exports=a},5988:function(u,_,e){var r=e(111),t=Math.floor;u.exports=Number.isInteger||function(i){return!r(i)&&isFinite(i)&&t(i)===i}},8554:function(u){u.exports=function(_){return _==null}},111:function(u,_,e){var r=e(614),t=e(4154),i=t.all;u.exports=t.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:r(a)||a===i}:function(a){return typeof a=="object"?a!==null:r(a)}},1913:function(u){u.exports=!1},7850:function(u,_,e){var r=e(111),t=e(4326),i=e(5112)("match");u.exports=function(a){var s;return r(a)&&((s=a[i])!==void 0?!!s:t(a)=="RegExp")}},2190:function(u,_,e){var r=e(5005),t=e(614),i=e(7976),a=e(3307),s=Object;u.exports=a?function(o){return typeof o=="symbol"}:function(o){var n=r("Symbol");return t(n)&&i(n.prototype,s(o))}},408:function(u,_,e){var r=e(9974),t=e(6916),i=e(9670),a=e(6330),s=e(7659),o=e(6244),n=e(7976),l=e(4121),c=e(1246),h=e(9212),f=TypeError,g=function(d,p){this.stopped=d,this.result=p},m=g.prototype;u.exports=function(d,p,v){var O,S,I,k,E,T,y,b=v&&v.that,U=!(!v||!v.AS_ENTRIES),D=!(!v||!v.IS_RECORD),L=!(!v||!v.IS_ITERATOR),Z=!(!v||!v.INTERRUPTED),J=r(p,b),G=function(ce){return O&&h(O,"normal",ce),new g(!0,ce)},te=function(ce){return U?(i(ce),Z?J(ce[0],ce[1],G):J(ce[0],ce[1])):Z?J(ce,G):J(ce)};if(D)O=d.iterator;else if(L)O=d;else{if(!(S=c(d)))throw f(a(d)+" is not iterable");if(s(S)){for(I=0,k=o(d);k>I;I++)if((E=te(d[I]))&&n(m,E))return E;return new g(!1)}O=l(d,S)}for(T=D?d.next:O.next;!(y=t(T,O)).done;){try{E=te(y.value)}catch(ce){h(O,"throw",ce)}if(typeof E=="object"&&E&&n(m,E))return E}return new g(!1)}},9212:function(u,_,e){var r=e(6916),t=e(9670),i=e(8173);u.exports=function(a,s,o){var n,l;t(a);try{if(!(n=i(a,"return"))){if(s==="throw")throw o;return o}n=r(n,a)}catch(c){l=!0,n=c}if(s==="throw")throw o;if(l)throw n;return t(n),o}},3061:function(u,_,e){var r=e(3383).IteratorPrototype,t=e(30),i=e(9114),a=e(8003),s=e(7497),o=function(){return this};u.exports=function(n,l,c,h){var f=l+" Iterator";return n.prototype=t(r,{next:i(+!h,c)}),a(n,f,!1,!0),s[f]=o,n}},1656:function(u,_,e){var r=e(2109),t=e(6916),i=e(1913),a=e(6530),s=e(614),o=e(3061),n=e(9518),l=e(7674),c=e(8003),h=e(8880),f=e(8052),g=e(5112),m=e(7497),d=e(3383),p=a.PROPER,v=a.CONFIGURABLE,O=d.IteratorPrototype,S=d.BUGGY_SAFARI_ITERATORS,I=g("iterator"),k="keys",E="values",T="entries",y=function(){return this};u.exports=function(b,U,D,L,Z,J,G){o(D,U,L);var te,ce,ie,ye=function(Re){if(Re===Z&&Ae)return Ae;if(!S&&Re in fe)return fe[Re];switch(Re){case k:case E:case T:return function(){return new D(this,Re)}}return function(){return new D(this)}},be=U+" Iterator",Oe=!1,fe=b.prototype,Ue=fe[I]||fe["@@iterator"]||Z&&fe[Z],Ae=!S&&Ue||ye(Z),xe=U=="Array"&&fe.entries||Ue;if(xe&&(te=n(xe.call(new b)))!==Object.prototype&&te.next&&(i||n(te)===O||(l?l(te,O):s(te[I])||f(te,I,y)),c(te,be,!0,!0),i&&(m[be]=y)),p&&Z==E&&Ue&&Ue.name!==E&&(!i&&v?h(fe,"name",E):(Oe=!0,Ae=function(){return t(Ue,this)})),Z)if(ce={values:ye(E),keys:J?Ae:ye(k),entries:ye(T)},G)for(ie in ce)(S||Oe||!(ie in fe))&&f(fe,ie,ce[ie]);else r({target:U,proto:!0,forced:S||Oe},ce);return i&&!G||fe[I]===Ae||f(fe,I,Ae,{name:Z}),m[U]=Ae,ce}},3383:function(u,_,e){var r,t,i,a=e(7293),s=e(614),o=e(111),n=e(30),l=e(9518),c=e(8052),h=e(5112),f=e(1913),g=h("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(t=l(l(i)))!==Object.prototype&&(r=t):m=!0),!o(r)||a(function(){var d={};return r[g].call(d)!==d})?r={}:f&&(r=n(r)),s(r[g])||c(r,g,function(){return this}),u.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7497:function(u){u.exports={}},6244:function(u,_,e){var r=e(7466);u.exports=function(t){return r(t.length)}},6339:function(u,_,e){var r=e(1702),t=e(7293),i=e(614),a=e(2597),s=e(9781),o=e(6530).CONFIGURABLE,n=e(2788),l=e(9909),c=l.enforce,h=l.get,f=String,g=Object.defineProperty,m=r("".slice),d=r("".replace),p=r([].join),v=s&&!t(function(){return g(function(){},"length",{value:8}).length!==8}),O=String(String).split("String"),S=u.exports=function(I,k,E){m(f(k),0,7)==="Symbol("&&(k="["+d(f(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),E&&E.getter&&(k="get "+k),E&&E.setter&&(k="set "+k),(!a(I,"name")||o&&I.name!==k)&&(s?g(I,"name",{value:k,configurable:!0}):I.name=k),v&&E&&a(E,"arity")&&I.length!==E.arity&&g(I,"length",{value:E.arity});try{E&&a(E,"constructor")&&E.constructor?s&&g(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch{}var T=c(I);return a(T,"source")||(T.source=p(O,typeof k=="string"?k:"")),I};Function.prototype.toString=S(function(){return i(this)&&h(this).source||n(this)},"toString")},4758:function(u){var _=Math.ceil,e=Math.floor;u.exports=Math.trunc||function(r){var t=+r;return(t>0?e:_)(t)}},5948:function(u,_,e){var r,t,i,a,s,o=e(7854),n=e(9974),l=e(1236).f,c=e(261).set,h=e(8572),f=e(6833),g=e(1528),m=e(1036),d=e(5268),p=o.MutationObserver||o.WebKitMutationObserver,v=o.document,O=o.process,S=o.Promise,I=l(o,"queueMicrotask"),k=I&&I.value;if(!k){var E=new h,T=function(){var y,b;for(d&&(y=O.domain)&&y.exit();b=E.get();)try{b()}catch(U){throw E.head&&r(),U}y&&y.enter()};f||d||m||!p||!v?!g&&S&&S.resolve?((a=S.resolve(void 0)).constructor=S,s=n(a.then,a),r=function(){s(T)}):d?r=function(){O.nextTick(T)}:(c=n(c,o),r=function(){c(T)}):(t=!0,i=v.createTextNode(""),new p(T).observe(i,{characterData:!0}),r=function(){i.data=t=!t}),k=function(y){E.head||r(),E.add(y)}}u.exports=k},8523:function(u,_,e){var r=e(9662),t=TypeError,i=function(a){var s,o;this.promise=new a(function(n,l){if(s!==void 0||o!==void 0)throw t("Bad Promise constructor");s=n,o=l}),this.resolve=r(s),this.reject=r(o)};u.exports.f=function(a){return new i(a)}},3929:function(u,_,e){var r=e(7850),t=TypeError;u.exports=function(i){if(r(i))throw t("The method doesn't accept regular expressions");return i}},1574:function(u,_,e){var r=e(9781),t=e(1702),i=e(6916),a=e(7293),s=e(1956),o=e(5181),n=e(5296),l=e(7908),c=e(8361),h=Object.assign,f=Object.defineProperty,g=t([].concat);u.exports=!h||a(function(){if(r&&h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},d={},p=Symbol(),v="abcdefghijklmnopqrst";return m[p]=7,v.split("").forEach(function(O){d[O]=O}),h({},m)[p]!=7||s(h({},d)).join("")!=v})?function(m,d){for(var p=l(m),v=arguments.length,O=1,S=o.f,I=n.f;v>O;)for(var k,E=c(arguments[O++]),T=S?g(s(E),S(E)):s(E),y=T.length,b=0;y>b;)k=T[b++],r&&!i(I,E,k)||(p[k]=E[k]);return p}:h},30:function(u,_,e){var r,t=e(9670),i=e(6048),a=e(748),s=e(3501),o=e(490),n=e(317),l=e(6200)("IE_PROTO"),c=function(){},h=function(m){return"<script>"+m+"<\/script>"},f=function(m){m.write(h("")),m.close();var d=m.parentWindow.Object;return m=null,d},g=function(){try{r=new ActiveXObject("htmlfile")}catch{}var m,d;g=typeof document<"u"?document.domain&&r?f(r):((d=n("iframe")).style.display="none",o.appendChild(d),d.src=String("javascript:"),(m=d.contentWindow.document).open(),m.write(h("document.F=Object")),m.close(),m.F):f(r);for(var p=a.length;p--;)delete g.prototype[a[p]];return g()};s[l]=!0,u.exports=Object.create||function(m,d){var p;return m!==null?(c.prototype=t(m),p=new c,c.prototype=null,p[l]=m):p=g(),d===void 0?p:i.f(p,d)}},6048:function(u,_,e){var r=e(9781),t=e(3353),i=e(3070),a=e(9670),s=e(5656),o=e(1956);_.f=r&&!t?Object.defineProperties:function(n,l){a(n);for(var c,h=s(l),f=o(l),g=f.length,m=0;g>m;)i.f(n,c=f[m++],h[c]);return n}},3070:function(u,_,e){var r=e(9781),t=e(4664),i=e(3353),a=e(9670),s=e(4948),o=TypeError,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor;_.f=r?i?function(c,h,f){if(a(c),h=s(h),a(f),typeof c=="function"&&h==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var g=l(c,h);g&&g.writable&&(c[h]=f.value,f={configurable:"configurable"in f?f.configurable:g.configurable,enumerable:"enumerable"in f?f.enumerable:g.enumerable,writable:!1})}return n(c,h,f)}:n:function(c,h,f){if(a(c),h=s(h),a(f),t)try{return n(c,h,f)}catch{}if("get"in f||"set"in f)throw o("Accessors not supported");return"value"in f&&(c[h]=f.value),c}},1236:function(u,_,e){var r=e(9781),t=e(6916),i=e(5296),a=e(9114),s=e(5656),o=e(4948),n=e(2597),l=e(4664),c=Object.getOwnPropertyDescriptor;_.f=r?c:function(h,f){if(h=s(h),f=o(f),l)try{return c(h,f)}catch{}if(n(h,f))return a(!t(i.f,h,f),h[f])}},1156:function(u,_,e){var r=e(4326),t=e(5656),i=e(8006).f,a=e(1589),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(o){return s&&r(o)=="Window"?function(n){try{return i(n)}catch{return a(s)}}(o):i(t(o))}},8006:function(u,_,e){var r=e(6324),t=e(748).concat("length","prototype");_.f=Object.getOwnPropertyNames||function(i){return r(i,t)}},5181:function(u,_){_.f=Object.getOwnPropertySymbols},9518:function(u,_,e){var r=e(2597),t=e(614),i=e(7908),a=e(6200),s=e(8544),o=a("IE_PROTO"),n=Object,l=n.prototype;u.exports=s?n.getPrototypeOf:function(c){var h=i(c);if(r(h,o))return h[o];var f=h.constructor;return t(f)&&h instanceof f?f.prototype:h instanceof n?l:null}},2050:function(u,_,e){var r=e(7293),t=e(111),i=e(4326),a=e(7556),s=Object.isExtensible,o=r(function(){});u.exports=o||a?function(n){return!!t(n)&&(!a||i(n)!="ArrayBuffer")&&(!s||s(n))}:s},7976:function(u,_,e){var r=e(1702);u.exports=r({}.isPrototypeOf)},6324:function(u,_,e){var r=e(1702),t=e(2597),i=e(5656),a=e(1318).indexOf,s=e(3501),o=r([].push);u.exports=function(n,l){var c,h=i(n),f=0,g=[];for(c in h)!t(s,c)&&t(h,c)&&o(g,c);for(;l.length>f;)t(h,c=l[f++])&&(~a(g,c)||o(g,c));return g}},1956:function(u,_,e){var r=e(6324),t=e(748);u.exports=Object.keys||function(i){return r(i,t)}},5296:function(u,_){var e={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,t=r&&!e.call({1:2},1);_.f=t?function(i){var a=r(this,i);return!!a&&a.enumerable}:e},7674:function(u,_,e){var r=e(5668),t=e(9670),i=e(6077);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,s=!1,o={};try{(a=r(Object.prototype,"__proto__","set"))(o,[]),s=o instanceof Array}catch{}return function(n,l){return t(n),i(l),s?a(n,l):n.__proto__=l,n}}():void 0)},4699:function(u,_,e){var r=e(9781),t=e(1702),i=e(1956),a=e(5656),s=t(e(5296).f),o=t([].push),n=function(l){return function(c){for(var h,f=a(c),g=i(f),m=g.length,d=0,p=[];m>d;)h=g[d++],r&&!s(f,h)||o(p,l?[h,f[h]]:f[h]);return p}};u.exports={entries:n(!0),values:n(!1)}},288:function(u,_,e){var r=e(1694),t=e(648);u.exports=r?{}.toString:function(){return"[object "+t(this)+"]"}},2140:function(u,_,e){var r=e(6916),t=e(614),i=e(111),a=TypeError;u.exports=function(s,o){var n,l;if(o==="string"&&t(n=s.toString)&&!i(l=r(n,s))||t(n=s.valueOf)&&!i(l=r(n,s))||o!=="string"&&t(n=s.toString)&&!i(l=r(n,s)))return l;throw a("Can't convert object to primitive value")}},3887:function(u,_,e){var r=e(5005),t=e(1702),i=e(8006),a=e(5181),s=e(9670),o=t([].concat);u.exports=r("Reflect","ownKeys")||function(n){var l=i.f(s(n)),c=a.f;return c?o(l,c(n)):l}},857:function(u,_,e){var r=e(7854);u.exports=r},2534:function(u){u.exports=function(_){try{return{error:!1,value:_()}}catch(e){return{error:!0,value:e}}}},3702:function(u,_,e){var r=e(7854),t=e(2492),i=e(614),a=e(4705),s=e(2788),o=e(5112),n=e(7871),l=e(3823),c=e(1913),h=e(7392),f=t&&t.prototype,g=o("species"),m=!1,d=i(r.PromiseRejectionEvent),p=a("Promise",function(){var v=s(t),O=v!==String(t);if(!O&&h===66||c&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(v)){var S=new t(function(k){k(1)}),I=function(k){k(function(){},function(){})};if((S.constructor={})[g]=I,!(m=S.then(function(){})instanceof I))return!0}return!O&&(n||l)&&!d});u.exports={CONSTRUCTOR:p,REJECTION_EVENT:d,SUBCLASSING:m}},2492:function(u,_,e){var r=e(7854);u.exports=r.Promise},9478:function(u,_,e){var r=e(9670),t=e(111),i=e(8523);u.exports=function(a,s){if(r(a),t(s)&&s.constructor===a)return s;var o=i.f(a);return(0,o.resolve)(s),o.promise}},612:function(u,_,e){var r=e(2492),t=e(7072),i=e(3702).CONSTRUCTOR;u.exports=i||!t(function(a){r.all(a).then(void 0,function(){})})},8572:function(u){var _=function(){this.head=null,this.tail=null};_.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}},u.exports=_},2261:function(u,_,e){var r,t,i=e(6916),a=e(1702),s=e(1340),o=e(7066),n=e(2999),l=e(2309),c=e(30),h=e(9909).get,f=e(9441),g=e(7168),m=l("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,p=d,v=a("".charAt),O=a("".indexOf),S=a("".replace),I=a("".slice),k=(t=/b*/g,i(d,r=/a/,"a"),i(d,t,"a"),r.lastIndex!==0||t.lastIndex!==0),E=n.BROKEN_CARET,T=/()??/.exec("")[1]!==void 0;(k||T||E||f||g)&&(p=function(y){var b,U,D,L,Z,J,G,te=this,ce=h(te),ie=s(y),ye=ce.raw;if(ye)return ye.lastIndex=te.lastIndex,b=i(p,ye,ie),te.lastIndex=ye.lastIndex,b;var be=ce.groups,Oe=E&&te.sticky,fe=i(o,te),Ue=te.source,Ae=0,xe=ie;if(Oe&&(fe=S(fe,"y",""),O(fe,"g")===-1&&(fe+="g"),xe=I(ie,te.lastIndex),te.lastIndex>0&&(!te.multiline||te.multiline&&v(ie,te.lastIndex-1)!==`
`)&&(Ue="(?: "+Ue+")",xe=" "+xe,Ae++),U=new RegExp("^(?:"+Ue+")",fe)),T&&(U=new RegExp("^"+Ue+"$(?!\\s)",fe)),k&&(D=te.lastIndex),L=i(d,Oe?U:te,xe),Oe?L?(L.input=I(L.input,Ae),L[0]=I(L[0],Ae),L.index=te.lastIndex,te.lastIndex+=L[0].length):te.lastIndex=0:k&&L&&(te.lastIndex=te.global?L.index+L[0].length:D),T&&L&&L.length>1&&i(m,L[0],U,function(){for(Z=1;Z<arguments.length-2;Z++)arguments[Z]===void 0&&(L[Z]=void 0)}),L&&be)for(L.groups=J=c(null),Z=0;Z<be.length;Z++)J[(G=be[Z])[0]]=L[G[1]];return L}),u.exports=p},7066:function(u,_,e){var r=e(9670);u.exports=function(){var t=r(this),i="";return t.hasIndices&&(i+="d"),t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.unicodeSets&&(i+="v"),t.sticky&&(i+="y"),i}},4706:function(u,_,e){var r=e(6916),t=e(2597),i=e(7976),a=e(7066),s=RegExp.prototype;u.exports=function(o){var n=o.flags;return n!==void 0||"flags"in s||t(o,"flags")||!i(s,o)?n:r(a,o)}},2999:function(u,_,e){var r=e(7293),t=e(7854).RegExp,i=r(function(){var o=t("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),a=i||r(function(){return!t("a","y").sticky}),s=i||r(function(){var o=t("^r","gy");return o.lastIndex=2,o.exec("str")!=null});u.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:function(u,_,e){var r=e(7293),t=e(7854).RegExp;u.exports=r(function(){var i=t(".","s");return!(i.dotAll&&i.exec(`
`)&&i.flags==="s")})},7168:function(u,_,e){var r=e(7293),t=e(7854).RegExp;u.exports=r(function(){var i=t("(?<a>b)","g");return i.exec("b").groups.a!=="b"||"b".replace(i,"$<a>c")!=="bc"})},4488:function(u,_,e){var r=e(8554),t=TypeError;u.exports=function(i){if(r(i))throw t("Can't call method on "+i);return i}},7152:function(u,_,e){var r,t=e(7854),i=e(2104),a=e(614),s=e(9363),o=e(8113),n=e(206),l=e(8053),c=t.Function,h=/MSIE .\./.test(o)||s&&((r=t.Bun.version.split(".")).length<3||r[0]==0&&(r[1]<3||r[1]==3&&r[2]==0));u.exports=function(f,g){var m=g?2:1;return h?function(d,p){var v=l(arguments.length,1)>m,O=a(d)?d:c(d),S=v?n(arguments,m):[],I=v?function(){i(O,this,S)}:O;return g?f(I,p):f(I)}:f}},6340:function(u,_,e){var r=e(5005),t=e(7045),i=e(5112),a=e(9781),s=i("species");u.exports=function(o){var n=r(o);a&&n&&!n[s]&&t(n,s,{configurable:!0,get:function(){return this}})}},8003:function(u,_,e){var r=e(3070).f,t=e(2597),i=e(5112)("toStringTag");u.exports=function(a,s,o){a&&!o&&(a=a.prototype),a&&!t(a,i)&&r(a,i,{configurable:!0,value:s})}},6200:function(u,_,e){var r=e(2309),t=e(9711),i=r("keys");u.exports=function(a){return i[a]||(i[a]=t(a))}},5465:function(u,_,e){var r=e(7854),t=e(3072),i="__core-js_shared__",a=r[i]||t(i,{});u.exports=a},2309:function(u,_,e){var r=e(1913),t=e(5465);(u.exports=function(i,a){return t[i]||(t[i]=a!==void 0?a:{})})("versions",[]).push({version:"3.28.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(u,_,e){var r=e(9670),t=e(9483),i=e(8554),a=e(5112)("species");u.exports=function(s,o){var n,l=r(s).constructor;return l===void 0||i(n=r(l)[a])?o:t(n)}},8710:function(u,_,e){var r=e(1702),t=e(9303),i=e(1340),a=e(4488),s=r("".charAt),o=r("".charCodeAt),n=r("".slice),l=function(c){return function(h,f){var g,m,d=i(a(h)),p=t(f),v=d.length;return p<0||p>=v?c?"":void 0:(g=o(d,p))<55296||g>56319||p+1===v||(m=o(d,p+1))<56320||m>57343?c?s(d,p):g:c?n(d,p,p+2):m-56320+(g-55296<<10)+65536}};u.exports={codeAt:l(!1),charAt:l(!0)}},3197:function(u,_,e){var r=e(1702),t=2147483647,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",o=RangeError,n=r(a.exec),l=Math.floor,c=String.fromCharCode,h=r("".charCodeAt),f=r([].join),g=r([].push),m=r("".replace),d=r("".split),p=r("".toLowerCase),v=function(I){return I+22+75*(I<26)},O=function(I,k,E){var T=0;for(I=E?l(I/700):I>>1,I+=l(I/k);I>455;)I=l(I/35),T+=36;return l(T+36*I/(I+38))},S=function(I){var k=[];I=function(Oe){for(var fe=[],Ue=0,Ae=Oe.length;Ue<Ae;){var xe=h(Oe,Ue++);if(xe>=55296&&xe<=56319&&Ue<Ae){var Re=h(Oe,Ue++);(64512&Re)==56320?g(fe,((1023&xe)<<10)+(1023&Re)+65536):(g(fe,xe),Ue--)}else g(fe,xe)}return fe}(I);var E,T,y=I.length,b=128,U=0,D=72;for(E=0;E<I.length;E++)(T=I[E])<128&&g(k,c(T));var L=k.length,Z=L;for(L&&g(k,"-");Z<y;){var J=t;for(E=0;E<I.length;E++)(T=I[E])>=b&&T<J&&(J=T);var G=Z+1;if(J-b>l((t-U)/G))throw o(s);for(U+=(J-b)*G,b=J,E=0;E<I.length;E++){if((T=I[E])<b&&++U>t)throw o(s);if(T==b){for(var te=U,ce=36;;){var ie=ce<=D?1:ce>=D+26?26:ce-D;if(te<ie)break;var ye=te-ie,be=36-ie;g(k,c(v(ie+ye%be))),te=l(ye/be),ce+=36}g(k,c(v(te))),D=O(U,G,Z==L),U=0,Z++}}U++,b++}return f(k,"")};u.exports=function(I){var k,E,T=[],y=d(m(p(I),a,"."),".");for(k=0;k<y.length;k++)E=y[k],g(T,n(i,E)?"xn--"+S(E):E);return f(T,".")}},3111:function(u,_,e){var r=e(1702),t=e(4488),i=e(1340),a=e(1361),s=r("".replace),o=RegExp("^["+a+"]+"),n=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(c){return function(h){var f=i(t(h));return 1&c&&(f=s(f,o,"")),2&c&&(f=s(f,n,"$1")),f}};u.exports={start:l(1),end:l(2),trim:l(3)}},6293:function(u,_,e){var r=e(7392),t=e(7293);u.exports=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&r&&r<41})},6532:function(u,_,e){var r=e(6916),t=e(5005),i=e(5112),a=e(8052);u.exports=function(){var s=t("Symbol"),o=s&&s.prototype,n=o&&o.valueOf,l=i("toPrimitive");o&&!o[l]&&a(o,l,function(c){return r(n,this)},{arity:1})}},2015:function(u,_,e){var r=e(6293);u.exports=r&&!!Symbol.for&&!!Symbol.keyFor},261:function(u,_,e){var r,t,i,a,s=e(7854),o=e(2104),n=e(9974),l=e(614),c=e(2597),h=e(7293),f=e(490),g=e(206),m=e(317),d=e(8053),p=e(6833),v=e(5268),O=s.setImmediate,S=s.clearImmediate,I=s.process,k=s.Dispatch,E=s.Function,T=s.MessageChannel,y=s.String,b=0,U={};h(function(){r=s.location});var D=function(G){if(c(U,G)){var te=U[G];delete U[G],te()}},L=function(G){return function(){D(G)}},Z=function(G){D(G.data)},J=function(G){s.postMessage(y(G),r.protocol+"//"+r.host)};O&&S||(O=function(G){d(arguments.length,1);var te=l(G)?G:E(G),ce=g(arguments,1);return U[++b]=function(){o(te,void 0,ce)},t(b),b},S=function(G){delete U[G]},v?t=function(G){I.nextTick(L(G))}:k&&k.now?t=function(G){k.now(L(G))}:T&&!p?(a=(i=new T).port2,i.port1.onmessage=Z,t=n(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&r.protocol!=="file:"&&!h(J)?(t=J,s.addEventListener("message",Z,!1)):t="onreadystatechange"in m("script")?function(G){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),D(G)}}:function(G){setTimeout(L(G),0)}),u.exports={set:O,clear:S}},863:function(u,_,e){var r=e(1702);u.exports=r(1 .valueOf)},1400:function(u,_,e){var r=e(9303),t=Math.max,i=Math.min;u.exports=function(a,s){var o=r(a);return o<0?t(o+s,0):i(o,s)}},4599:function(u,_,e){var r=e(7593),t=TypeError;u.exports=function(i){var a=r(i,"number");if(typeof a=="number")throw t("Can't convert number to bigint");return BigInt(a)}},7067:function(u,_,e){var r=e(9303),t=e(7466),i=RangeError;u.exports=function(a){if(a===void 0)return 0;var s=r(a),o=t(s);if(s!==o)throw i("Wrong length or index");return o}},5656:function(u,_,e){var r=e(8361),t=e(4488);u.exports=function(i){return r(t(i))}},9303:function(u,_,e){var r=e(4758);u.exports=function(t){var i=+t;return i!=i||i===0?0:r(i)}},7466:function(u,_,e){var r=e(9303),t=Math.min;u.exports=function(i){return i>0?t(r(i),9007199254740991):0}},7908:function(u,_,e){var r=e(4488),t=Object;u.exports=function(i){return t(r(i))}},4590:function(u,_,e){var r=e(3002),t=RangeError;u.exports=function(i,a){var s=r(i);if(s%a)throw t("Wrong offset");return s}},3002:function(u,_,e){var r=e(9303),t=RangeError;u.exports=function(i){var a=r(i);if(a<0)throw t("The argument can't be less than 0");return a}},7593:function(u,_,e){var r=e(6916),t=e(111),i=e(2190),a=e(8173),s=e(2140),o=e(5112),n=TypeError,l=o("toPrimitive");u.exports=function(c,h){if(!t(c)||i(c))return c;var f,g=a(c,l);if(g){if(h===void 0&&(h="default"),f=r(g,c,h),!t(f)||i(f))return f;throw n("Can't convert object to primitive value")}return h===void 0&&(h="number"),s(c,h)}},4948:function(u,_,e){var r=e(7593),t=e(2190);u.exports=function(i){var a=r(i,"string");return t(a)?a:a+""}},1694:function(u,_,e){var r={};r[e(5112)("toStringTag")]="z",u.exports=String(r)==="[object z]"},1340:function(u,_,e){var r=e(648),t=String;u.exports=function(i){if(r(i)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return t(i)}},6330:function(u){var _=String;u.exports=function(e){try{return _(e)}catch{return"Object"}}},9843:function(u,_,e){var r=e(2109),t=e(7854),i=e(6916),a=e(9781),s=e(3832),o=e(260),n=e(3331),l=e(5787),c=e(9114),h=e(8880),f=e(5988),g=e(7466),m=e(7067),d=e(4590),p=e(4948),v=e(2597),O=e(648),S=e(111),I=e(2190),k=e(30),E=e(7976),T=e(7674),y=e(8006).f,b=e(7321),U=e(2092).forEach,D=e(6340),L=e(7045),Z=e(3070),J=e(1236),G=e(9909),te=e(9587),ce=G.get,ie=G.set,ye=G.enforce,be=Z.f,Oe=J.f,fe=Math.round,Ue=t.RangeError,Ae=n.ArrayBuffer,xe=Ae.prototype,Re=n.DataView,V=o.NATIVE_ARRAY_BUFFER_VIEWS,He=o.TYPED_ARRAY_TAG,Ke=o.TypedArray,ot=o.TypedArrayPrototype,ze=o.aTypedArrayConstructor,et=o.isTypedArray,We="BYTES_PER_ELEMENT",Xe="Wrong length",Ye=function(se,j){ze(se);for(var H=0,he=j.length,le=new se(he);he>H;)le[H]=j[H++];return le},nt=function(se,j){L(se,j,{configurable:!0,get:function(){return ce(this)[j]}})},$e=function(se){var j;return E(xe,se)||(j=O(se))=="ArrayBuffer"||j=="SharedArrayBuffer"},Ie=function(se,j){return et(se)&&!I(j)&&j in se&&f(+j)&&j>=0},x=function(se,j){return j=p(j),Ie(se,j)?c(2,se[j]):Oe(se,j)},ue=function(se,j,H){return j=p(j),!(Ie(se,j)&&S(H)&&v(H,"value"))||v(H,"get")||v(H,"set")||H.configurable||v(H,"writable")&&!H.writable||v(H,"enumerable")&&!H.enumerable?be(se,j,H):(se[j]=H.value,se)};a?(V||(J.f=x,Z.f=ue,nt(ot,"buffer"),nt(ot,"byteOffset"),nt(ot,"byteLength"),nt(ot,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:x,defineProperty:ue}),u.exports=function(se,j,H){var he=se.match(/\d+/)[0]/8,le=se+(H?"Clamped":"")+"Array",de="get"+se,Ee="set"+se,Ce=t[le],ne=Ce,K=ne&&ne.prototype,C={},X=function(re,ae){be(re,ae,{get:function(){return function(pe,me){var Te=ce(pe);return Te.view[de](me*he+Te.byteOffset,!0)}(this,ae)},set:function(pe){return function(me,Te,Be){var Ge=ce(me);H&&(Be=(Be=fe(Be))<0?0:Be>255?255:255&Be),Ge.view[Ee](Te*he+Ge.byteOffset,Be,!0)}(this,ae,pe)},enumerable:!0})};V?s&&(ne=j(function(re,ae,pe,me){return l(re,K),te(S(ae)?$e(ae)?me!==void 0?new Ce(ae,d(pe,he),me):pe!==void 0?new Ce(ae,d(pe,he)):new Ce(ae):et(ae)?Ye(ne,ae):i(b,ne,ae):new Ce(m(ae)),re,ne)}),T&&T(ne,Ke),U(y(Ce),function(re){re in ne||h(ne,re,Ce[re])}),ne.prototype=K):(ne=j(function(re,ae,pe,me){l(re,K);var Te,Be,Ge,ut=0,at=0;if(S(ae)){if(!$e(ae))return et(ae)?Ye(ne,ae):i(b,ne,ae);Te=ae,at=d(pe,he);var mt=ae.byteLength;if(me===void 0){if(mt%he||(Be=mt-at)<0)throw Ue(Xe)}else if((Be=g(me)*he)+at>mt)throw Ue(Xe);Ge=Be/he}else Ge=m(ae),Te=new Ae(Be=Ge*he);for(ie(re,{buffer:Te,byteOffset:at,byteLength:Be,length:Ge,view:new Re(Te)});ut<Ge;)X(re,ut++)}),T&&T(ne,Ke),K=ne.prototype=k(ot)),K.constructor!==ne&&h(K,"constructor",ne),ye(K).TypedArrayConstructor=ne,He&&h(K,He,le);var Y=ne!=Ce;C[le]=ne,r({global:!0,constructor:!0,forced:Y,sham:!V},C),We in ne||h(ne,We,he),We in K||h(K,We,he),D(le)}):u.exports=function(){}},3832:function(u,_,e){var r=e(7854),t=e(7293),i=e(7072),a=e(260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,o=r.Int8Array;u.exports=!a||!t(function(){o(1)})||!t(function(){new o(-1)})||!i(function(n){new o,new o(null),new o(1.5),new o(n)},!0)||t(function(){return new o(new s(2),1,void 0).length!==1})},3074:function(u,_,e){var r=e(7745),t=e(6304);u.exports=function(i,a){return r(t(i),a)}},7321:function(u,_,e){var r=e(9974),t=e(6916),i=e(9483),a=e(7908),s=e(6244),o=e(4121),n=e(1246),l=e(7659),c=e(4067),h=e(260).aTypedArrayConstructor,f=e(4599);u.exports=function(g){var m,d,p,v,O,S,I,k,E=i(this),T=a(g),y=arguments.length,b=y>1?arguments[1]:void 0,U=b!==void 0,D=n(T);if(D&&!l(D))for(k=(I=o(T,D)).next,T=[];!(S=t(k,I)).done;)T.push(S.value);for(U&&y>2&&(b=r(b,arguments[2])),d=s(T),p=new(h(E))(d),v=c(p),m=0;d>m;m++)O=U?b(T[m],m):T[m],p[m]=v?f(O):+O;return p}},6304:function(u,_,e){var r=e(260),t=e(6707),i=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;u.exports=function(s){return i(t(s,a(s)))}},9711:function(u,_,e){var r=e(1702),t=0,i=Math.random(),a=r(1 .toString);u.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+a(++t+i,36)}},5143:function(u,_,e){var r=e(7293),t=e(5112),i=e(1913),a=t("iterator");u.exports=!r(function(){var s=new URL("b?a=1&b=2&c=3","http://a"),o=s.searchParams,n="";return s.pathname="c%20d",o.forEach(function(l,c){o.delete("b"),n+=c+l}),i&&!s.toJSON||!o.sort||s.href!=="http://a/c%20d?a=1&c=3"||o.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!o[a]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},3307:function(u,_,e){var r=e(6293);u.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(u,_,e){var r=e(9781),t=e(7293);u.exports=r&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(u){var _=TypeError;u.exports=function(e,r){if(e<r)throw _("Not enough arguments");return e}},4811:function(u,_,e){var r=e(7854),t=e(614),i=r.WeakMap;u.exports=t(i)&&/native code/.test(String(i))},6800:function(u,_,e){var r=e(857),t=e(2597),i=e(6061),a=e(3070).f;u.exports=function(s){var o=r.Symbol||(r.Symbol={});t(o,s)||a(o,s,{value:i.f(s)})}},6061:function(u,_,e){var r=e(5112);_.f=r},5112:function(u,_,e){var r=e(7854),t=e(2309),i=e(2597),a=e(9711),s=e(6293),o=e(3307),n=r.Symbol,l=t("wks"),c=o?n.for||n:n&&n.withoutSetter||a;u.exports=function(h){return i(l,h)||(l[h]=s&&i(n,h)?n[h]:c("Symbol."+h)),l[h]}},1361:function(u){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},8264:function(u,_,e){var r=e(2109),t=e(7854),i=e(3331),a=e(6340),s=i.ArrayBuffer;r({global:!0,constructor:!0,forced:t.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},9575:function(u,_,e){var r=e(2109),t=e(1470),i=e(7293),a=e(3331),s=e(9670),o=e(1400),n=e(7466),l=e(6707),c=a.ArrayBuffer,h=a.DataView,f=h.prototype,g=t(c.prototype.slice),m=t(f.getUint8),d=t(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function(p,v){if(g&&v===void 0)return g(s(this),p);for(var O=s(this).byteLength,S=o(p,O),I=o(v===void 0?O:v,O),k=new(l(this,c))(n(I-S)),E=new h(this),T=new h(k),y=0;S<I;)d(T,y++,m(E,S++));return k}})},2222:function(u,_,e){var r=e(2109),t=e(7293),i=e(3157),a=e(111),s=e(7908),o=e(6244),n=e(7207),l=e(6135),c=e(5417),h=e(1194),f=e(5112),g=e(7392),m=f("isConcatSpreadable"),d=g>=51||!t(function(){var v=[];return v[m]=!1,v.concat()[0]!==v}),p=function(v){if(!a(v))return!1;var O=v[m];return O!==void 0?!!O:i(v)};r({target:"Array",proto:!0,arity:1,forced:!d||!h("concat")},{concat:function(v){var O,S,I,k,E,T=s(this),y=c(T,0),b=0;for(O=-1,I=arguments.length;O<I;O++)if(p(E=O===-1?T:arguments[O]))for(k=o(E),n(b+k),S=0;S<k;S++,b++)S in E&&l(y,b,E[S]);else n(b+1),l(y,b++,E);return y.length=b,y}})},7327:function(u,_,e){var r=e(2109),t=e(2092).filter;r({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}})},9554:function(u,_,e){var r=e(2109),t=e(8533);r({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},6699:function(u,_,e){var r=e(2109),t=e(1318).includes,i=e(7293),a=e(1223);r({target:"Array",proto:!0,forced:i(function(){return!Array(1).includes()})},{includes:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:function(u,_,e){var r=e(2109),t=e(1470),i=e(1318).indexOf,a=e(9341),s=t([].indexOf),o=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:o||!a("indexOf")},{indexOf:function(n){var l=arguments.length>1?arguments[1]:void 0;return o?s(this,n,l)||0:i(this,n,l)}})},9753:function(u,_,e){e(2109)({target:"Array",stat:!0},{isArray:e(3157)})},6992:function(u,_,e){var r=e(5656),t=e(1223),i=e(7497),a=e(9909),s=e(3070).f,o=e(1656),n=e(6178),l=e(1913),c=e(9781),h="Array Iterator",f=a.set,g=a.getterFor(h);u.exports=o(Array,"Array",function(d,p){f(this,{type:h,target:r(d),index:0,kind:p})},function(){var d=g(this),p=d.target,v=d.kind,O=d.index++;return!p||O>=p.length?(d.target=void 0,n(void 0,!0)):n(v=="keys"?O:v=="values"?p[O]:[O,p[O]],!1)},"values");var m=i.Arguments=i.Array;if(t("keys"),t("values"),t("entries"),!l&&c&&m.name!=="values")try{s(m,"name",{value:"values"})}catch{}},9600:function(u,_,e){var r=e(2109),t=e(1702),i=e(8361),a=e(5656),s=e(9341),o=t([].join);r({target:"Array",proto:!0,forced:i!=Object||!s("join",",")},{join:function(n){return o(a(this),n===void 0?",":n)}})},4986:function(u,_,e){var r=e(2109),t=e(6583);r({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},1249:function(u,_,e){var r=e(2109),t=e(2092).map;r({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}})},5069:function(u,_,e){var r=e(2109),t=e(1702),i=e(3157),a=t([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a(this)}})},7042:function(u,_,e){var r=e(2109),t=e(3157),i=e(4411),a=e(111),s=e(1400),o=e(6244),n=e(5656),l=e(6135),c=e(5112),h=e(1194),f=e(206),g=h("slice"),m=c("species"),d=Array,p=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(v,O){var S,I,k,E=n(this),T=o(E),y=s(v,T),b=s(O===void 0?T:O,T);if(t(E)&&(S=E.constructor,(i(S)&&(S===d||t(S.prototype))||a(S)&&(S=S[m])===null)&&(S=void 0),S===d||S===void 0))return f(E,y,b);for(I=new(S===void 0?d:S)(p(b-y,0)),k=0;y<b;y++,k++)y in E&&l(I,k,E[y]);return I.length=k,I}})},5212:function(u,_,e){var r=e(2109),t=e(2092).some;r({target:"Array",proto:!0,forced:!e(9341)("some")},{some:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}})},561:function(u,_,e){var r=e(2109),t=e(7908),i=e(1400),a=e(9303),s=e(6244),o=e(3658),n=e(7207),l=e(5417),c=e(6135),h=e(5117),f=e(1194)("splice"),g=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(d,p){var v,O,S,I,k,E,T=t(this),y=s(T),b=i(d,y),U=arguments.length;for(U===0?v=O=0:U===1?(v=0,O=y-b):(v=U-2,O=m(g(a(p),0),y-b)),n(y+v-O),S=l(T,O),I=0;I<O;I++)(k=b+I)in T&&c(S,I,T[k]);if(S.length=O,v<O){for(I=b;I<y-O;I++)E=I+v,(k=I+O)in T?T[E]=T[k]:h(T,E);for(I=y;I>y-O+v;I--)h(T,I-1)}else if(v>O)for(I=y-O;I>b;I--)E=I+v-1,(k=I+O-1)in T?T[E]=T[k]:h(T,E);for(I=0;I<v;I++)T[I+b]=arguments[I+2];return o(T,y-O+v),S}})},3843:function(u,_,e){var r=e(2109),t=e(1702),i=Date,a=t(i.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new i)}})},3710:function(u,_,e){var r=e(1702),t=e(8052),i=Date.prototype,a="Invalid Date",s=r(i.toString),o=r(i.getTime);String(new Date(NaN))!=a&&t(i,"toString",function(){var n=o(this);return n==n?s(this):a})},4812:function(u,_,e){var r=e(2109),t=e(7065);r({target:"Function",proto:!0,forced:Function.bind!==t},{bind:t})},8309:function(u,_,e){var r=e(9781),t=e(6530).EXISTS,i=e(1702),a=e(7045),s=Function.prototype,o=i(s.toString),n=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(n.exec);r&&!t&&a(s,"name",{configurable:!0,get:function(){try{return l(n,o(this))[1]}catch{return""}}})},8862:function(u,_,e){var r=e(2109),t=e(5005),i=e(2104),a=e(6916),s=e(1702),o=e(7293),n=e(614),l=e(2190),c=e(206),h=e(8044),f=e(6293),g=String,m=t("JSON","stringify"),d=s(/./.exec),p=s("".charAt),v=s("".charCodeAt),O=s("".replace),S=s(1 .toString),I=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,T=!f||o(function(){var D=t("Symbol")();return m([D])!="[null]"||m({a:D})!="{}"||m(Object(D))!="{}"}),y=o(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),b=function(D,L){var Z=c(arguments),J=h(L);if(n(J)||D!==void 0&&!l(D))return Z[1]=function(G,te){if(n(J)&&(te=a(J,this,g(G),te)),!l(te))return te},i(m,null,Z)},U=function(D,L,Z){var J=p(Z,L-1),G=p(Z,L+1);return d(k,D)&&!d(E,G)||d(E,D)&&!d(k,J)?"\\u"+S(v(D,0),16):D};m&&r({target:"JSON",stat:!0,arity:3,forced:T||y},{stringify:function(D,L,Z){var J=c(arguments),G=i(T?b:m,null,J);return y&&typeof G=="string"?O(G,I,U):G}})},9098:function(u,_,e){e(7710)("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e(5631))},1532:function(u,_,e){e(9098)},9653:function(u,_,e){var r=e(2109),t=e(1913),i=e(9781),a=e(7854),s=e(857),o=e(1702),n=e(4705),l=e(2597),c=e(9587),h=e(7976),f=e(2190),g=e(7593),m=e(7293),d=e(8006).f,p=e(1236).f,v=e(3070).f,O=e(863),S=e(3111).trim,I=a.Number,k=s.Number,E=I.prototype,T=a.TypeError,y=o("".slice),b=o("".charCodeAt),U=function(te){var ce=g(te,"number");return typeof ce=="bigint"?ce:D(ce)},D=function(te){var ce,ie,ye,be,Oe,fe,Ue,Ae,xe=g(te,"number");if(f(xe))throw T("Cannot convert a Symbol value to a number");if(typeof xe=="string"&&xe.length>2){if(xe=S(xe),(ce=b(xe,0))===43||ce===45){if((ie=b(xe,2))===88||ie===120)return NaN}else if(ce===48){switch(b(xe,1)){case 66:case 98:ye=2,be=49;break;case 79:case 111:ye=8,be=55;break;default:return+xe}for(fe=(Oe=y(xe,2)).length,Ue=0;Ue<fe;Ue++)if((Ae=b(Oe,Ue))<48||Ae>be)return NaN;return parseInt(Oe,ye)}}return+xe},L=n("Number",!I(" 0o1")||!I("0b1")||I("+0x1")),Z=function(te){return h(E,te)&&m(function(){O(te)})},J=function(te){var ce=arguments.length<1?0:I(U(te));return Z(this)?c(Object(ce),this,J):ce};J.prototype=E,L&&!t&&(E.constructor=J),r({global:!0,constructor:!0,wrap:!0,forced:L},{Number:J});var G=function(te,ce){for(var ie,ye=i?d(ce):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),be=0;ye.length>be;be++)l(ce,ie=ye[be])&&!l(te,ie)&&v(te,ie,p(ce,ie))};t&&k&&G(s.Number,k),(L||t)&&G(s.Number,I)},3161:function(u,_,e){e(2109)({target:"Number",stat:!0},{isInteger:e(5988)})},9601:function(u,_,e){var r=e(2109),t=e(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==t},{assign:t})},9070:function(u,_,e){var r=e(2109),t=e(9781),i=e(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!t},{defineProperty:i})},9720:function(u,_,e){var r=e(2109),t=e(4699).entries;r({target:"Object",stat:!0},{entries:function(i){return t(i)}})},9660:function(u,_,e){var r=e(2109),t=e(6293),i=e(7293),a=e(5181),s=e(7908);r({target:"Object",stat:!0,forced:!t||i(function(){a.f(1)})},{getOwnPropertySymbols:function(o){var n=a.f;return n?n(s(o)):[]}})},7941:function(u,_,e){var r=e(2109),t=e(7908),i=e(1956);r({target:"Object",stat:!0,forced:e(7293)(function(){i(1)})},{keys:function(a){return i(t(a))}})},1539:function(u,_,e){var r=e(1694),t=e(8052),i=e(288);r||t(Object.prototype,"toString",i,{unsafe:!0})},821:function(u,_,e){var r=e(2109),t=e(6916),i=e(9662),a=e(8523),s=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{all:function(n){var l=this,c=a.f(l),h=c.resolve,f=c.reject,g=s(function(){var m=i(l.resolve),d=[],p=0,v=1;o(n,function(O){var S=p++,I=!1;v++,t(m,l,O).then(function(k){I||(I=!0,d[S]=k,--v||h(d))},f)}),--v||h(d)});return g.error&&f(g.value),c.promise}})},4164:function(u,_,e){var r=e(2109),t=e(1913),i=e(3702).CONSTRUCTOR,a=e(2492),s=e(5005),o=e(614),n=e(8052),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(h){return this.then(void 0,h)}}),!t&&o(a)){var c=s("Promise").prototype.catch;l.catch!==c&&n(l,"catch",c,{unsafe:!0})}},3401:function(u,_,e){var r,t,i,a=e(2109),s=e(1913),o=e(5268),n=e(7854),l=e(6916),c=e(8052),h=e(7674),f=e(8003),g=e(6340),m=e(9662),d=e(614),p=e(111),v=e(5787),O=e(6707),S=e(261).set,I=e(5948),k=e(842),E=e(2534),T=e(8572),y=e(9909),b=e(2492),U=e(3702),D=e(8523),L="Promise",Z=U.CONSTRUCTOR,J=U.REJECTION_EVENT,G=U.SUBCLASSING,te=y.getterFor(L),ce=y.set,ie=b&&b.prototype,ye=b,be=ie,Oe=n.TypeError,fe=n.document,Ue=n.process,Ae=D.f,xe=Ae,Re=!!(fe&&fe.createEvent&&n.dispatchEvent),V="unhandledrejection",He=function(Ie){var x;return!(!p(Ie)||!d(x=Ie.then))&&x},Ke=function(Ie,x){var ue,se,j,H=x.value,he=x.state==1,le=he?Ie.ok:Ie.fail,de=Ie.resolve,Ee=Ie.reject,Ce=Ie.domain;try{le?(he||(x.rejection===2&&Xe(x),x.rejection=1),le===!0?ue=H:(Ce&&Ce.enter(),ue=le(H),Ce&&(Ce.exit(),j=!0)),ue===Ie.promise?Ee(Oe("Promise-chain cycle")):(se=He(ue))?l(se,ue,de,Ee):de(ue)):Ee(H)}catch(ne){Ce&&!j&&Ce.exit(),Ee(ne)}},ot=function(Ie,x){Ie.notified||(Ie.notified=!0,I(function(){for(var ue,se=Ie.reactions;ue=se.get();)Ke(ue,Ie);Ie.notified=!1,x&&!Ie.rejection&&et(Ie)}))},ze=function(Ie,x,ue){var se,j;Re?((se=fe.createEvent("Event")).promise=x,se.reason=ue,se.initEvent(Ie,!1,!0),n.dispatchEvent(se)):se={promise:x,reason:ue},!J&&(j=n["on"+Ie])?j(se):Ie===V&&k("Unhandled promise rejection",ue)},et=function(Ie){l(S,n,function(){var x,ue=Ie.facade,se=Ie.value;if(We(Ie)&&(x=E(function(){o?Ue.emit("unhandledRejection",se,ue):ze(V,ue,se)}),Ie.rejection=o||We(Ie)?2:1,x.error))throw x.value})},We=function(Ie){return Ie.rejection!==1&&!Ie.parent},Xe=function(Ie){l(S,n,function(){var x=Ie.facade;o?Ue.emit("rejectionHandled",x):ze("rejectionhandled",x,Ie.value)})},Ye=function(Ie,x,ue){return function(se){Ie(x,se,ue)}},nt=function(Ie,x,ue){Ie.done||(Ie.done=!0,ue&&(Ie=ue),Ie.value=x,Ie.state=2,ot(Ie,!0))},$e=function(Ie,x,ue){if(!Ie.done){Ie.done=!0,ue&&(Ie=ue);try{if(Ie.facade===x)throw Oe("Promise can't be resolved itself");var se=He(x);se?I(function(){var j={done:!1};try{l(se,x,Ye($e,j,Ie),Ye(nt,j,Ie))}catch(H){nt(j,H,Ie)}}):(Ie.value=x,Ie.state=1,ot(Ie,!1))}catch(j){nt({done:!1},j,Ie)}}};if(Z&&(be=(ye=function(Ie){v(this,be),m(Ie),l(r,this);var x=te(this);try{Ie(Ye($e,x),Ye(nt,x))}catch(ue){nt(x,ue)}}).prototype,(r=function(Ie){ce(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=c(be,"then",function(Ie,x){var ue=te(this),se=Ae(O(this,ye));return ue.parent=!0,se.ok=!d(Ie)||Ie,se.fail=d(x)&&x,se.domain=o?Ue.domain:void 0,ue.state==0?ue.reactions.add(se):I(function(){Ke(se,ue)}),se.promise}),t=function(){var Ie=new r,x=te(Ie);this.promise=Ie,this.resolve=Ye($e,x),this.reject=Ye(nt,x)},D.f=Ae=function(Ie){return Ie===ye||Ie===void 0?new t(Ie):xe(Ie)},!s&&d(b)&&ie!==Object.prototype)){i=ie.then,G||c(ie,"then",function(Ie,x){var ue=this;return new ye(function(se,j){l(i,ue,se,j)}).then(Ie,x)},{unsafe:!0});try{delete ie.constructor}catch{}h&&h(ie,be)}a({global:!0,constructor:!0,wrap:!0,forced:Z},{Promise:ye}),f(ye,L,!1,!0),g(L)},8674:function(u,_,e){e(3401),e(821),e(4164),e(6027),e(683),e(6294)},6027:function(u,_,e){var r=e(2109),t=e(6916),i=e(9662),a=e(8523),s=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{race:function(n){var l=this,c=a.f(l),h=c.reject,f=s(function(){var g=i(l.resolve);o(n,function(m){t(g,l,m).then(c.resolve,h)})});return f.error&&h(f.value),c.promise}})},683:function(u,_,e){var r=e(2109),t=e(6916),i=e(8523);r({target:"Promise",stat:!0,forced:e(3702).CONSTRUCTOR},{reject:function(a){var s=i.f(this);return t(s.reject,void 0,a),s.promise}})},6294:function(u,_,e){var r=e(2109),t=e(5005),i=e(1913),a=e(2492),s=e(3702).CONSTRUCTOR,o=e(9478),n=t("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(c){return o(l&&this===n?a:this,c)}})},4916:function(u,_,e){var r=e(2109),t=e(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},9714:function(u,_,e){var r=e(6530).PROPER,t=e(8052),i=e(9670),a=e(1340),s=e(7293),o=e(4706),n="toString",l=RegExp.prototype.toString,c=s(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),h=r&&l.name!=n;(c||h)&&t(RegExp.prototype,n,function(){var f=i(this);return"/"+a(f.source)+"/"+a(o(f))},{unsafe:!0})},2023:function(u,_,e){var r=e(2109),t=e(1702),i=e(3929),a=e(4488),s=e(1340),o=e(4964),n=t("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(l){return!!~n(s(a(this)),s(i(l)),arguments.length>1?arguments[1]:void 0)}})},8783:function(u,_,e){var r=e(8710).charAt,t=e(1340),i=e(9909),a=e(1656),s=e(6178),o="String Iterator",n=i.set,l=i.getterFor(o);a(String,"String",function(c){n(this,{type:o,string:t(c),index:0})},function(){var c,h=l(this),f=h.string,g=h.index;return g>=f.length?s(void 0,!0):(c=r(f,g),h.index+=c.length,s(c,!1))})},4032:function(u,_,e){var r=e(2109),t=e(7854),i=e(6916),a=e(1702),s=e(1913),o=e(9781),n=e(6293),l=e(7293),c=e(2597),h=e(7976),f=e(9670),g=e(5656),m=e(4948),d=e(1340),p=e(9114),v=e(30),O=e(1956),S=e(8006),I=e(1156),k=e(5181),E=e(1236),T=e(3070),y=e(6048),b=e(5296),U=e(8052),D=e(7045),L=e(2309),Z=e(6200),J=e(3501),G=e(9711),te=e(5112),ce=e(6061),ie=e(6800),ye=e(6532),be=e(8003),Oe=e(9909),fe=e(2092).forEach,Ue=Z("hidden"),Ae="Symbol",xe=Oe.set,Re=Oe.getterFor(Ae),V=Object.prototype,He=t.Symbol,Ke=He&&He.prototype,ot=t.TypeError,ze=t.QObject,et=E.f,We=T.f,Xe=I.f,Ye=b.f,nt=a([].push),$e=L("symbols"),Ie=L("op-symbols"),x=L("wks"),ue=!ze||!ze.prototype||!ze.prototype.findChild,se=o&&l(function(){return v(We({},"a",{get:function(){return We(this,"a",{value:7}).a}})).a!=7})?function(ne,K,C){var X=et(V,K);X&&delete V[K],We(ne,K,C),X&&ne!==V&&We(V,K,X)}:We,j=function(ne,K){var C=$e[ne]=v(Ke);return xe(C,{type:Ae,tag:ne,description:K}),o||(C.description=K),C},H=function(ne,K,C){ne===V&&H(Ie,K,C),f(ne);var X=m(K);return f(C),c($e,X)?(C.enumerable?(c(ne,Ue)&&ne[Ue][X]&&(ne[Ue][X]=!1),C=v(C,{enumerable:p(0,!1)})):(c(ne,Ue)||We(ne,Ue,p(1,{})),ne[Ue][X]=!0),se(ne,X,C)):We(ne,X,C)},he=function(ne,K){f(ne);var C=g(K),X=O(C).concat(Ce(C));return fe(X,function(Y){o&&!i(le,C,Y)||H(ne,Y,C[Y])}),ne},le=function(ne){var K=m(ne),C=i(Ye,this,K);return!(this===V&&c($e,K)&&!c(Ie,K))&&(!(C||!c(this,K)||!c($e,K)||c(this,Ue)&&this[Ue][K])||C)},de=function(ne,K){var C=g(ne),X=m(K);if(C!==V||!c($e,X)||c(Ie,X)){var Y=et(C,X);return!Y||!c($e,X)||c(C,Ue)&&C[Ue][X]||(Y.enumerable=!0),Y}},Ee=function(ne){var K=Xe(g(ne)),C=[];return fe(K,function(X){c($e,X)||c(J,X)||nt(C,X)}),C},Ce=function(ne){var K=ne===V,C=Xe(K?Ie:g(ne)),X=[];return fe(C,function(Y){!c($e,Y)||K&&!c(V,Y)||nt(X,$e[Y])}),X};n||(He=function(){if(h(Ke,this))throw ot("Symbol is not a constructor");var ne=arguments.length&&arguments[0]!==void 0?d(arguments[0]):void 0,K=G(ne),C=function(X){this===V&&i(C,Ie,X),c(this,Ue)&&c(this[Ue],K)&&(this[Ue][K]=!1),se(this,K,p(1,X))};return o&&ue&&se(V,K,{configurable:!0,set:C}),j(K,ne)},U(Ke=He.prototype,"toString",function(){return Re(this).tag}),U(He,"withoutSetter",function(ne){return j(G(ne),ne)}),b.f=le,T.f=H,y.f=he,E.f=de,S.f=I.f=Ee,k.f=Ce,ce.f=function(ne){return j(te(ne),ne)},o&&(D(Ke,"description",{configurable:!0,get:function(){return Re(this).description}}),s||U(V,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!n,sham:!n},{Symbol:He}),fe(O(x),function(ne){ie(ne)}),r({target:Ae,stat:!0,forced:!n},{useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),r({target:"Object",stat:!0,forced:!n,sham:!o},{create:function(ne,K){return K===void 0?v(ne):he(v(ne),K)},defineProperty:H,defineProperties:he,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!n},{getOwnPropertyNames:Ee}),ye(),be(He,Ae),J[Ue]=!0},1817:function(u,_,e){var r=e(2109),t=e(9781),i=e(7854),a=e(1702),s=e(2597),o=e(614),n=e(7976),l=e(1340),c=e(7045),h=e(9920),f=i.Symbol,g=f&&f.prototype;if(t&&o(f)&&(!("description"in g)||f().description!==void 0)){var m={},d=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:l(arguments[0]),T=n(g,this)?new f(E):E===void 0?f():f(E);return E===""&&(m[T]=!0),T};h(d,f),d.prototype=g,g.constructor=d;var p=String(f("test"))=="Symbol(test)",v=a(g.valueOf),O=a(g.toString),S=/^Symbol\((.*)\)[^)]+$/,I=a("".replace),k=a("".slice);c(g,"description",{configurable:!0,get:function(){var E=v(this);if(s(m,E))return"";var T=O(E),y=p?k(T,7,-1):I(T,S,"$1");return y===""?void 0:y}}),r({global:!0,constructor:!0,forced:!0},{Symbol:d})}},763:function(u,_,e){var r=e(2109),t=e(5005),i=e(2597),a=e(1340),s=e(2309),o=e(2015),n=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{for:function(c){var h=a(c);if(i(n,h))return n[h];var f=t("Symbol")(h);return n[h]=f,l[f]=h,f}})},2165:function(u,_,e){e(6800)("iterator")},2526:function(u,_,e){e(4032),e(763),e(6620),e(8862),e(9660)},6620:function(u,_,e){var r=e(2109),t=e(2597),i=e(2190),a=e(6330),s=e(2309),o=e(2015),n=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{keyFor:function(l){if(!i(l))throw TypeError(a(l)+" is not a symbol");if(t(n,l))return n[l]}})},2990:function(u,_,e){var r=e(1702),t=e(260),i=r(e(1048)),a=t.aTypedArray;(0,t.exportTypedArrayMethod)("copyWithin",function(s,o){return i(a(this),s,o,arguments.length>2?arguments[2]:void 0)})},8927:function(u,_,e){var r=e(260),t=e(2092).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},3105:function(u,_,e){var r=e(260),t=e(1285),i=e(4599),a=e(648),s=e(6916),o=e(1702),n=e(7293),l=r.aTypedArray,c=r.exportTypedArrayMethod,h=o("".slice);c("fill",function(f){var g=arguments.length;l(this);var m=h(a(this),0,3)==="Big"?i(f):+f;return s(t,this,m,g>1?arguments[1]:void 0,g>2?arguments[2]:void 0)},n(function(){var f=0;return new Int8Array(2).fill({valueOf:function(){return f++}}),f!==1}))},5035:function(u,_,e){var r=e(260),t=e(2092).filter,i=e(3074),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(s){var o=t(a(this),s,arguments.length>1?arguments[1]:void 0);return i(this,o)})},7174:function(u,_,e){var r=e(260),t=e(2092).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},4345:function(u,_,e){var r=e(260),t=e(2092).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},2846:function(u,_,e){var r=e(260),t=e(2092).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(a){t(i(this),a,arguments.length>1?arguments[1]:void 0)})},4731:function(u,_,e){var r=e(260),t=e(1318).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},7209:function(u,_,e){var r=e(260),t=e(1318).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},6319:function(u,_,e){var r=e(7854),t=e(7293),i=e(1702),a=e(260),s=e(6992),o=e(5112)("iterator"),n=r.Uint8Array,l=i(s.values),c=i(s.keys),h=i(s.entries),f=a.aTypedArray,g=a.exportTypedArrayMethod,m=n&&n.prototype,d=!t(function(){m[o].call([1])}),p=!!m&&m.values&&m[o]===m.values&&m.values.name==="values",v=function(){return l(f(this))};g("entries",function(){return h(f(this))},d),g("keys",function(){return c(f(this))},d),g("values",v,d||!p,{name:"values"}),g(o,v,d||!p,{name:"values"})},8867:function(u,_,e){var r=e(260),t=e(1702),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=t([].join);a("join",function(o){return s(i(this),o)})},7789:function(u,_,e){var r=e(260),t=e(2104),i=e(6583),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(s){var o=arguments.length;return t(i,a(this),o>1?[s,arguments[1]]:[s])})},3739:function(u,_,e){var r=e(260),t=e(2092).map,i=e(6304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",function(s){return t(a(this),s,arguments.length>1?arguments[1]:void 0,function(o,n){return new(i(o))(n)})})},4483:function(u,_,e){var r=e(260),t=e(3671).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(a){var s=arguments.length;return t(i(this),a,s,s>1?arguments[1]:void 0)})},9368:function(u,_,e){var r=e(260),t=e(3671).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(a){var s=arguments.length;return t(i(this),a,s,s>1?arguments[1]:void 0)})},2056:function(u,_,e){var r=e(260),t=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",function(){for(var s,o=this,n=t(o).length,l=a(n/2),c=0;c<l;)s=o[c],o[c++]=o[--n],o[n]=s;return o})},3462:function(u,_,e){var r=e(7854),t=e(6916),i=e(260),a=e(6244),s=e(4590),o=e(7908),n=e(7293),l=r.RangeError,c=r.Int8Array,h=c&&c.prototype,f=h&&h.set,g=i.aTypedArray,m=i.exportTypedArrayMethod,d=!n(function(){var v=new Uint8ClampedArray(2);return t(f,v,{length:1,0:3},1),v[1]!==3}),p=d&&i.NATIVE_ARRAY_BUFFER_VIEWS&&n(function(){var v=new c(2);return v.set(1),v.set("2",1),v[0]!==0||v[1]!==2});m("set",function(v){g(this);var O=s(arguments.length>1?arguments[1]:void 0,1),S=o(v);if(d)return t(f,this,S,O);var I=this.length,k=a(S),E=0;if(k+O>I)throw l("Wrong length");for(;E<k;)this[O+E]=S[E++]},!d||p)},678:function(u,_,e){var r=e(260),t=e(6304),i=e(7293),a=e(206),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",function(o,n){for(var l=a(s(this),o,n),c=t(this),h=0,f=l.length,g=new c(f);f>h;)g[h]=l[h++];return g},i(function(){new Int8Array(1).slice()}))},7462:function(u,_,e){var r=e(260),t=e(2092).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(a){return t(i(this),a,arguments.length>1?arguments[1]:void 0)})},3824:function(u,_,e){var r=e(7854),t=e(1470),i=e(7293),a=e(9662),s=e(4362),o=e(260),n=e(8886),l=e(256),c=e(7392),h=e(8008),f=o.aTypedArray,g=o.exportTypedArrayMethod,m=r.Uint16Array,d=m&&t(m.prototype.sort),p=!(!d||i(function(){d(new m(2),null)})&&i(function(){d(new m(2),{})})),v=!!d&&!i(function(){if(c)return c<74;if(n)return n<67;if(l)return!0;if(h)return h<602;var O,S,I=new m(516),k=Array(516);for(O=0;O<516;O++)S=O%4,I[O]=515-O,k[O]=O-2*S+3;for(d(I,function(E,T){return(E/4|0)-(T/4|0)}),O=0;O<516;O++)if(I[O]!==k[O])return!0});g("sort",function(O){return O!==void 0&&a(O),v?d(this,O):s(f(this),function(S){return function(I,k){return S!==void 0?+S(I,k)||0:k!=k?-1:I!=I?1:I===0&&k===0?1/I>0&&1/k<0?1:-1:I>k}}(O))},!v||p)},5021:function(u,_,e){var r=e(260),t=e(7466),i=e(1400),a=e(6304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(o,n){var l=s(this),c=l.length,h=i(o,c);return new(a(l))(l.buffer,l.byteOffset+h*l.BYTES_PER_ELEMENT,t((n===void 0?c:i(n,c))-h))})},2974:function(u,_,e){var r=e(7854),t=e(2104),i=e(260),a=e(7293),s=e(206),o=r.Int8Array,n=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,h=!!o&&a(function(){c.call(new o(1))});l("toLocaleString",function(){return t(c,h?s(n(this)):n(this),s(arguments))},a(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!a(function(){o.prototype.toLocaleString.call([1,2])}))},5016:function(u,_,e){var r=e(260).exportTypedArrayMethod,t=e(7293),i=e(7854),a=e(1702),s=i.Uint8Array,o=s&&s.prototype||{},n=[].toString,l=a([].join);t(function(){n.call({})})&&(n=function(){return l(this)});var c=o.toString!=n;r("toString",n,c)},2472:function(u,_,e){e(9843)("Uint8",function(r){return function(t,i,a){return r(this,t,i,a)}})},4747:function(u,_,e){var r=e(7854),t=e(8324),i=e(8509),a=e(8533),s=e(8880),o=function(l){if(l&&l.forEach!==a)try{s(l,"forEach",a)}catch{l.forEach=a}};for(var n in t)t[n]&&o(r[n]&&r[n].prototype);o(i)},3948:function(u,_,e){var r=e(7854),t=e(8324),i=e(8509),a=e(6992),s=e(8880),o=e(5112),n=o("iterator"),l=o("toStringTag"),c=a.values,h=function(g,m){if(g){if(g[n]!==c)try{s(g,n,c)}catch{g[n]=c}if(g[l]||s(g,l,m),t[m]){for(var d in a)if(g[d]!==a[d])try{s(g,d,a[d])}catch{g[d]=a[d]}}}};for(var f in t)h(r[f]&&r[f].prototype,f);h(i,"DOMTokenList")},6815:function(u,_,e){var r=e(2109),t=e(7854),i=e(7152)(t.setInterval,!0);r({global:!0,bind:!0,forced:t.setInterval!==i},{setInterval:i})},8417:function(u,_,e){var r=e(2109),t=e(7854),i=e(7152)(t.setTimeout,!0);r({global:!0,bind:!0,forced:t.setTimeout!==i},{setTimeout:i})},2564:function(u,_,e){e(6815),e(8417)},5556:function(u,_,e){e(6992);var r=e(2109),t=e(7854),i=e(6916),a=e(1702),s=e(9781),o=e(5143),n=e(8052),l=e(9190),c=e(8003),h=e(3061),f=e(9909),g=e(5787),m=e(614),d=e(2597),p=e(9974),v=e(648),O=e(9670),S=e(111),I=e(1340),k=e(30),E=e(9114),T=e(4121),y=e(1246),b=e(8053),U=e(5112),D=e(4362),L=U("iterator"),Z="URLSearchParams",J="URLSearchParamsIterator",G=f.set,te=f.getterFor(Z),ce=f.getterFor(J),ie=Object.getOwnPropertyDescriptor,ye=function(re){if(!s)return t[re];var ae=ie(t,re);return ae&&ae.value},be=ye("fetch"),Oe=ye("Request"),fe=ye("Headers"),Ue=Oe&&Oe.prototype,Ae=fe&&fe.prototype,xe=t.RegExp,Re=t.TypeError,V=t.decodeURIComponent,He=t.encodeURIComponent,Ke=a("".charAt),ot=a([].join),ze=a([].push),et=a("".replace),We=a([].shift),Xe=a([].splice),Ye=a("".split),nt=a("".slice),$e=/\+/g,Ie=Array(4),x=function(re){return Ie[re-1]||(Ie[re-1]=xe("((?:%[\\da-f]{2}){"+re+"})","gi"))},ue=function(re){try{return V(re)}catch{return re}},se=function(re){var ae=et(re,$e," "),pe=4;try{return V(ae)}catch{for(;pe;)ae=et(ae,x(pe--),ue);return ae}},j=/[!'()~]|%20/g,H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(re){return H[re]},le=function(re){return et(He(re),j,he)},de=h(function(re,ae){G(this,{type:J,iterator:T(te(re).entries),kind:ae})},"Iterator",function(){var re=ce(this),ae=re.kind,pe=re.iterator.next(),me=pe.value;return pe.done||(pe.value=ae==="keys"?me.key:ae==="values"?me.value:[me.key,me.value]),pe},!0),Ee=function(re){this.entries=[],this.url=null,re!==void 0&&(S(re)?this.parseObject(re):this.parseQuery(typeof re=="string"?Ke(re,0)==="?"?nt(re,1):re:I(re)))};Ee.prototype={type:Z,bindURL:function(re){this.url=re,this.update()},parseObject:function(re){var ae,pe,me,Te,Be,Ge,ut,at=y(re);if(at)for(pe=(ae=T(re,at)).next;!(me=i(pe,ae)).done;){if(Be=(Te=T(O(me.value))).next,(Ge=i(Be,Te)).done||(ut=i(Be,Te)).done||!i(Be,Te).done)throw Re("Expected sequence with length 2");ze(this.entries,{key:I(Ge.value),value:I(ut.value)})}else for(var mt in re)d(re,mt)&&ze(this.entries,{key:mt,value:I(re[mt])})},parseQuery:function(re){if(re)for(var ae,pe,me=Ye(re,"&"),Te=0;Te<me.length;)(ae=me[Te++]).length&&(pe=Ye(ae,"="),ze(this.entries,{key:se(We(pe)),value:se(ot(pe,"="))}))},serialize:function(){for(var re,ae=this.entries,pe=[],me=0;me<ae.length;)re=ae[me++],ze(pe,le(re.key)+"="+le(re.value));return ot(pe,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ce=function(){g(this,ne);var re=arguments.length>0?arguments[0]:void 0;G(this,new Ee(re))},ne=Ce.prototype;if(l(ne,{append:function(re,ae){b(arguments.length,2);var pe=te(this);ze(pe.entries,{key:I(re),value:I(ae)}),pe.updateURL()},delete:function(re){b(arguments.length,1);for(var ae=te(this),pe=ae.entries,me=I(re),Te=0;Te<pe.length;)pe[Te].key===me?Xe(pe,Te,1):Te++;ae.updateURL()},get:function(re){b(arguments.length,1);for(var ae=te(this).entries,pe=I(re),me=0;me<ae.length;me++)if(ae[me].key===pe)return ae[me].value;return null},getAll:function(re){b(arguments.length,1);for(var ae=te(this).entries,pe=I(re),me=[],Te=0;Te<ae.length;Te++)ae[Te].key===pe&&ze(me,ae[Te].value);return me},has:function(re){b(arguments.length,1);for(var ae=te(this).entries,pe=I(re),me=0;me<ae.length;)if(ae[me++].key===pe)return!0;return!1},set:function(re,ae){b(arguments.length,1);for(var pe,me=te(this),Te=me.entries,Be=!1,Ge=I(re),ut=I(ae),at=0;at<Te.length;at++)(pe=Te[at]).key===Ge&&(Be?Xe(Te,at--,1):(Be=!0,pe.value=ut));Be||ze(Te,{key:Ge,value:ut}),me.updateURL()},sort:function(){var re=te(this);D(re.entries,function(ae,pe){return ae.key>pe.key?1:-1}),re.updateURL()},forEach:function(re){for(var ae,pe=te(this).entries,me=p(re,arguments.length>1?arguments[1]:void 0),Te=0;Te<pe.length;)me((ae=pe[Te++]).value,ae.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),n(ne,L,ne.entries,{name:"entries"}),n(ne,"toString",function(){return te(this).serialize()},{enumerable:!0}),c(Ce,Z),r({global:!0,constructor:!0,forced:!o},{URLSearchParams:Ce}),!o&&m(fe)){var K=a(Ae.has),C=a(Ae.set),X=function(re){if(S(re)){var ae,pe=re.body;if(v(pe)===Z)return ae=re.headers?new fe(re.headers):new fe,K(ae,"content-type")||C(ae,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(re,{body:E(0,I(pe)),headers:E(0,ae)})}return re};if(m(be)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(re){return be(re,arguments.length>1?X(arguments[1]):{})}}),m(Oe)){var Y=function(re){return g(this,Ue),new Oe(re,arguments.length>1?X(arguments[1]):{})};Ue.constructor=Y,Y.prototype=Ue,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Y})}}u.exports={URLSearchParams:Ce,getState:te}},1637:function(u,_,e){e(5556)},8789:function(u,_,e){e(8783);var r,t=e(2109),i=e(9781),a=e(5143),s=e(7854),o=e(9974),n=e(1702),l=e(8052),c=e(7045),h=e(5787),f=e(2597),g=e(1574),m=e(8457),d=e(1589),p=e(8710).codeAt,v=e(3197),O=e(1340),S=e(8003),I=e(8053),k=e(5556),E=e(9909),T=E.set,y=E.getterFor("URL"),b=k.URLSearchParams,U=k.getState,D=s.URL,L=s.TypeError,Z=s.parseInt,J=Math.floor,G=Math.pow,te=n("".charAt),ce=n(/./.exec),ie=n([].join),ye=n(1 .toString),be=n([].pop),Oe=n([].push),fe=n("".replace),Ue=n([].shift),Ae=n("".split),xe=n("".slice),Re=n("".toLowerCase),V=n([].unshift),He="Invalid scheme",Ke="Invalid host",ot="Invalid port",ze=/[a-z]/i,et=/[\d+-.a-z]/i,We=/\d/,Xe=/^0x/i,Ye=/^[0-7]+$/,nt=/^\d+$/,$e=/^[\da-f]+$/i,Ie=/[\0\t\n\r #%/:<>?@[\\\]^|]/,x=/[\0\t\n\r #/:<>?@[\\\]^|]/,ue=/^[\u0000-\u0020]+/,se=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,j=/[\t\n\r]/g,H=function(_e){var De,ke,it,Se;if(typeof _e=="number"){for(De=[],ke=0;ke<4;ke++)V(De,_e%256),_e=J(_e/256);return ie(De,".")}if(typeof _e=="object"){for(De="",it=function(ft){for(var N=null,A=1,R=null,w=0,ee=0;ee<8;ee++)ft[ee]!==0?(w>A&&(N=R,A=w),R=null,w=0):(R===null&&(R=ee),++w);return w>A&&(N=R,A=w),N}(_e),ke=0;ke<8;ke++)Se&&_e[ke]===0||(Se&&(Se=!1),it===ke?(De+=ke?":":"::",Se=!0):(De+=ye(_e[ke],16),ke<7&&(De+=":")));return"["+De+"]"}return _e},he={},le=g({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),de=g({},le,{"#":1,"?":1,"{":1,"}":1}),Ee=g({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ce=function(_e,De){var ke=p(_e,0);return ke>32&&ke<127&&!f(De,_e)?_e:encodeURIComponent(_e)},ne={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(_e,De){var ke;return _e.length==2&&ce(ze,te(_e,0))&&((ke=te(_e,1))==":"||!De&&ke=="|")},C=function(_e){var De;return _e.length>1&&K(xe(_e,0,2))&&(_e.length==2||(De=te(_e,2))==="/"||De==="\\"||De==="?"||De==="#")},X=function(_e){return _e==="."||Re(_e)==="%2e"},Y={},re={},ae={},pe={},me={},Te={},Be={},Ge={},ut={},at={},mt={},vt={},Et={},Tt={},ht={},yt={},_t={},M={},Ne={},oe={},we={},Pe=function(_e,De,ke){var it,Se,ft,N=O(_e);if(De){if(Se=this.parse(N))throw L(Se);this.searchParams=null}else{if(ke!==void 0&&(it=new Pe(ke,!0)),Se=this.parse(N,null,it))throw L(Se);(ft=U(new b)).bindURL(this),this.searchParams=ft}};Pe.prototype={type:"URL",parse:function(_e,De,ke){var it,Se,ft,N,A,R=this,w=De||Y,ee=0,B="",F=!1,ve=!1,P=!1;for(_e=O(_e),De||(R.scheme="",R.username="",R.password="",R.host=null,R.port=null,R.path=[],R.query=null,R.fragment=null,R.cannotBeABaseURL=!1,_e=fe(_e,ue,""),_e=fe(_e,se,"$1")),_e=fe(_e,j,""),it=m(_e);ee<=it.length;){switch(Se=it[ee],w){case Y:if(!Se||!ce(ze,Se)){if(De)return He;w=ae;continue}B+=Re(Se),w=re;break;case re:if(Se&&(ce(et,Se)||Se=="+"||Se=="-"||Se=="."))B+=Re(Se);else{if(Se!=":"){if(De)return He;B="",w=ae,ee=0;continue}if(De&&(R.isSpecial()!=f(ne,B)||B=="file"&&(R.includesCredentials()||R.port!==null)||R.scheme=="file"&&!R.host))return;if(R.scheme=B,De)return void(R.isSpecial()&&ne[R.scheme]==R.port&&(R.port=null));B="",R.scheme=="file"?w=Tt:R.isSpecial()&&ke&&ke.scheme==R.scheme?w=pe:R.isSpecial()?w=Ge:it[ee+1]=="/"?(w=me,ee++):(R.cannotBeABaseURL=!0,Oe(R.path,""),w=Ne)}break;case ae:if(!ke||ke.cannotBeABaseURL&&Se!="#")return He;if(ke.cannotBeABaseURL&&Se=="#"){R.scheme=ke.scheme,R.path=d(ke.path),R.query=ke.query,R.fragment="",R.cannotBeABaseURL=!0,w=we;break}w=ke.scheme=="file"?Tt:Te;continue;case pe:if(Se!="/"||it[ee+1]!="/"){w=Te;continue}w=ut,ee++;break;case me:if(Se=="/"){w=at;break}w=M;continue;case Te:if(R.scheme=ke.scheme,Se==r)R.username=ke.username,R.password=ke.password,R.host=ke.host,R.port=ke.port,R.path=d(ke.path),R.query=ke.query;else if(Se=="/"||Se=="\\"&&R.isSpecial())w=Be;else if(Se=="?")R.username=ke.username,R.password=ke.password,R.host=ke.host,R.port=ke.port,R.path=d(ke.path),R.query="",w=oe;else{if(Se!="#"){R.username=ke.username,R.password=ke.password,R.host=ke.host,R.port=ke.port,R.path=d(ke.path),R.path.length--,w=M;continue}R.username=ke.username,R.password=ke.password,R.host=ke.host,R.port=ke.port,R.path=d(ke.path),R.query=ke.query,R.fragment="",w=we}break;case Be:if(!R.isSpecial()||Se!="/"&&Se!="\\"){if(Se!="/"){R.username=ke.username,R.password=ke.password,R.host=ke.host,R.port=ke.port,w=M;continue}w=at}else w=ut;break;case Ge:if(w=ut,Se!="/"||te(B,ee+1)!="/")continue;ee++;break;case ut:if(Se!="/"&&Se!="\\"){w=at;continue}break;case at:if(Se=="@"){F&&(B="%40"+B),F=!0,ft=m(B);for(var W=0;W<ft.length;W++){var q=ft[W];if(q!=":"||P){var z=Ce(q,Ee);P?R.password+=z:R.username+=z}else P=!0}B=""}else if(Se==r||Se=="/"||Se=="?"||Se=="#"||Se=="\\"&&R.isSpecial()){if(F&&B=="")return"Invalid authority";ee-=m(B).length+1,B="",w=mt}else B+=Se;break;case mt:case vt:if(De&&R.scheme=="file"){w=yt;continue}if(Se!=":"||ve){if(Se==r||Se=="/"||Se=="?"||Se=="#"||Se=="\\"&&R.isSpecial()){if(R.isSpecial()&&B=="")return Ke;if(De&&B==""&&(R.includesCredentials()||R.port!==null))return;if(N=R.parseHost(B))return N;if(B="",w=_t,De)return;continue}Se=="["?ve=!0:Se=="]"&&(ve=!1),B+=Se}else{if(B=="")return Ke;if(N=R.parseHost(B))return N;if(B="",w=Et,De==vt)return}break;case Et:if(!ce(We,Se)){if(Se==r||Se=="/"||Se=="?"||Se=="#"||Se=="\\"&&R.isSpecial()||De){if(B!=""){var Q=Z(B,10);if(Q>65535)return ot;R.port=R.isSpecial()&&Q===ne[R.scheme]?null:Q,B=""}if(De)return;w=_t;continue}return ot}B+=Se;break;case Tt:if(R.scheme="file",Se=="/"||Se=="\\")w=ht;else{if(!ke||ke.scheme!="file"){w=M;continue}if(Se==r)R.host=ke.host,R.path=d(ke.path),R.query=ke.query;else if(Se=="?")R.host=ke.host,R.path=d(ke.path),R.query="",w=oe;else{if(Se!="#"){C(ie(d(it,ee),""))||(R.host=ke.host,R.path=d(ke.path),R.shortenPath()),w=M;continue}R.host=ke.host,R.path=d(ke.path),R.query=ke.query,R.fragment="",w=we}}break;case ht:if(Se=="/"||Se=="\\"){w=yt;break}ke&&ke.scheme=="file"&&!C(ie(d(it,ee),""))&&(K(ke.path[0],!0)?Oe(R.path,ke.path[0]):R.host=ke.host),w=M;continue;case yt:if(Se==r||Se=="/"||Se=="\\"||Se=="?"||Se=="#"){if(!De&&K(B))w=M;else if(B==""){if(R.host="",De)return;w=_t}else{if(N=R.parseHost(B))return N;if(R.host=="localhost"&&(R.host=""),De)return;B="",w=_t}continue}B+=Se;break;case _t:if(R.isSpecial()){if(w=M,Se!="/"&&Se!="\\")continue}else if(De||Se!="?")if(De||Se!="#"){if(Se!=r&&(w=M,Se!="/"))continue}else R.fragment="",w=we;else R.query="",w=oe;break;case M:if(Se==r||Se=="/"||Se=="\\"&&R.isSpecial()||!De&&(Se=="?"||Se=="#")){if((A=Re(A=B))===".."||A==="%2e."||A===".%2e"||A==="%2e%2e"?(R.shortenPath(),Se=="/"||Se=="\\"&&R.isSpecial()||Oe(R.path,"")):X(B)?Se=="/"||Se=="\\"&&R.isSpecial()||Oe(R.path,""):(R.scheme=="file"&&!R.path.length&&K(B)&&(R.host&&(R.host=""),B=te(B,0)+":"),Oe(R.path,B)),B="",R.scheme=="file"&&(Se==r||Se=="?"||Se=="#"))for(;R.path.length>1&&R.path[0]==="";)Ue(R.path);Se=="?"?(R.query="",w=oe):Se=="#"&&(R.fragment="",w=we)}else B+=Ce(Se,de);break;case Ne:Se=="?"?(R.query="",w=oe):Se=="#"?(R.fragment="",w=we):Se!=r&&(R.path[0]+=Ce(Se,he));break;case oe:De||Se!="#"?Se!=r&&(Se=="'"&&R.isSpecial()?R.query+="%27":R.query+=Se=="#"?"%23":Ce(Se,he)):(R.fragment="",w=we);break;case we:Se!=r&&(R.fragment+=Ce(Se,le))}ee++}},parseHost:function(_e){var De,ke,it;if(te(_e,0)=="["){if(te(_e,_e.length-1)!="]"||(De=function(Se){var ft,N,A,R,w,ee,B,F=[0,0,0,0,0,0,0,0],ve=0,P=null,W=0,q=function(){return te(Se,W)};if(q()==":"){if(te(Se,1)!=":")return;W+=2,P=++ve}for(;q();){if(ve==8)return;if(q()!=":"){for(ft=N=0;N<4&&ce($e,q());)ft=16*ft+Z(q(),16),W++,N++;if(q()=="."){if(N==0||(W-=N,ve>6))return;for(A=0;q();){if(R=null,A>0){if(!(q()=="."&&A<4))return;W++}if(!ce(We,q()))return;for(;ce(We,q());){if(w=Z(q(),10),R===null)R=w;else{if(R==0)return;R=10*R+w}if(R>255)return;W++}F[ve]=256*F[ve]+R,++A!=2&&A!=4||ve++}if(A!=4)return;break}if(q()==":"){if(W++,!q())return}else if(q())return;F[ve++]=ft}else{if(P!==null)return;W++,P=++ve}}if(P!==null)for(ee=ve-P,ve=7;ve!=0&&ee>0;)B=F[ve],F[ve--]=F[P+ee-1],F[P+--ee]=B;else if(ve!=8)return;return F}(xe(_e,1,-1)),!De))return Ke;this.host=De}else if(this.isSpecial()){if(_e=v(_e),ce(Ie,_e)||(De=function(Se){var ft,N,A,R,w,ee,B,F=Ae(Se,".");if(F.length&&F[F.length-1]==""&&F.length--,(ft=F.length)>4)return Se;for(N=[],A=0;A<ft;A++){if((R=F[A])=="")return Se;if(w=10,R.length>1&&te(R,0)=="0"&&(w=ce(Xe,R)?16:8,R=xe(R,w==8?1:2)),R==="")ee=0;else{if(!ce(w==10?nt:w==8?Ye:$e,R))return Se;ee=Z(R,w)}Oe(N,ee)}for(A=0;A<ft;A++)if(ee=N[A],A==ft-1){if(ee>=G(256,5-ft))return null}else if(ee>255)return null;for(B=be(N),A=0;A<N.length;A++)B+=N[A]*G(256,3-A);return B}(_e),De===null))return Ke;this.host=De}else{if(ce(x,_e))return Ke;for(De="",ke=m(_e),it=0;it<ke.length;it++)De+=Ce(ke[it],he);this.host=De}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return f(ne,this.scheme)},shortenPath:function(){var _e=this.path,De=_e.length;!De||this.scheme=="file"&&De==1&&K(_e[0],!0)||_e.length--},serialize:function(){var _e=this,De=_e.scheme,ke=_e.username,it=_e.password,Se=_e.host,ft=_e.port,N=_e.path,A=_e.query,R=_e.fragment,w=De+":";return Se!==null?(w+="//",_e.includesCredentials()&&(w+=ke+(it?":"+it:"")+"@"),w+=H(Se),ft!==null&&(w+=":"+ft)):De=="file"&&(w+="//"),w+=_e.cannotBeABaseURL?N[0]:N.length?"/"+ie(N,"/"):"",A!==null&&(w+="?"+A),R!==null&&(w+="#"+R),w},setHref:function(_e){var De=this.parse(_e);if(De)throw L(De);this.searchParams.update()},getOrigin:function(){var _e=this.scheme,De=this.port;if(_e=="blob")try{return new je(_e.path[0]).origin}catch{return"null"}return _e!="file"&&this.isSpecial()?_e+"://"+H(this.host)+(De!==null?":"+De:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(_e){this.parse(O(_e)+":",Y)},getUsername:function(){return this.username},setUsername:function(_e){var De=m(O(_e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var ke=0;ke<De.length;ke++)this.username+=Ce(De[ke],Ee)}},getPassword:function(){return this.password},setPassword:function(_e){var De=m(O(_e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var ke=0;ke<De.length;ke++)this.password+=Ce(De[ke],Ee)}},getHost:function(){var _e=this.host,De=this.port;return _e===null?"":De===null?H(_e):H(_e)+":"+De},setHost:function(_e){this.cannotBeABaseURL||this.parse(_e,mt)},getHostname:function(){var _e=this.host;return _e===null?"":H(_e)},setHostname:function(_e){this.cannotBeABaseURL||this.parse(_e,vt)},getPort:function(){var _e=this.port;return _e===null?"":O(_e)},setPort:function(_e){this.cannotHaveUsernamePasswordPort()||((_e=O(_e))==""?this.port=null:this.parse(_e,Et))},getPathname:function(){var _e=this.path;return this.cannotBeABaseURL?_e[0]:_e.length?"/"+ie(_e,"/"):""},setPathname:function(_e){this.cannotBeABaseURL||(this.path=[],this.parse(_e,_t))},getSearch:function(){var _e=this.query;return _e?"?"+_e:""},setSearch:function(_e){(_e=O(_e))==""?this.query=null:(te(_e,0)=="?"&&(_e=xe(_e,1)),this.query="",this.parse(_e,oe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var _e=this.fragment;return _e?"#"+_e:""},setHash:function(_e){(_e=O(_e))!=""?(te(_e,0)=="#"&&(_e=xe(_e,1)),this.fragment="",this.parse(_e,we)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(_e){var De=h(this,Me),ke=I(arguments.length,1)>1?arguments[1]:void 0,it=T(De,new Pe(_e,!1,ke));i||(De.href=it.serialize(),De.origin=it.getOrigin(),De.protocol=it.getProtocol(),De.username=it.getUsername(),De.password=it.getPassword(),De.host=it.getHost(),De.hostname=it.getHostname(),De.port=it.getPort(),De.pathname=it.getPathname(),De.search=it.getSearch(),De.searchParams=it.getSearchParams(),De.hash=it.getHash())},Me=je.prototype,Le=function(_e,De){return{get:function(){return y(this)[_e]()},set:De&&function(ke){return y(this)[De](ke)},configurable:!0,enumerable:!0}};if(i&&(c(Me,"href",Le("serialize","setHref")),c(Me,"origin",Le("getOrigin")),c(Me,"protocol",Le("getProtocol","setProtocol")),c(Me,"username",Le("getUsername","setUsername")),c(Me,"password",Le("getPassword","setPassword")),c(Me,"host",Le("getHost","setHost")),c(Me,"hostname",Le("getHostname","setHostname")),c(Me,"port",Le("getPort","setPort")),c(Me,"pathname",Le("getPathname","setPathname")),c(Me,"search",Le("getSearch","setSearch")),c(Me,"searchParams",Le("getSearchParams")),c(Me,"hash",Le("getHash","setHash"))),l(Me,"toJSON",function(){return y(this).serialize()},{enumerable:!0}),l(Me,"toString",function(){return y(this).serialize()},{enumerable:!0}),D){var qe=D.createObjectURL,Qe=D.revokeObjectURL;qe&&l(je,"createObjectURL",o(qe,D)),Qe&&l(je,"revokeObjectURL",o(Qe,D))}S(je,"URL"),t({global:!0,constructor:!0,forced:!a,sham:!i},{URL:je})},285:function(u,_,e){e(8789)},5717:function(u){typeof Object.create=="function"?u.exports=function(_,e){e&&(_.super_=e,_.prototype=Object.create(e.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:u.exports=function(_,e){if(e){_.super_=e;var r=function(){};r.prototype=e.prototype,_.prototype=new r,_.prototype.constructor=_}}},3720:function(u){u.exports=e;var _=null;try{_=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(y,b,U){this.low=0|y,this.high=0|b,this.unsigned=!!U}function r(y){return(y&&y.__isLong__)===!0}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=r;var t={},i={};function a(y,b){var U,D,L;return b?(L=0<=(y>>>=0)&&y<256)&&(D=i[y])?D:(U=o(y,(0|y)<0?-1:0,!0),L&&(i[y]=U),U):(L=-128<=(y|=0)&&y<128)&&(D=t[y])?D:(U=o(y,y<0?-1:0,!1),L&&(t[y]=U),U)}function s(y,b){if(isNaN(y))return b?p:d;if(b){if(y<0)return p;if(y>=f)return k}else{if(y<=-g)return E;if(y+1>=g)return I}return y<0?s(-y,b).neg():o(y%h|0,y/h|0,b)}function o(y,b,U){return new e(y,b,U)}e.fromInt=a,e.fromNumber=s,e.fromBits=o;var n=Math.pow;function l(y,b,U){if(y.length===0)throw Error("empty string");if(y==="NaN"||y==="Infinity"||y==="+Infinity"||y==="-Infinity")return d;if(typeof b=="number"?(U=b,b=!1):b=!!b,(U=U||10)<2||36<U)throw RangeError("radix");var D;if((D=y.indexOf("-"))>0)throw Error("interior hyphen");if(D===0)return l(y.substring(1),b,U).neg();for(var L=s(n(U,8)),Z=d,J=0;J<y.length;J+=8){var G=Math.min(8,y.length-J),te=parseInt(y.substring(J,J+G),U);if(G<8){var ce=s(n(U,G));Z=Z.mul(ce).add(s(te))}else Z=(Z=Z.mul(L)).add(s(te))}return Z.unsigned=b,Z}function c(y,b){return typeof y=="number"?s(y,b):typeof y=="string"?l(y,b):o(y.low,y.high,typeof b=="boolean"?b:y.unsigned)}e.fromString=l,e.fromValue=c;var h=4294967296,f=h*h,g=f/2,m=a(1<<24),d=a(0);e.ZERO=d;var p=a(0,!0);e.UZERO=p;var v=a(1);e.ONE=v;var O=a(1,!0);e.UONE=O;var S=a(-1);e.NEG_ONE=S;var I=o(-1,2147483647,!1);e.MAX_VALUE=I;var k=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=k;var E=o(0,-2147483648,!1);e.MIN_VALUE=E;var T=e.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(y){if((y=y||10)<2||36<y)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var b=s(y),U=this.div(b),D=U.mul(b).sub(this);return U.toString(y)+D.toInt().toString(y)}return"-"+this.neg().toString(y)}for(var L=s(n(y,6),this.unsigned),Z=this,J="";;){var G=Z.div(L),te=(Z.sub(G.mul(L)).toInt()>>>0).toString(y);if((Z=G).isZero())return te+J;for(;te.length<6;)te="0"+te;J=""+te+J}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var y=this.high!=0?this.high:this.low,b=31;b>0&&(y&1<<b)==0;b--);return this.high!=0?b+33:b+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(1&this.low)==1},T.isEven=function(){return(1&this.low)==0},T.equals=function(y){return r(y)||(y=c(y)),(this.unsigned===y.unsigned||this.high>>>31!=1||y.high>>>31!=1)&&this.high===y.high&&this.low===y.low},T.eq=T.equals,T.notEquals=function(y){return!this.eq(y)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(y){return this.comp(y)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(y){return this.comp(y)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(y){return this.comp(y)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(y){return this.comp(y)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(y){if(r(y)||(y=c(y)),this.eq(y))return 0;var b=this.isNegative(),U=y.isNegative();return b&&!U?-1:!b&&U?1:this.unsigned?y.high>>>0>this.high>>>0||y.high===this.high&&y.low>>>0>this.low>>>0?-1:1:this.sub(y).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},T.neg=T.negate,T.add=function(y){r(y)||(y=c(y));var b=this.high>>>16,U=65535&this.high,D=this.low>>>16,L=65535&this.low,Z=y.high>>>16,J=65535&y.high,G=y.low>>>16,te=0,ce=0,ie=0,ye=0;return ie+=(ye+=L+(65535&y.low))>>>16,ce+=(ie+=D+G)>>>16,te+=(ce+=U+J)>>>16,te+=b+Z,o((ie&=65535)<<16|(ye&=65535),(te&=65535)<<16|(ce&=65535),this.unsigned)},T.subtract=function(y){return r(y)||(y=c(y)),this.add(y.neg())},T.sub=T.subtract,T.multiply=function(y){if(this.isZero())return d;if(r(y)||(y=c(y)),_)return o(_.mul(this.low,this.high,y.low,y.high),_.get_high(),this.unsigned);if(y.isZero())return d;if(this.eq(E))return y.isOdd()?E:d;if(y.eq(E))return this.isOdd()?E:d;if(this.isNegative())return y.isNegative()?this.neg().mul(y.neg()):this.neg().mul(y).neg();if(y.isNegative())return this.mul(y.neg()).neg();if(this.lt(m)&&y.lt(m))return s(this.toNumber()*y.toNumber(),this.unsigned);var b=this.high>>>16,U=65535&this.high,D=this.low>>>16,L=65535&this.low,Z=y.high>>>16,J=65535&y.high,G=y.low>>>16,te=65535&y.low,ce=0,ie=0,ye=0,be=0;return ye+=(be+=L*te)>>>16,ie+=(ye+=D*te)>>>16,ye&=65535,ie+=(ye+=L*G)>>>16,ce+=(ie+=U*te)>>>16,ie&=65535,ce+=(ie+=D*G)>>>16,ie&=65535,ce+=(ie+=L*J)>>>16,ce+=b*te+U*G+D*J+L*Z,o((ye&=65535)<<16|(be&=65535),(ce&=65535)<<16|(ie&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(y){if(r(y)||(y=c(y)),y.isZero())throw Error("division by zero");var b,U,D;if(_)return this.unsigned||this.high!==-2147483648||y.low!==-1||y.high!==-1?o((this.unsigned?_.div_u:_.div_s)(this.low,this.high,y.low,y.high),_.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?p:d;if(this.unsigned){if(y.unsigned||(y=y.toUnsigned()),y.gt(this))return p;if(y.gt(this.shru(1)))return O;D=p}else{if(this.eq(E))return y.eq(v)||y.eq(S)?E:y.eq(E)?v:(b=this.shr(1).div(y).shl(1)).eq(d)?y.isNegative()?v:S:(U=this.sub(y.mul(b)),D=b.add(U.div(y)));if(y.eq(E))return this.unsigned?p:d;if(this.isNegative())return y.isNegative()?this.neg().div(y.neg()):this.neg().div(y).neg();if(y.isNegative())return this.div(y.neg()).neg();D=d}for(U=this;U.gte(y);){b=Math.max(1,Math.floor(U.toNumber()/y.toNumber()));for(var L=Math.ceil(Math.log(b)/Math.LN2),Z=L<=48?1:n(2,L-48),J=s(b),G=J.mul(y);G.isNegative()||G.gt(U);)G=(J=s(b-=Z,this.unsigned)).mul(y);J.isZero()&&(J=v),D=D.add(J),U=U.sub(G)}return D},T.div=T.divide,T.modulo=function(y){return r(y)||(y=c(y)),_?o((this.unsigned?_.rem_u:_.rem_s)(this.low,this.high,y.low,y.high),_.get_high(),this.unsigned):this.sub(this.div(y).mul(y))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return o(~this.low,~this.high,this.unsigned)},T.and=function(y){return r(y)||(y=c(y)),o(this.low&y.low,this.high&y.high,this.unsigned)},T.or=function(y){return r(y)||(y=c(y)),o(this.low|y.low,this.high|y.high,this.unsigned)},T.xor=function(y){return r(y)||(y=c(y)),o(this.low^y.low,this.high^y.high,this.unsigned)},T.shiftLeft=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low<<y,this.high<<y|this.low>>>32-y,this.unsigned):o(0,this.low<<y-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low>>>y|this.high<<32-y,this.high>>y,this.unsigned):o(this.high>>y-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(y){if(r(y)&&(y=y.toInt()),(y&=63)==0)return this;var b=this.high;return y<32?o(this.low>>>y|b<<32-y,b>>>y,this.unsigned):o(y===32?b:b>>>y-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},T.toBytes=function(y){return y?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var y=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&y,y>>>8&255,y>>>16&255,y>>>24]},T.toBytesBE=function(){var y=this.high,b=this.low;return[y>>>24,y>>>16&255,y>>>8&255,255&y,b>>>24,b>>>16&255,b>>>8&255,255&b]},e.fromBytes=function(y,b,U){return U?e.fromBytesLE(y,b):e.fromBytesBE(y,b)},e.fromBytesLE=function(y,b){return new e(y[0]|y[1]<<8|y[2]<<16|y[3]<<24,y[4]|y[5]<<8|y[6]<<16|y[7]<<24,b)},e.fromBytesBE=function(y,b){return new e(y[4]<<24|y[5]<<16|y[6]<<8|y[7],y[0]<<24|y[1]<<16|y[2]<<8|y[3],b)}},3281:function(u,_,e){u.exports=e(9050)},2967:function(u){u.exports=r;var _,e=/\/|\./;function r(t,i){e.test(t)||(t="google/protobuf/"+t+".proto",i={nested:{google:{nested:{protobuf:{nested:i}}}}}),r[t]=i}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:_={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:_}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(t){return r[t]||null}},3996:function(u,_,e){var r=_,t=e(7025),i=e(9935);function a(o,n,l,c){if(n.resolvedType)if(n.resolvedType instanceof t){o("switch(d%s){",c);for(var h=n.resolvedType.values,f=Object.keys(h),g=0;g<f.length;++g)n.repeated&&h[f[g]]===n.typeDefault&&o("default:"),o("case%j:",f[g])("case %i:",h[f[g]])("m%s=%j",c,h[f[g]])("break");o("}")}else o('if(typeof d%s!=="object")',c)("throw TypeError(%j)",n.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",c,l,c);else{var m=!1;switch(n.type){case"double":case"float":o("m%s=Number(d%s)",c,c);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",c,c);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",c,c);break;case"uint64":m=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",c,c,m)('else if(typeof d%s==="string")',c)("m%s=parseInt(d%s,10)",c,c)('else if(typeof d%s==="number")',c)("m%s=d%s",c,c)('else if(typeof d%s==="object")',c)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",c,c,c,m?"true":"");break;case"bytes":o('if(typeof d%s==="string")',c)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",c,c,c)("else if(d%s.length)",c)("m%s=d%s",c,c);break;case"string":o("m%s=String(d%s)",c,c);break;case"bool":o("m%s=Boolean(d%s)",c,c)}}return o}function s(o,n,l,c){if(n.resolvedType)n.resolvedType instanceof t?o("d%s=o.enums===String?types[%i].values[m%s]:m%s",c,l,c,c):o("d%s=types[%i].toObject(m%s,o)",c,l,c);else{var h=!1;switch(n.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",c,c,c,c);break;case"uint64":h=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',c)("d%s=o.longs===String?String(m%s):m%s",c,c,c)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",c,c,c,c,h?"true":"",c);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",c,c,c,c,c);break;default:o("d%s=m%s",c,c)}}return o}r.fromObject=function(o){var n=o.fieldsArray,l=i.codegen(["d"],o.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return l("return new this.ctor");l("var m=new this.ctor");for(var c=0;c<n.length;++c){var h=n[c].resolve(),f=i.safeProp(h.name);h.map?(l("if(d%s){",f)('if(typeof d%s!=="object")',f)("throw TypeError(%j)",h.fullName+": object expected")("m%s={}",f)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",f),a(l,h,c,f+"[ks[i]]")("}")("}")):h.repeated?(l("if(d%s){",f)("if(!Array.isArray(d%s))",f)("throw TypeError(%j)",h.fullName+": array expected")("m%s=[]",f)("for(var i=0;i<d%s.length;++i){",f),a(l,h,c,f+"[i]")("}")("}")):(h.resolvedType instanceof t||l("if(d%s!=null){",f),a(l,h,c,f),h.resolvedType instanceof t||l("}"))}return l("return m")},r.toObject=function(o){var n=o.fieldsArray.slice().sort(i.compareFieldsById);if(!n.length)return i.codegen()("return {}");for(var l=i.codegen(["m","o"],o.name+"$toObject")("if(!o)")("o={}")("var d={}"),c=[],h=[],f=[],g=0;g<n.length;++g)n[g].partOf||(n[g].resolve().repeated?c:n[g].map?h:f).push(n[g]);if(c.length){for(l("if(o.arrays||o.defaults){"),g=0;g<c.length;++g)l("d%s=[]",i.safeProp(c[g].name));l("}")}if(h.length){for(l("if(o.objects||o.defaults){"),g=0;g<h.length;++g)l("d%s={}",i.safeProp(h[g].name));l("}")}if(f.length){for(l("if(o.defaults){"),g=0;g<f.length;++g){var m=f[g],d=i.safeProp(m.name);if(m.resolvedType instanceof t)l("d%s=o.enums===String?%j:%j",d,m.resolvedType.valuesById[m.typeDefault],m.typeDefault);else if(m.long)l("if(util.Long){")("var n=new util.Long(%i,%i,%j)",m.typeDefault.low,m.typeDefault.high,m.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,m.typeDefault.toString(),m.typeDefault.toNumber());else if(m.bytes){var p="["+Array.prototype.slice.call(m.typeDefault).join(",")+"]";l("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,m.typeDefault))("else{")("d%s=%s",d,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else l("d%s=%j",d,m.typeDefault)}l("}")}var v=!1;for(g=0;g<n.length;++g){m=n[g];var O=o._fieldsArray.indexOf(m);d=i.safeProp(m.name),m.map?(v||(v=!0,l("var ks2")),l("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),s(l,m,O,d+"[ks2[j]]")("}")):m.repeated?(l("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),s(l,m,O,d+"[j]")("}")):(l("if(m%s!=null&&m.hasOwnProperty(%j)){",d,m.name),s(l,m,O,d),m.partOf&&l("if(o.oneofs)")("d%s=%j",i.safeProp(m.partOf.name),m.name)),l("}")}return l("return d")}},5305:function(u,_,e){u.exports=function(s){var o=i.codegen(["r","l"],s.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(s.fieldsArray.filter(function(g){return g.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");s.group&&o("if((t&7)===4)")("break"),o("switch(t>>>3){");for(var n=0;n<s.fieldsArray.length;++n){var l=s._fieldsArray[n].resolve(),c=l.resolvedType instanceof r?"int32":l.type,h="m"+i.safeProp(l.name);o("case %i:",l.id),l.map?(o("if(%s===util.emptyObject)",h)("%s={}",h)("var c2 = r.uint32()+r.pos"),t.defaults[l.keyType]!==void 0?o("k=%j",t.defaults[l.keyType]):o("k=null"),t.defaults[c]!==void 0?o("value=%j",t.defaults[c]):o("value=null"),o("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",l.keyType)("case 2:"),t.basic[c]===void 0?o("value=types[%i].decode(r,r.uint32())",n):o("value=r.%s()",c),o("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t.long[l.keyType]!==void 0?o('%s[typeof k==="object"?util.longToHash(k):k]=value',h):o("%s[k]=value",h)):l.repeated?(o("if(!(%s&&%s.length))",h,h)("%s=[]",h),t.packed[c]!==void 0&&o("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,c)("}else"),t.basic[c]===void 0?o(l.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",h,n):o("%s.push(r.%s())",h,c)):t.basic[c]===void 0?o(l.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",h,n):o("%s=r.%s()",h,c),o("break")}for(o("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<s._fieldsArray.length;++n){var f=s._fieldsArray[n];f.required&&o("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",a(f))}return o("return m")};var r=e(7025),t=e(7063),i=e(9935);function a(s){return"missing required '"+s.name+"'"}},4928:function(u,_,e){u.exports=function(s){for(var o,n=i.codegen(["m","w"],s.name+"$encode")("if(!w)")("w=Writer.create()"),l=s.fieldsArray.slice().sort(i.compareFieldsById),c=0;c<l.length;++c){var h=l[c].resolve(),f=s._fieldsArray.indexOf(h),g=h.resolvedType instanceof r?"int32":h.type,m=t.basic[g];o="m"+i.safeProp(h.name),h.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,h.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(h.id<<3|2)>>>0,8|t.mapKey[h.keyType],h.keyType),m===void 0?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,o):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|m,g,o),n("}")("}")):h.repeated?(n("if(%s!=null&&%s.length){",o,o),h.packed&&t.packed[g]!==void 0?n("w.uint32(%i).fork()",(h.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",g,o)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",o),m===void 0?a(n,h,f,o+"[i]"):n("w.uint32(%i).%s(%s[i])",(h.id<<3|m)>>>0,g,o)),n("}")):(h.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,h.name),m===void 0?a(n,h,f,o):n("w.uint32(%i).%s(%s)",(h.id<<3|m)>>>0,g,o))}return n("return w")};var r=e(7025),t=e(7063),i=e(9935);function a(s,o,n,l){return o.resolvedType.group?s("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,l,(o.id<<3|3)>>>0,(o.id<<3|4)>>>0):s("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,l,(o.id<<3|2)>>>0)}},7025:function(u,_,e){u.exports=a;var r=e(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var t=e(9313),i=e(9935);function a(s,o,n,l,c){if(r.call(this,s,n),o&&typeof o!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=l,this.comments=c||{},this.reserved=void 0,o)for(var h=Object.keys(o),f=0;f<h.length;++f)typeof o[h[f]]=="number"&&(this.valuesById[this.values[h[f]]=o[h[f]]]=h[f])}a.fromJSON=function(s,o){var n=new a(s,o.values,o.options,o.comment,o.comments);return n.reserved=o.reserved,n},a.prototype.toJSON=function(s){var o=!!s&&Boolean(s.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",o?this.comment:void 0,"comments",o?this.comments:void 0])},a.prototype.add=function(s,o,n){if(!i.isString(s))throw TypeError("name must be a string");if(!i.isInteger(o))throw TypeError("id must be an integer");if(this.values[s]!==void 0)throw Error("duplicate name '"+s+"' in "+this);if(this.isReservedId(o))throw Error("id "+o+" is reserved in "+this);if(this.isReservedName(s))throw Error("name '"+s+"' is reserved in "+this);if(this.valuesById[o]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+o+" in "+this);this.values[s]=o}else this.valuesById[this.values[s]=o]=s;return this.comments[s]=n||null,this},a.prototype.remove=function(s){if(!i.isString(s))throw TypeError("name must be a string");var o=this.values[s];if(o==null)throw Error("name '"+s+"' does not exist in "+this);return delete this.valuesById[o],delete this.values[s],delete this.comments[s],this},a.prototype.isReservedId=function(s){return t.isReservedId(this.reserved,s)},a.prototype.isReservedName=function(s){return t.isReservedName(this.reserved,s)}},3548:function(u,_,e){u.exports=n;var r=e(3243);((n.prototype=Object.create(r.prototype)).constructor=n).className="Field";var t,i=e(7025),a=e(7063),s=e(9935),o=/^required|optional|repeated$/;function n(l,c,h,f,g,m,d){if(s.isObject(f)?(d=g,m=f,f=g=void 0):s.isObject(g)&&(d=m,m=g,g=void 0),r.call(this,l,m),!s.isInteger(c)||c<0)throw TypeError("id must be a non-negative integer");if(!s.isString(h))throw TypeError("type must be a string");if(f!==void 0&&!o.test(f=f.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(g!==void 0&&!s.isString(g))throw TypeError("extend must be a string");f==="proto3_optional"&&(f="optional"),this.rule=f&&f!=="optional"?f:void 0,this.type=h,this.id=c,this.extend=g||void 0,this.required=f==="required",this.optional=!this.required,this.repeated=f==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&a.long[h]!==void 0,this.bytes=h==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=d}n.fromJSON=function(l,c){return new n(l,c.id,c.type,c.rule,c.extend,c.options,c.comment)},Object.defineProperty(n.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),n.prototype.setOption=function(l,c,h){return l==="packed"&&(this._packed=null),r.prototype.setOption.call(this,l,c,h)},n.prototype.toJSON=function(l){var c=!!l&&Boolean(l.keepComments);return s.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",c?this.comment:void 0])},n.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=a.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof t?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var l;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,l=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,l=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=l}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof t&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},n.d=function(l,c,h,f){return typeof c=="function"?c=s.decorateType(c).name:c&&typeof c=="object"&&(c=s.decorateEnum(c).name),function(g,m){s.decorateType(g.constructor).add(new n(m,l,c,h,{default:f}))}},n._configure=function(l){t=l}},8836:function(u,_,e){var r=u.exports=e(9482);r.build="light",r.load=function(t,i,a){return typeof i=="function"?(a=i,i=new r.Root):i||(i=new r.Root),i.load(t,a)},r.loadSync=function(t,i){return i||(i=new r.Root),i.loadSync(t)},r.encoder=e(4928),r.decoder=e(5305),r.verifier=e(4497),r.converter=e(3996),r.ReflectionObject=e(3243),r.Namespace=e(9313),r.Root=e(9424),r.Enum=e(7025),r.Type=e(7645),r.Field=e(3548),r.OneOf=e(7598),r.MapField=e(6039),r.Service=e(7513),r.Method=e(4429),r.Message=e(8368),r.wrappers=e(1667),r.types=e(7063),r.util=e(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:function(u,_,e){var r=_;function t(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(1173),r.BufferWriter=e(3155),r.Reader=e(1408),r.BufferReader=e(593),r.util=e(9693),r.rpc=e(5994),r.roots=e(5054),r.configure=t,t()},9050:function(u,_,e){var r=u.exports=e(8836);r.build="full",r.tokenize=e(626),r.parse=e(2228),r.common=e(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:function(u,_,e){u.exports=a;var r=e(3548);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var t=e(7063),i=e(9935);function a(s,o,n,l,c,h){if(r.call(this,s,o,l,void 0,void 0,c,h),!i.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(s,o){return new a(s,o.id,o.keyType,o.type,o.options,o.comment)},a.prototype.toJSON=function(s){var o=!!s&&Boolean(s.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(t.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(s,o,n){return typeof n=="function"?n=i.decorateType(n).name:n&&typeof n=="object"&&(n=i.decorateEnum(n).name),function(l,c){i.decorateType(l.constructor).add(new a(c,s,o,n))}}},8368:function(u,_,e){u.exports=t;var r=e(9693);function t(i){if(i)for(var a=Object.keys(i),s=0;s<a.length;++s)this[a[s]]=i[a[s]]}t.create=function(i){return this.$type.create(i)},t.encode=function(i,a){return this.$type.encode(i,a)},t.encodeDelimited=function(i,a){return this.$type.encodeDelimited(i,a)},t.decode=function(i){return this.$type.decode(i)},t.decodeDelimited=function(i){return this.$type.decodeDelimited(i)},t.verify=function(i){return this.$type.verify(i)},t.fromObject=function(i){return this.$type.fromObject(i)},t.toObject=function(i,a){return this.$type.toObject(i,a)},t.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:function(u,_,e){u.exports=i;var r=e(3243);((i.prototype=Object.create(r.prototype)).constructor=i).className="Method";var t=e(9935);function i(a,s,o,n,l,c,h,f,g){if(t.isObject(l)?(h=l,l=c=void 0):t.isObject(c)&&(h=c,c=void 0),s!==void 0&&!t.isString(s))throw TypeError("type must be a string");if(!t.isString(o))throw TypeError("requestType must be a string");if(!t.isString(n))throw TypeError("responseType must be a string");r.call(this,a,h),this.type=s||"rpc",this.requestType=o,this.requestStream=!!l||void 0,this.responseType=n,this.responseStream=!!c||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=g}i.fromJSON=function(a,s){return new i(a,s.type,s.requestType,s.responseType,s.requestStream,s.responseStream,s.options,s.comment,s.parsedOptions)},i.prototype.toJSON=function(a){var s=!!a&&Boolean(a.keepComments);return t.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:function(u,_,e){u.exports=c;var r=e(3243);((c.prototype=Object.create(r.prototype)).constructor=c).className="Namespace";var t,i,a,s=e(3548),o=e(7598),n=e(9935);function l(f,g){if(f&&f.length){for(var m={},d=0;d<f.length;++d)m[f[d].name]=f[d].toJSON(g);return m}}function c(f,g){r.call(this,f,g),this.nested=void 0,this._nestedArray=null}function h(f){return f._nestedArray=null,f}c.fromJSON=function(f,g){return new c(f,g.options).addJSON(g.nested)},c.arrayToJSON=l,c.isReservedId=function(f,g){if(f){for(var m=0;m<f.length;++m)if(typeof f[m]!="string"&&f[m][0]<=g&&f[m][1]>g)return!0}return!1},c.isReservedName=function(f,g){if(f){for(var m=0;m<f.length;++m)if(f[m]===g)return!0}return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=n.toArray(this.nested))}}),c.prototype.toJSON=function(f){return n.toObject(["options",this.options,"nested",l(this.nestedArray,f)])},c.prototype.addJSON=function(f){if(f)for(var g,m=Object.keys(f),d=0;d<m.length;++d)g=f[m[d]],this.add((g.fields!==void 0?t.fromJSON:g.values!==void 0?a.fromJSON:g.methods!==void 0?i.fromJSON:g.id!==void 0?s.fromJSON:c.fromJSON)(m[d],g));return this},c.prototype.get=function(f){return this.nested&&this.nested[f]||null},c.prototype.getEnum=function(f){if(this.nested&&this.nested[f]instanceof a)return this.nested[f].values;throw Error("no such enum: "+f)},c.prototype.add=function(f){if(!(f instanceof s&&f.extend!==void 0||f instanceof t||f instanceof a||f instanceof i||f instanceof c||f instanceof o))throw TypeError("object must be a valid nested object");if(this.nested){var g=this.get(f.name);if(g){if(!(g instanceof c&&f instanceof c)||g instanceof t||g instanceof i)throw Error("duplicate name '"+f.name+"' in "+this);for(var m=g.nestedArray,d=0;d<m.length;++d)f.add(m[d]);this.remove(g),this.nested||(this.nested={}),f.setOptions(g.options,!0)}}else this.nested={};return this.nested[f.name]=f,f.onAdd(this),h(this)},c.prototype.remove=function(f){if(!(f instanceof r))throw TypeError("object must be a ReflectionObject");if(f.parent!==this)throw Error(f+" is not a member of "+this);return delete this.nested[f.name],Object.keys(this.nested).length||(this.nested=void 0),f.onRemove(this),h(this)},c.prototype.define=function(f,g){if(n.isString(f))f=f.split(".");else if(!Array.isArray(f))throw TypeError("illegal path");if(f&&f.length&&f[0]==="")throw Error("path must be relative");for(var m=this;f.length>0;){var d=f.shift();if(m.nested&&m.nested[d]){if(!((m=m.nested[d])instanceof c))throw Error("path conflicts with non-namespace objects")}else m.add(m=new c(d))}return g&&m.addJSON(g),m},c.prototype.resolveAll=function(){for(var f=this.nestedArray,g=0;g<f.length;)f[g]instanceof c?f[g++].resolveAll():f[g++].resolve();return this.resolve()},c.prototype.lookup=function(f,g,m){if(typeof g=="boolean"?(m=g,g=void 0):g&&!Array.isArray(g)&&(g=[g]),n.isString(f)&&f.length){if(f===".")return this.root;f=f.split(".")}else if(!f.length)return this;if(f[0]==="")return this.root.lookup(f.slice(1),g);var d=this.get(f[0]);if(d){if(f.length===1){if(!g||g.indexOf(d.constructor)>-1)return d}else if(d instanceof c&&(d=d.lookup(f.slice(1),g,!0)))return d}else for(var p=0;p<this.nestedArray.length;++p)if(this._nestedArray[p]instanceof c&&(d=this._nestedArray[p].lookup(f,g,!0)))return d;return this.parent===null||m?null:this.parent.lookup(f,g)},c.prototype.lookupType=function(f){var g=this.lookup(f,[t]);if(!g)throw Error("no such type: "+f);return g},c.prototype.lookupEnum=function(f){var g=this.lookup(f,[a]);if(!g)throw Error("no such Enum '"+f+"' in "+this);return g},c.prototype.lookupTypeOrEnum=function(f){var g=this.lookup(f,[t,a]);if(!g)throw Error("no such Type or Enum '"+f+"' in "+this);return g},c.prototype.lookupService=function(f){var g=this.lookup(f,[i]);if(!g)throw Error("no such Service '"+f+"' in "+this);return g},c._configure=function(f,g,m){t=f,i=g,a=m}},3243:function(u,_,e){u.exports=i,i.className="ReflectionObject";var r,t=e(9935);function i(a,s){if(!t.isString(a))throw TypeError("name must be a string");if(s&&!t.isObject(s))throw TypeError("options must be an object");this.options=s,this.parsedOptions=null,this.name=a,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var a=this;a.parent!==null;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],s=this.parent;s;)a.unshift(s.name),s=s.parent;return a.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var s=a.root;s instanceof r&&s._handleAdd(this)},i.prototype.onRemove=function(a){var s=a.root;s instanceof r&&s._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},i.prototype.getOption=function(a){if(this.options)return this.options[a]},i.prototype.setOption=function(a,s,o){return o&&this.options&&this.options[a]!==void 0||((this.options||(this.options={}))[a]=s),this},i.prototype.setParsedOption=function(a,s,o){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(o){var l=n.find(function(f){return Object.prototype.hasOwnProperty.call(f,a)});if(l){var c=l[a];t.setProperty(c,o,s)}else(l={})[a]=t.setProperty({},o,s),n.push(l)}else{var h={};h[a]=s,n.push(h)}return this},i.prototype.setOptions=function(a,s){if(a)for(var o=Object.keys(a),n=0;n<o.length;++n)this.setOption(o[n],a[o[n]],s);return this},i.prototype.toString=function(){var a=this.constructor.className,s=this.fullName;return s.length?a+" "+s:a},i._configure=function(a){r=a}},7598:function(u,_,e){u.exports=a;var r=e(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var t=e(3548),i=e(9935);function a(o,n,l,c){if(Array.isArray(n)||(l=n,n=void 0),r.call(this,o,l),n!==void 0&&!Array.isArray(n))throw TypeError("fieldNames must be an Array");this.oneof=n||[],this.fieldsArray=[],this.comment=c}function s(o){if(o.parent)for(var n=0;n<o.fieldsArray.length;++n)o.fieldsArray[n].parent||o.parent.add(o.fieldsArray[n])}a.fromJSON=function(o,n){return new a(o,n.oneof,n.options,n.comment)},a.prototype.toJSON=function(o){var n=!!o&&Boolean(o.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])},a.prototype.add=function(o){if(!(o instanceof t))throw TypeError("field must be a Field");return o.parent&&o.parent!==this.parent&&o.parent.remove(o),this.oneof.push(o.name),this.fieldsArray.push(o),o.partOf=this,s(this),this},a.prototype.remove=function(o){if(!(o instanceof t))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(o);if(n<0)throw Error(o+" is not a member of "+this);return this.fieldsArray.splice(n,1),(n=this.oneof.indexOf(o.name))>-1&&this.oneof.splice(n,1),o.partOf=null,this},a.prototype.onAdd=function(o){r.prototype.onAdd.call(this,o);for(var n=0;n<this.oneof.length;++n){var l=o.get(this.oneof[n]);l&&!l.partOf&&(l.partOf=this,this.fieldsArray.push(l))}s(this)},a.prototype.onRemove=function(o){for(var n,l=0;l<this.fieldsArray.length;++l)(n=this.fieldsArray[l]).parent&&n.parent.remove(n);r.prototype.onRemove.call(this,o)},a.d=function(){for(var o=new Array(arguments.length),n=0;n<arguments.length;)o[n]=arguments[n++];return function(l,c){i.decorateType(l.constructor).add(new a(c,o)),Object.defineProperty(l,c,{get:i.oneOfGetter(o),set:i.oneOfSetter(o)})}}},2228:function(u,_,e){u.exports=T,T.filename=null,T.defaults={keepCase:!1};var r=e(626),t=e(9424),i=e(7645),a=e(3548),s=e(6039),o=e(7598),n=e(7025),l=e(7513),c=e(4429),h=e(7063),f=e(9935),g=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,d=/^0[x][0-9a-fA-F]+$/,p=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,O=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,I=/^[a-zA-Z_][a-zA-Z_0-9]*$/,k=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,E=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function T(y,b,U){b instanceof t||(U=b,b=new t),U||(U=T.defaults);var D,L,Z,J,G,te=U.preferTrailingComment||!1,ce=r(y,U.alternateCommentMode||!1),ie=ce.next,ye=ce.push,be=ce.peek,Oe=ce.skip,fe=ce.cmnt,Ue=!0,Ae=!1,xe=b,Re=U.keepCase?function(j){return j}:f.camelCase;function V(j,H,he){var le=T.filename;return he||(T.filename=null),Error("illegal "+(H||"token")+" '"+j+"' ("+(le?le+", ":"")+"line "+ce.line+")")}function He(){var j,H=[];do{if((j=ie())!=='"'&&j!=="'")throw V(j);H.push(ie()),Oe(j),j=be()}while(j==='"'||j==="'");return H.join("")}function Ke(j){var H=ie();switch(H){case"'":case'"':return ye(H),He();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(he,le){var de=1;switch(he.charAt(0)==="-"&&(de=-1,he=he.substring(1)),he){case"inf":case"INF":case"Inf":return de*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(g.test(he))return de*parseInt(he,10);if(d.test(he))return de*parseInt(he,16);if(v.test(he))return de*parseInt(he,8);if(S.test(he))return de*parseFloat(he);throw V(he,"number",!0)}(H)}catch{if(j&&k.test(H))return H;throw V(H,"value")}}function ot(j,H){var he,le;do!H||(he=be())!=='"'&&he!=="'"?j.push([le=ze(ie()),Oe("to",!0)?ze(ie()):le]):j.push(He());while(Oe(",",!0));Oe(";")}function ze(j,H){switch(j){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!H&&j.charAt(0)==="-")throw V(j,"id");if(m.test(j))return parseInt(j,10);if(p.test(j))return parseInt(j,16);if(O.test(j))return parseInt(j,8);throw V(j,"id")}function et(){if(D!==void 0)throw V("package");if(D=ie(),!k.test(D))throw V(D,"name");xe=xe.define(D),Oe(";")}function We(){var j,H=be();switch(H){case"weak":j=Z||(Z=[]),ie();break;case"public":ie();default:j=L||(L=[])}H=He(),Oe(";"),j.push(H)}function Xe(){if(Oe("="),J=He(),!(Ae=J==="proto3")&&J!=="proto2")throw V(J,"syntax");Oe(";")}function Ye(j,H){switch(H){case"option":return Ie(j,H),Oe(";"),!0;case"message":return function(he,le){if(!I.test(le=ie()))throw V(le,"type name");var de=new i(le);nt(de,function(Ee){if(!Ye(de,Ee))switch(Ee){case"map":(function(Ce){Oe("<");var ne=ie();if(h.mapKey[ne]===void 0)throw V(ne,"type");Oe(",");var K=ie();if(!k.test(K))throw V(K,"type");Oe(">");var C=ie();if(!I.test(C))throw V(C,"name");Oe("=");var X=new s(Re(C),ze(ie()),ne,K);nt(X,function(Y){if(Y!=="option")throw V(Y);Ie(X,Y),Oe(";")},function(){se(X)}),Ce.add(X)})(de);break;case"required":case"repeated":$e(de,Ee);break;case"optional":$e(de,Ae?"proto3_optional":"optional");break;case"oneof":(function(Ce,ne){if(!I.test(ne=ie()))throw V(ne,"name");var K=new o(Re(ne));nt(K,function(C){C==="option"?(Ie(K,C),Oe(";")):(ye(C),$e(K,"optional"))}),Ce.add(K)})(de,Ee);break;case"extensions":ot(de.extensions||(de.extensions=[]));break;case"reserved":ot(de.reserved||(de.reserved=[]),!0);break;default:if(!Ae||!k.test(Ee))throw V(Ee);ye(Ee),$e(de,"optional")}}),he.add(de)}(j,H),!0;case"enum":return function(he,le){if(!I.test(le=ie()))throw V(le,"name");var de=new n(le);nt(de,function(Ee){switch(Ee){case"option":Ie(de,Ee),Oe(";");break;case"reserved":ot(de.reserved||(de.reserved=[]),!0);break;default:(function(Ce,ne){if(!I.test(ne))throw V(ne,"name");Oe("=");var K=ze(ie(),!0),C={};nt(C,function(X){if(X!=="option")throw V(X);Ie(C,X),Oe(";")},function(){se(C)}),Ce.add(ne,K,C.comment)})(de,Ee)}}),he.add(de)}(j,H),!0;case"service":return function(he,le){if(!I.test(le=ie()))throw V(le,"service name");var de=new l(le);nt(de,function(Ee){if(!Ye(de,Ee)){if(Ee!=="rpc")throw V(Ee);(function(Ce,ne){var K=fe(),C=ne;if(!I.test(ne=ie()))throw V(ne,"name");var X,Y,re,ae,pe=ne;if(Oe("("),Oe("stream",!0)&&(Y=!0),!k.test(ne=ie())||(X=ne,Oe(")"),Oe("returns"),Oe("("),Oe("stream",!0)&&(ae=!0),!k.test(ne=ie())))throw V(ne);re=ne,Oe(")");var me=new c(pe,C,X,re,Y,ae);me.comment=K,nt(me,function(Te){if(Te!=="option")throw V(Te);Ie(me,Te),Oe(";")}),Ce.add(me)})(de,Ee)}}),he.add(de)}(j,H),!0;case"extend":return function(he,le){if(!k.test(le=ie()))throw V(le,"reference");var de=le;nt(null,function(Ee){switch(Ee){case"required":case"repeated":$e(he,Ee,de);break;case"optional":$e(he,Ae?"proto3_optional":"optional",de);break;default:if(!Ae||!k.test(Ee))throw V(Ee);ye(Ee),$e(he,"optional",de)}})}(j,H),!0}return!1}function nt(j,H,he){var le=ce.line;if(j&&(typeof j.comment!="string"&&(j.comment=fe()),j.filename=T.filename),Oe("{",!0)){for(var de;(de=ie())!=="}";)H(de);Oe(";",!0)}else he&&he(),Oe(";"),j&&(typeof j.comment!="string"||te)&&(j.comment=fe(le)||j.comment)}function $e(j,H,he){var le=ie();if(le!=="group"){if(!k.test(le))throw V(le,"type");var de=ie();if(!I.test(de))throw V(de,"name");de=Re(de),Oe("=");var Ee=new a(de,ze(ie()),le,H,he);if(nt(Ee,function(ne){if(ne!=="option")throw V(ne);Ie(Ee,ne),Oe(";")},function(){se(Ee)}),H==="proto3_optional"){var Ce=new o("_"+de);Ee.setOption("proto3_optional",!0),Ce.add(Ee),j.add(Ce)}else j.add(Ee);Ae||!Ee.repeated||h.packed[le]===void 0&&h.basic[le]!==void 0||Ee.setOption("packed",!1,!0)}else(function(ne,K){var C=ie();if(!I.test(C))throw V(C,"name");var X=f.lcFirst(C);C===X&&(C=f.ucFirst(C)),Oe("=");var Y=ze(ie()),re=new i(C);re.group=!0;var ae=new a(X,Y,C,K);ae.filename=T.filename,nt(re,function(pe){switch(pe){case"option":Ie(re,pe),Oe(";");break;case"required":case"repeated":$e(re,pe);break;case"optional":$e(re,Ae?"proto3_optional":"optional");break;default:throw V(pe)}}),ne.add(re).add(ae)})(j,H)}function Ie(j,H){var he=Oe("(",!0);if(!k.test(H=ie()))throw V(H,"name");var le,de=H,Ee=de;he&&(Oe(")"),Ee=de="("+de+")",H=be(),E.test(H)&&(le=H.substr(1),de+=H,ie())),Oe("="),function(Ce,ne,K,C){Ce.setParsedOption&&Ce.setParsedOption(ne,K,C)}(j,Ee,x(j,de),le)}function x(j,H){if(Oe("{",!0)){for(var he={};!Oe("}",!0);){if(!I.test(G=ie()))throw V(G,"name");var le,de=G;be()==="{"?le=x(j,H+"."+G):(Oe(":"),be()==="{"?le=x(j,H+"."+G):(le=Ke(!0),ue(j,H+"."+G,le)));var Ee=he[de];Ee&&(le=[].concat(Ee).concat(le)),he[de]=le,Oe(",",!0)}return he}var Ce=Ke(!0);return ue(j,H,Ce),Ce}function ue(j,H,he){j.setOption&&j.setOption(H,he)}function se(j){if(Oe("[",!0)){do Ie(j,"option");while(Oe(",",!0));Oe("]")}return j}for(;(G=ie())!==null;)switch(G){case"package":if(!Ue)throw V(G);et();break;case"import":if(!Ue)throw V(G);We();break;case"syntax":if(!Ue)throw V(G);Xe();break;case"option":Ie(xe,G),Oe(";");break;default:if(Ye(xe,G)){Ue=!1;continue}throw V(G)}return T.filename=null,{package:D,imports:L,weakImports:Z,syntax:J,root:b}}},1408:function(u,_,e){u.exports=o;var r,t=e(9693),i=t.LongBits,a=t.utf8;function s(m,d){return RangeError("index out of range: "+m.pos+" + "+(d||1)+" > "+m.len)}function o(m){this.buf=m,this.pos=0,this.len=m.length}var n,l=typeof Uint8Array<"u"?function(m){if(m instanceof Uint8Array||Array.isArray(m))return new o(m);throw Error("illegal buffer")}:function(m){if(Array.isArray(m))return new o(m);throw Error("illegal buffer")},c=function(){return t.Buffer?function(m){return(o.create=function(d){return t.Buffer.isBuffer(d)?new r(d):l(d)})(m)}:l};function h(){var m=new i(0,0),d=0;if(!(this.len-this.pos>4)){for(;d<3;++d){if(this.pos>=this.len)throw s(this);if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*d)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(127&this.buf[this.pos++])<<7*d)>>>0,m}for(;d<4;++d)if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*d)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(127&this.buf[this.pos])<<28)>>>0,m.hi=(m.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return m;if(d=0,this.len-this.pos>4){for(;d<5;++d)if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*d+3)>>>0,this.buf[this.pos++]<128)return m}else for(;d<5;++d){if(this.pos>=this.len)throw s(this);if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*d+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}function f(m,d){return(m[d-4]|m[d-3]<<8|m[d-2]<<16|m[d-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}o.create=c(),o.prototype._slice=t.Array.prototype.subarray||t.Array.prototype.slice,o.prototype.uint32=(n=4294967295,function(){if(n=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(n=(n|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return n}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var m=this.uint32();return m>>>1^-(1&m)|0},o.prototype.bool=function(){return this.uint32()!==0},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var m=t.float.readFloatLE(this.buf,this.pos);return this.pos+=4,m},o.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var m=t.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,m},o.prototype.bytes=function(){var m=this.uint32(),d=this.pos,p=this.pos+m;if(p>this.len)throw s(this,m);return this.pos+=m,Array.isArray(this.buf)?this.buf.slice(d,p):d===p?new this.buf.constructor(0):this._slice.call(this.buf,d,p)},o.prototype.string=function(){var m=this.bytes();return a.read(m,0,m.length)},o.prototype.skip=function(m){if(typeof m=="number"){if(this.pos+m>this.len)throw s(this,m);this.pos+=m}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=7&this.uint32())!=4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},o._configure=function(m){r=m,o.create=c(),r._configure();var d=t.Long?"toLong":"toNumber";t.merge(o.prototype,{int64:function(){return h.call(this)[d](!1)},uint64:function(){return h.call(this)[d](!0)},sint64:function(){return h.call(this).zzDecode()[d](!1)},fixed64:function(){return g.call(this)[d](!0)},sfixed64:function(){return g.call(this)[d](!1)}})}},593:function(u,_,e){u.exports=i;var r=e(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var t=e(9693);function i(a){r.call(this,a)}i._configure=function(){t.Buffer&&(i.prototype._slice=t.Buffer.prototype.slice)},i.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},i._configure()},9424:function(u,_,e){u.exports=c;var r=e(9313);((c.prototype=Object.create(r.prototype)).constructor=c).className="Root";var t,i,a,s=e(3548),o=e(7025),n=e(7598),l=e(9935);function c(m){r.call(this,"",m),this.deferred=[],this.files=[]}function h(){}c.fromJSON=function(m,d){return d||(d=new c),m.options&&d.setOptions(m.options),d.addJSON(m.nested)},c.prototype.resolvePath=l.path.resolve,c.prototype.fetch=l.fetch,c.prototype.load=function m(d,p,v){typeof p=="function"&&(v=p,p=void 0);var O=this;if(!v)return l.asPromise(m,O,d,p);var S=v===h;function I(D,L){if(v){var Z=v;if(v=null,S)throw D;Z(D,L)}}function k(D){var L=D.lastIndexOf("google/protobuf/");if(L>-1){var Z=D.substring(L);if(Z in a)return Z}return null}function E(D,L){try{if(l.isString(L)&&L.charAt(0)==="{"&&(L=JSON.parse(L)),l.isString(L)){i.filename=D;var Z,J=i(L,O,p),G=0;if(J.imports)for(;G<J.imports.length;++G)(Z=k(J.imports[G])||O.resolvePath(D,J.imports[G]))&&T(Z);if(J.weakImports)for(G=0;G<J.weakImports.length;++G)(Z=k(J.weakImports[G])||O.resolvePath(D,J.weakImports[G]))&&T(Z,!0)}else O.setOptions(L.options).addJSON(L.nested)}catch(te){I(te)}S||y||I(null,O)}function T(D,L){if(!(O.files.indexOf(D)>-1))if(O.files.push(D),D in a)S?E(D,a[D]):(++y,setTimeout(function(){--y,E(D,a[D])}));else if(S){var Z;try{Z=l.fs.readFileSync(D).toString("utf8")}catch(J){return void(L||I(J))}E(D,Z)}else++y,O.fetch(D,function(J,G){--y,v&&(J?L?y||I(null,O):I(J):E(D,G))})}var y=0;l.isString(d)&&(d=[d]);for(var b,U=0;U<d.length;++U)(b=O.resolvePath("",d[U]))&&T(b);if(S)return O;y||I(null,O)},c.prototype.loadSync=function(m,d){if(!l.isNode)throw Error("not supported");return this.load(m,d,h)},c.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(m){return"'extend "+m.extend+"' in "+m.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function g(m,d){var p=d.parent.lookup(d.extend);if(p){var v=new s(d.fullName,d.id,d.type,d.rule,void 0,d.options);return v.declaringField=d,d.extensionField=v,p.add(v),!0}return!1}c.prototype._handleAdd=function(m){if(m instanceof s)m.extend===void 0||m.extensionField||g(0,m)||this.deferred.push(m);else if(m instanceof o)f.test(m.name)&&(m.parent[m.name]=m.values);else if(!(m instanceof n)){if(m instanceof t)for(var d=0;d<this.deferred.length;)g(0,this.deferred[d])?this.deferred.splice(d,1):++d;for(var p=0;p<m.nestedArray.length;++p)this._handleAdd(m._nestedArray[p]);f.test(m.name)&&(m.parent[m.name]=m)}},c.prototype._handleRemove=function(m){if(m instanceof s){if(m.extend!==void 0)if(m.extensionField)m.extensionField.parent.remove(m.extensionField),m.extensionField=null;else{var d=this.deferred.indexOf(m);d>-1&&this.deferred.splice(d,1)}}else if(m instanceof o)f.test(m.name)&&delete m.parent[m.name];else if(m instanceof r){for(var p=0;p<m.nestedArray.length;++p)this._handleRemove(m._nestedArray[p]);f.test(m.name)&&delete m.parent[m.name]}},c._configure=function(m,d,p){t=m,i=d,a=p}},5054:function(u){u.exports={}},5994:function(u,_,e){_.Service=e(7948)},7948:function(u,_,e){u.exports=t;var r=e(9693);function t(i,a,s){if(typeof i!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=Boolean(a),this.responseDelimited=Boolean(s)}(t.prototype=Object.create(r.EventEmitter.prototype)).constructor=t,t.prototype.rpcCall=function i(a,s,o,n,l){if(!n)throw TypeError("request must be specified");var c=this;if(!l)return r.asPromise(i,c,a,s,o,n);if(c.rpcImpl)try{return c.rpcImpl(a,s[c.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(h,f){if(h)return c.emit("error",h,a),l(h);if(f!==null){if(!(f instanceof o))try{f=o[c.responseDelimited?"decodeDelimited":"decode"](f)}catch(g){return c.emit("error",g,a),l(g)}return c.emit("data",f,a),l(null,f)}c.end(!0)})}catch(h){return c.emit("error",h,a),void setTimeout(function(){l(h)},0)}else setTimeout(function(){l(Error("already ended"))},0)},t.prototype.end=function(i){return this.rpcImpl&&(i||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(u,_,e){u.exports=s;var r=e(9313);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var t=e(4429),i=e(9935),a=e(5994);function s(n,l){r.call(this,n,l),this.methods={},this._methodsArray=null}function o(n){return n._methodsArray=null,n}s.fromJSON=function(n,l){var c=new s(n,l.options);if(l.methods)for(var h=Object.keys(l.methods),f=0;f<h.length;++f)c.add(t.fromJSON(h[f],l.methods[h[f]]));return l.nested&&c.addJSON(l.nested),c.comment=l.comment,c},s.prototype.toJSON=function(n){var l=r.prototype.toJSON.call(this,n),c=!!n&&Boolean(n.keepComments);return i.toObject(["options",l&&l.options||void 0,"methods",r.arrayToJSON(this.methodsArray,n)||{},"nested",l&&l.nested||void 0,"comment",c?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(n){return this.methods[n]||r.prototype.get.call(this,n)},s.prototype.resolveAll=function(){for(var n=this.methodsArray,l=0;l<n.length;++l)n[l].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(n){if(this.get(n.name))throw Error("duplicate name '"+n.name+"' in "+this);return n instanceof t?(this.methods[n.name]=n,n.parent=this,o(this)):r.prototype.add.call(this,n)},s.prototype.remove=function(n){if(n instanceof t){if(this.methods[n.name]!==n)throw Error(n+" is not a member of "+this);return delete this.methods[n.name],n.parent=null,o(this)}return r.prototype.remove.call(this,n)},s.prototype.create=function(n,l,c){for(var h,f=new a.Service(n,l,c),g=0;g<this.methodsArray.length;++g){var m=i.lcFirst((h=this._methodsArray[g]).resolve().name).replace(/[^$\w_]/g,"");f[m]=i.codegen(["r","c"],i.isReserved(m)?m+"_":m)("return this.rpcCall(m,q,s,r,c)")({m:h,q:h.resolvedRequestType.ctor,s:h.resolvedResponseType.ctor})}return f}},626:function(u){u.exports=c;var _=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,t=/^ *[*/]+ */,i=/^\s*\*?\/*/,a=/\n/g,s=/\s/,o=/\\(.?)/g,n={0:"\0",r:"\r",n:`
`,t:"	"};function l(h){return h.replace(o,function(f,g){switch(g){case"\\":case"":return g;default:return n[g]||""}})}function c(h,f){h=h.toString();var g=0,m=h.length,d=1,p=null,v=null,O=0,S=!1,I=!1,k=[],E=null;function T(G){return Error("illegal "+G+" (line "+d+")")}function y(G){return h.charAt(G)}function b(G,te,ce){p=h.charAt(G++),O=d,S=!1,I=ce;var ie,ye=G-(f?2:3);do if(--ye<0||(ie=h.charAt(ye))===`
`){S=!0;break}while(ie===" "||ie==="	");for(var be=h.substring(G,te).split(a),Oe=0;Oe<be.length;++Oe)be[Oe]=be[Oe].replace(f?i:t,"").trim();v=be.join(`
`).trim()}function U(G){var te=D(G),ce=h.substring(G,te);return/^\s*\/{1,2}/.test(ce)}function D(G){for(var te=G;te<m&&y(te)!==`
`;)te++;return te}function L(){if(k.length>0)return k.shift();if(E)return function(){var Ue=E==="'"?r:e;Ue.lastIndex=g-1;var Ae=Ue.exec(h);if(!Ae)throw T("string");return g=Ue.lastIndex,Z(E),E=null,l(Ae[1])}();var G,te,ce,ie,ye,be=g===0;do{if(g===m)return null;for(G=!1;s.test(ce=y(g));)if(ce===`
`&&(be=!0,++d),++g===m)return null;if(y(g)==="/"){if(++g===m)throw T("comment");if(y(g)==="/")if(f){if(ie=g,ye=!1,U(g)){ye=!0;do{if((g=D(g))===m)break;g++}while(U(g))}else g=Math.min(m,D(g)+1);ye&&b(ie,g,be),d++,G=!0}else{for(ye=y(ie=g+1)==="/";y(++g)!==`
`;)if(g===m)return null;++g,ye&&b(ie,g-1,be),++d,G=!0}else{if((ce=y(g))!=="*")return"/";ie=g+1,ye=f||y(ie)==="*";do{if(ce===`
`&&++d,++g===m)throw T("comment");te=ce,ce=y(g)}while(te!=="*"||ce!=="/");++g,ye&&b(ie,g-2,be),G=!0}}}while(G);var Oe=g;if(_.lastIndex=0,!_.test(y(Oe++)))for(;Oe<m&&!_.test(y(Oe));)++Oe;var fe=h.substring(g,g=Oe);return fe!=='"'&&fe!=="'"||(E=fe),fe}function Z(G){k.push(G)}function J(){if(!k.length){var G=L();if(G===null)return null;Z(G)}return k[0]}return Object.defineProperty({next:L,peek:J,push:Z,skip:function(G,te){var ce=J();if(ce===G)return L(),!0;if(!te)throw T("token '"+ce+"', '"+G+"' expected");return!1},cmnt:function(G){var te=null;return G===void 0?O===d-1&&(f||p==="*"||S)&&(te=I?v:null):(O<G&&J(),O!==G||S||!f&&p!=="/"||(te=I?null:v)),te}},"line",{get:function(){return d}})}c.unescape=l},7645:function(u,_,e){u.exports=v;var r=e(9313);((v.prototype=Object.create(r.prototype)).constructor=v).className="Type";var t=e(7025),i=e(7598),a=e(3548),s=e(6039),o=e(7513),n=e(8368),l=e(1408),c=e(1173),h=e(9935),f=e(4928),g=e(5305),m=e(4497),d=e(3996),p=e(1667);function v(S,I){r.call(this,S,I),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function O(S){return S._fieldsById=S._fieldsArray=S._oneofsArray=null,delete S.encode,delete S.decode,delete S.verify,S}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var S=Object.keys(this.fields),I=0;I<S.length;++I){var k=this.fields[S[I]],E=k.id;if(this._fieldsById[E])throw Error("duplicate id "+E+" in "+this);this._fieldsById[E]=k}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(S){var I=S.prototype;I instanceof n||((S.prototype=new n).constructor=S,h.merge(S.prototype,I)),S.$type=S.prototype.$type=this,h.merge(S,n,!0),this._ctor=S;for(var k=0;k<this.fieldsArray.length;++k)this._fieldsArray[k].resolve();var E={};for(k=0;k<this.oneofsArray.length;++k)E[this._oneofsArray[k].resolve().name]={get:h.oneOfGetter(this._oneofsArray[k].oneof),set:h.oneOfSetter(this._oneofsArray[k].oneof)};k&&Object.defineProperties(S.prototype,E)}}}),v.generateConstructor=function(S){for(var I,k=h.codegen(["p"],S.name),E=0;E<S.fieldsArray.length;++E)(I=S._fieldsArray[E]).map?k("this%s={}",h.safeProp(I.name)):I.repeated&&k("this%s=[]",h.safeProp(I.name));return k("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(S,I){var k=new v(S,I.options);k.extensions=I.extensions,k.reserved=I.reserved;for(var E=Object.keys(I.fields),T=0;T<E.length;++T)k.add((I.fields[E[T]].keyType!==void 0?s.fromJSON:a.fromJSON)(E[T],I.fields[E[T]]));if(I.oneofs)for(E=Object.keys(I.oneofs),T=0;T<E.length;++T)k.add(i.fromJSON(E[T],I.oneofs[E[T]]));if(I.nested)for(E=Object.keys(I.nested),T=0;T<E.length;++T){var y=I.nested[E[T]];k.add((y.id!==void 0?a.fromJSON:y.fields!==void 0?v.fromJSON:y.values!==void 0?t.fromJSON:y.methods!==void 0?o.fromJSON:r.fromJSON)(E[T],y))}return I.extensions&&I.extensions.length&&(k.extensions=I.extensions),I.reserved&&I.reserved.length&&(k.reserved=I.reserved),I.group&&(k.group=!0),I.comment&&(k.comment=I.comment),k},v.prototype.toJSON=function(S){var I=r.prototype.toJSON.call(this,S),k=!!S&&Boolean(S.keepComments);return h.toObject(["options",I&&I.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,S),"fields",r.arrayToJSON(this.fieldsArray.filter(function(E){return!E.declaringField}),S)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",I&&I.nested||void 0,"comment",k?this.comment:void 0])},v.prototype.resolveAll=function(){for(var S=this.fieldsArray,I=0;I<S.length;)S[I++].resolve();var k=this.oneofsArray;for(I=0;I<k.length;)k[I++].resolve();return r.prototype.resolveAll.call(this)},v.prototype.get=function(S){return this.fields[S]||this.oneofs&&this.oneofs[S]||this.nested&&this.nested[S]||null},v.prototype.add=function(S){if(this.get(S.name))throw Error("duplicate name '"+S.name+"' in "+this);if(S instanceof a&&S.extend===void 0){if(this._fieldsById?this._fieldsById[S.id]:this.fieldsById[S.id])throw Error("duplicate id "+S.id+" in "+this);if(this.isReservedId(S.id))throw Error("id "+S.id+" is reserved in "+this);if(this.isReservedName(S.name))throw Error("name '"+S.name+"' is reserved in "+this);return S.parent&&S.parent.remove(S),this.fields[S.name]=S,S.message=this,S.onAdd(this),O(this)}return S instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[S.name]=S,S.onAdd(this),O(this)):r.prototype.add.call(this,S)},v.prototype.remove=function(S){if(S instanceof a&&S.extend===void 0){if(!this.fields||this.fields[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.fields[S.name],S.parent=null,S.onRemove(this),O(this)}if(S instanceof i){if(!this.oneofs||this.oneofs[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.oneofs[S.name],S.parent=null,S.onRemove(this),O(this)}return r.prototype.remove.call(this,S)},v.prototype.isReservedId=function(S){return r.isReservedId(this.reserved,S)},v.prototype.isReservedName=function(S){return r.isReservedName(this.reserved,S)},v.prototype.create=function(S){return new this.ctor(S)},v.prototype.setup=function(){for(var S=this.fullName,I=[],k=0;k<this.fieldsArray.length;++k)I.push(this._fieldsArray[k].resolve().resolvedType);this.encode=f(this)({Writer:c,types:I,util:h}),this.decode=g(this)({Reader:l,types:I,util:h}),this.verify=m(this)({types:I,util:h}),this.fromObject=d.fromObject(this)({types:I,util:h}),this.toObject=d.toObject(this)({types:I,util:h});var E=p[S];if(E){var T=Object.create(this);T.fromObject=this.fromObject,this.fromObject=E.fromObject.bind(T),T.toObject=this.toObject,this.toObject=E.toObject.bind(T)}return this},v.prototype.encode=function(S,I){return this.setup().encode(S,I)},v.prototype.encodeDelimited=function(S,I){return this.encode(S,I&&I.len?I.fork():I).ldelim()},v.prototype.decode=function(S,I){return this.setup().decode(S,I)},v.prototype.decodeDelimited=function(S){return S instanceof l||(S=l.create(S)),this.decode(S,S.uint32())},v.prototype.verify=function(S){return this.setup().verify(S)},v.prototype.fromObject=function(S){return this.setup().fromObject(S)},v.prototype.toObject=function(S,I){return this.setup().toObject(S,I)},v.d=function(S){return function(I){h.decorateType(I,S)}}},7063:function(u,_,e){var r=_,t=e(9935),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(s,o){var n=0,l={};for(o|=0;n<s.length;)l[i[n+o]]=s[n++];return l}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",t.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(u,_,e){var r,t,i=u.exports=e(9693),a=e(5054);i.codegen=e(5124),i.fetch=e(9054),i.path=e(8626),i.fs=i.inquire("fs"),i.toArray=function(c){if(c){for(var h=Object.keys(c),f=new Array(h.length),g=0;g<h.length;)f[g]=c[h[g++]];return f}return[]},i.toObject=function(c){for(var h={},f=0;f<c.length;){var g=c[f++],m=c[f++];m!==void 0&&(h[g]=m)}return h};var s=/\\/g,o=/"/g;i.isReserved=function(c){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(c)},i.safeProp=function(c){return!/^[$\w_]+$/.test(c)||i.isReserved(c)?'["'+c.replace(s,"\\\\").replace(o,'\\"')+'"]':"."+c},i.ucFirst=function(c){return c.charAt(0).toUpperCase()+c.substring(1)};var n=/_([a-z])/g;i.camelCase=function(c){return c.substring(0,1)+c.substring(1).replace(n,function(h,f){return f.toUpperCase()})},i.compareFieldsById=function(c,h){return c.id-h.id},i.decorateType=function(c,h){if(c.$type)return h&&c.$type.name!==h&&(i.decorateRoot.remove(c.$type),c.$type.name=h,i.decorateRoot.add(c.$type)),c.$type;r||(r=e(7645));var f=new r(h||c.name);return i.decorateRoot.add(f),f.ctor=c,Object.defineProperty(c,"$type",{value:f,enumerable:!1}),Object.defineProperty(c.prototype,"$type",{value:f,enumerable:!1}),f};var l=0;i.decorateEnum=function(c){if(c.$type)return c.$type;t||(t=e(7025));var h=new t("Enum"+l++,c);return i.decorateRoot.add(h),Object.defineProperty(c,"$type",{value:h,enumerable:!1}),h},i.setProperty=function(c,h,f){if(typeof c!="object")throw TypeError("dst must be an object");if(!h)throw TypeError("path must be specified");return function g(m,d,p){var v=d.shift();if(v==="__proto__")return m;if(d.length>0)m[v]=g(m[v]||{},d,p);else{var O=m[v];O&&(p=[].concat(O).concat(p)),m[v]=p}return m}(c,h=h.split("."),f)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e(9424)))}})},1945:function(u,_,e){u.exports=t;var r=e(9693);function t(o,n){this.lo=o>>>0,this.hi=n>>>0}var i=t.zero=new t(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(o){if(o===0)return i;var n=o<0;n&&(o=-o);var l=o>>>0,c=(o-l)/4294967296>>>0;return n&&(c=~c>>>0,l=~l>>>0,++l>4294967295&&(l=0,++c>4294967295&&(c=0))),new t(l,c)},t.from=function(o){if(typeof o=="number")return t.fromNumber(o);if(r.isString(o)){if(!r.Long)return t.fromNumber(parseInt(o,10));o=r.Long.fromString(o)}return o.low||o.high?new t(o.low>>>0,o.high>>>0):i},t.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var n=1+~this.lo>>>0,l=~this.hi>>>0;return n||(l=l+1>>>0),-(n+4294967296*l)}return this.lo+4294967296*this.hi},t.prototype.toLong=function(o){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(o)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(o)}};var s=String.prototype.charCodeAt;t.fromHash=function(o){return o===a?i:new t((s.call(o,0)|s.call(o,1)<<8|s.call(o,2)<<16|s.call(o,3)<<24)>>>0,(s.call(o,4)|s.call(o,5)<<8|s.call(o,6)<<16|s.call(o,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this},t.prototype.zzDecode=function(){var o=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this},t.prototype.length=function(){var o=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?n===0?o<16384?o<128?1:2:o<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:l<128?9:10}},9693:function(u,_,e){var r=_;function t(a,s,o){for(var n=Object.keys(s),l=0;l<n.length;++l)a[n[l]]!==void 0&&o||(a[n[l]]=s[n[l]]);return a}function i(a){function s(o,n){if(!(this instanceof s))return new s(o,n);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&t(this,n)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return a}}),s.prototype.toString=function(){return this.name+": "+this.message},s}r.asPromise=e(4537),r.base64=e(7419),r.EventEmitter=e(9211),r.float=e(945),r.inquire=e(7199),r.utf8=e(4997),r.pool=e(6662),r.LongBits=e(1945),r.isNode=Boolean(e.g!==void 0&&e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),r.global=r.isNode&&e.g||typeof window<"u"&&window||typeof self<"u"&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},r.isString=function(a){return typeof a=="string"||a instanceof String},r.isObject=function(a){return a&&typeof a=="object"},r.isset=r.isSet=function(a,s){var o=a[s];return!(o==null||!a.hasOwnProperty(s))&&(typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var a=r.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(a){return typeof a=="number"?r.Buffer?r._Buffer_allocUnsafe(a):new r.Array(a):r.Buffer?r._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(a){return a?r.LongBits.from(a).toHash():r.LongBits.zeroHash},r.longFromHash=function(a,s){var o=r.LongBits.fromHash(a);return r.Long?r.Long.fromBits(o.lo,o.hi,s):o.toNumber(Boolean(s))},r.merge=t,r.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(a){for(var s={},o=0;o<a.length;++o)s[a[o]]=1;return function(){for(var n=Object.keys(this),l=n.length-1;l>-1;--l)if(s[n[l]]===1&&this[n[l]]!==void 0&&this[n[l]]!==null)return n[l]}},r.oneOfSetter=function(a){return function(s){for(var o=0;o<a.length;++o)a[o]!==s&&delete this[a[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var a=r.Buffer;a?(r._Buffer_from=a.from!==Uint8Array.from&&a.from||function(s,o){return new a(s,o)},r._Buffer_allocUnsafe=a.allocUnsafe||function(s){return new a(s)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:function(u,_,e){u.exports=function(o){var n=t.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),l={};o.oneofsArray.length&&n("var p={}");for(var c=0;c<o.fieldsArray.length;++c){var h=o._fieldsArray[c].resolve(),f="m"+t.safeProp(h.name);if(h.optional&&n("if(%s!=null&&m.hasOwnProperty(%j)){",f,h.name),h.map)n("if(!util.isObject(%s))",f)("return%j",i(h,"object"))("var k=Object.keys(%s)",f)("for(var i=0;i<k.length;++i){"),s(n,h,"k[i]"),a(n,h,c,f+"[k[i]]")("}");else if(h.repeated)n("if(!Array.isArray(%s))",f)("return%j",i(h,"array"))("for(var i=0;i<%s.length;++i){",f),a(n,h,c,f+"[i]")("}");else{if(h.partOf){var g=t.safeProp(h.partOf.name);l[h.partOf.name]===1&&n("if(p%s===1)",g)("return%j",h.partOf.name+": multiple values"),l[h.partOf.name]=1,n("p%s=1",g)}a(n,h,c,f)}h.optional&&n("}")}return n("return null")};var r=e(7025),t=e(9935);function i(o,n){return o.name+": "+n+(o.repeated&&n!=="array"?"[]":o.map&&n!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function a(o,n,l,c){if(n.resolvedType)if(n.resolvedType instanceof r){o("switch(%s){",c)("default:")("return%j",i(n,"enum value"));for(var h=Object.keys(n.resolvedType.values),f=0;f<h.length;++f)o("case %i:",n.resolvedType.values[h[f]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",l,c)("if(e)")("return%j+e",n.name+".")("}");else switch(n.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",c)("return%j",i(n,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",c,c,c,c)("return%j",i(n,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',c)("return%j",i(n,"number"));break;case"bool":o('if(typeof %s!=="boolean")',c)("return%j",i(n,"boolean"));break;case"string":o("if(!util.isString(%s))",c)("return%j",i(n,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',c,c,c)("return%j",i(n,"buffer"))}return o}function s(o,n,l){switch(n.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",l)("return%j",i(n,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",l)("return%j",i(n,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",l)("return%j",i(n,"boolean key"))}return o}},1667:function(u,_,e){var r=_,t=e(8368);r[".google.protobuf.Any"]={fromObject:function(i){if(i&&i["@type"]){var a=i["@type"].substring(i["@type"].lastIndexOf("/")+1),s=this.lookup(a);if(s){var o=i["@type"].charAt(0)==="."?i["@type"].substr(1):i["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:s.encode(s.fromObject(i)).finish()})}}return this.fromObject(i)},toObject:function(i,a){var s="",o="";if(a&&a.json&&i.type_url&&i.value){o=i.type_url.substring(i.type_url.lastIndexOf("/")+1),s=i.type_url.substring(0,i.type_url.lastIndexOf("/")+1);var n=this.lookup(o);n&&(i=n.decode(i.value))}if(!(i instanceof this.ctor)&&i instanceof t){var l=i.$type.toObject(i,a);return s===""&&(s="type.googleapis.com/"),o=s+(i.$type.fullName[0]==="."?i.$type.fullName.substr(1):i.$type.fullName),l["@type"]=o,l}return this.toObject(i,a)}}},1173:function(u,_,e){u.exports=c;var r,t=e(9693),i=t.LongBits,a=t.base64,s=t.utf8;function o(v,O,S){this.fn=v,this.len=O,this.next=void 0,this.val=S}function n(){}function l(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function c(){this.len=0,this.head=new o(n,0,0),this.tail=this.head,this.states=null}var h=function(){return t.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c}};function f(v,O,S){O[S]=255&v}function g(v,O){this.len=v,this.next=void 0,this.val=O}function m(v,O,S){for(;v.hi;)O[S++]=127&v.lo|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)O[S++]=127&v.lo|128,v.lo=v.lo>>>7;O[S++]=v.lo}function d(v,O,S){O[S]=255&v,O[S+1]=v>>>8&255,O[S+2]=v>>>16&255,O[S+3]=v>>>24}c.create=h(),c.alloc=function(v){return new t.Array(v)},t.Array!==Array&&(c.alloc=t.pool(c.alloc,t.Array.prototype.subarray)),c.prototype._push=function(v,O,S){return this.tail=this.tail.next=new o(v,O,S),this.len+=O,this},g.prototype=Object.create(o.prototype),g.prototype.fn=function(v,O,S){for(;v>127;)O[S++]=127&v|128,v>>>=7;O[S]=v},c.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new g((v>>>=0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},c.prototype.int32=function(v){return v<0?this._push(m,10,i.fromNumber(v)):this.uint32(v)},c.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)},c.prototype.uint64=function(v){var O=i.from(v);return this._push(m,O.length(),O)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(v){var O=i.from(v).zzEncode();return this._push(m,O.length(),O)},c.prototype.bool=function(v){return this._push(f,1,v?1:0)},c.prototype.fixed32=function(v){return this._push(d,4,v>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(v){var O=i.from(v);return this._push(d,4,O.lo)._push(d,4,O.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(v){return this._push(t.float.writeFloatLE,4,v)},c.prototype.double=function(v){return this._push(t.float.writeDoubleLE,8,v)};var p=t.Array.prototype.set?function(v,O,S){O.set(v,S)}:function(v,O,S){for(var I=0;I<v.length;++I)O[S+I]=v[I]};c.prototype.bytes=function(v){var O=v.length>>>0;if(!O)return this._push(f,1,0);if(t.isString(v)){var S=c.alloc(O=a.length(v));a.decode(v,S,0),v=S}return this.uint32(O)._push(p,O,v)},c.prototype.string=function(v){var O=s.length(v);return O?this.uint32(O)._push(s.write,O,v):this._push(f,1,0)},c.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new o(n,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(n,0,0),this.len=0),this},c.prototype.ldelim=function(){var v=this.head,O=this.tail,S=this.len;return this.reset().uint32(S),S&&(this.tail.next=v.next,this.tail=O,this.len+=S),this},c.prototype.finish=function(){for(var v=this.head.next,O=this.constructor.alloc(this.len),S=0;v;)v.fn(v.val,O,S),S+=v.len,v=v.next;return O},c._configure=function(v){r=v,c.create=h(),r._configure()}},3155:function(u,_,e){u.exports=i;var r=e(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var t=e(9693);function i(){r.call(this)}function a(s,o,n){s.length<40?t.utf8.write(s,o,n):o.utf8Write?o.utf8Write(s,n):o.write(s,n)}i._configure=function(){i.alloc=t._Buffer_allocUnsafe,i.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(s,o,n){o.set(s,n)}:function(s,o,n){if(s.copy)s.copy(o,n,0,s.length);else for(var l=0;l<s.length;)o[n++]=s[l++]}},i.prototype.bytes=function(s){t.isString(s)&&(s=t._Buffer_from(s,"base64"));var o=s.length>>>0;return this.uint32(o),o&&this._push(i.writeBytesBuffer,o,s),this},i.prototype.string=function(s){var o=t.Buffer.byteLength(s);return this.uint32(o),o&&this._push(a,o,s),this},i._configure()},7129:function(u,_){var e=Object.prototype.hasOwnProperty;function r(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function t(i){try{return encodeURIComponent(i)}catch{return null}}_.stringify=function(i,a){a=a||"";var s,o,n=[];for(o in typeof a!="string"&&(a="?"),i)if(e.call(i,o)){if((s=i[o])||s!=null&&!isNaN(s)||(s=""),o=t(o),s=t(s),o===null||s===null)continue;n.push(o+"="+s)}return n.length?a+n.join("&"):""},_.parse=function(i){for(var a,s=/([^=?#&]+)=?([^&]*)/g,o={};a=s.exec(i);){var n=r(a[1]),l=r(a[2]);n===null||l===null||n in o||(o[n]=l)}return o}},7418:function(u){u.exports=function(_,e){if(e=e.split(":")[0],!(_=+_))return!1;switch(e){case"http":case"ws":return _!==80;case"https":case"wss":return _!==443;case"ftp":return _!==21;case"gopher":return _!==70;case"file":return!1}return _!==0}},8e3:function(u,_,e){var r=e(7581);u.exports=e(3626)(r),"_sockjs_onload"in e.g&&setTimeout(e.g._sockjs_onload,1)},2530:function(u,_,e){var r=e(5717),t=e(685);function i(){t.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(i,t),u.exports=i},3212:function(u,_,e){var r=e(5717),t=e(3184);function i(){t.call(this)}r(i,t),i.prototype.removeAllListeners=function(a){a?delete this._listeners[a]:this._listeners={}},i.prototype.once=function(a,s){var o=this,n=!1;this.on(a,function l(){o.removeListener(a,l),n||(n=!0,s.apply(this,arguments))})},i.prototype.emit=function(){var a=arguments[0],s=this._listeners[a];if(s){for(var o=arguments.length,n=new Array(o-1),l=1;l<o;l++)n[l-1]=arguments[l];for(var c=0;c<s.length;c++)s[c].apply(this,n)}},i.prototype.on=i.prototype.addListener=t.prototype.addEventListener,i.prototype.removeListener=t.prototype.removeEventListener,u.exports.v=i},685:function(u){function _(e){this.type=e}_.prototype.initEvent=function(e,r,t){return this.type=e,this.bubbles=r,this.cancelable=t,this.timeStamp=+new Date,this},_.prototype.stopPropagation=function(){},_.prototype.preventDefault=function(){},_.CAPTURING_PHASE=1,_.AT_TARGET=2,_.BUBBLING_PHASE=3,u.exports=_},3184:function(u){function _(){this._listeners={}}_.prototype.addEventListener=function(e,r){e in this._listeners||(this._listeners[e]=[]);var t=this._listeners[e];t.indexOf(r)===-1&&(t=t.concat([r])),this._listeners[e]=t},_.prototype.removeEventListener=function(e,r){var t=this._listeners[e];if(t){var i=t.indexOf(r);i===-1||(t.length>1?this._listeners[e]=t.slice(0,i).concat(t.slice(i+1)):delete this._listeners[e])}},_.prototype.dispatchEvent=function(){var e=arguments[0],r=e.type,t=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+r]&&this["on"+r].apply(this,t),r in this._listeners)for(var i=this._listeners[r],a=0;a<i.length;a++)i[a].apply(this,t)},u.exports=_},3326:function(u,_,e){var r=e(5717),t=e(685);function i(a){t.call(this),this.initEvent("message",!1,!1),this.data=a}r(i,t),u.exports=i},691:function(u,_,e){var r=e(3683);function t(i){this._transport=i,i.on("message",this._transportMessage.bind(this)),i.on("close",this._transportClose.bind(this))}t.prototype._transportClose=function(i,a){r.postMessage("c",JSON.stringify([i,a]))},t.prototype._transportMessage=function(i){r.postMessage("t",i)},t.prototype._send=function(i){this._transport.send(i)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},u.exports=t},551:function(u,_,e){var r=e(273),t=e(7705),i=e(691),a=e(6311),s=e(3683),o=e(7486);u.exports=function(n,l){var c,h={};l.forEach(function(f){f.facadeTransport&&(h[f.facadeTransport.transportName]=f.facadeTransport)}),h[a.transportName]=a,n.bootstrap_iframe=function(){var f;s.currentWindowId=o.hash.slice(1),t.attachEvent("message",function(g){if(g.source===parent&&(c===void 0&&(c=g.origin),g.origin===c)){var m;try{m=JSON.parse(g.data)}catch{return void g.data}if(m.windowId===s.currentWindowId)switch(m.type){case"s":var d;try{d=JSON.parse(m.data)}catch{m.data;break}var p=d[0],v=d[1],O=d[2],S=d[3];if(p!==n.version)throw new Error('Incompatible SockJS! Main site uses: "'+p+'", the iframe: "'+n.version+'".');if(!r.isOriginEqual(O,o.href)||!r.isOriginEqual(S,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+O+", "+S+")");f=new i(new h[v](O,S));break;case"m":f._send(m.data);break;case"c":f&&f._close(),f=null}}}),s.postMessage("s")}}},2550:function(u,_,e){var r=e(3212).v,t=e(5717),i=e(2217);function a(s,o){r.call(this);var n=this,l=+new Date;this.xo=new o("GET",s),this.xo.once("finish",function(c,h){var f,g;if(c===200){if(g=+new Date-l,h)try{f=JSON.parse(h)}catch{}i.isObject(f)||(f={})}n.emit("finish",f,g),n.removeAllListeners()})}t(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},u.exports=a},6311:function(u,_,e){var r=e(5717),t=e(3212).v,i=e(3515),a=e(2550);function s(o){var n=this;t.call(this),this.ir=new a(o,i),this.ir.once("finish",function(l,c){n.ir=null,n.emit("message",JSON.stringify([l,c]))})}r(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},u.exports=s},3616:function(u,_,e){var r=e(3212).v,t=e(5717),i=e(7705),a=e(5088),s=e(6311);function o(n,l){var c=this;r.call(this);var h=function(){var f=c.ifr=new a(s.transportName,l,n);f.once("message",function(g){if(g){var m;try{m=JSON.parse(g)}catch{return c.emit("finish"),void c.close()}var d=m[0],p=m[1];c.emit("finish",d,p)}c.close()}),f.once("close",function(){c.emit("finish"),c.close()})};e.g.document.body?h():i.attachEvent("load",h)}t(o,r),o.enabled=function(){return a.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},u.exports=o},5172:function(u,_,e){var r=e(3212).v,t=e(5717),i=e(273),a=e(6073),s=e(9033),o=e(3515),n=e(7103),l=e(3616),c=e(2550);function h(f,g){var m=this;r.call(this),setTimeout(function(){m.doXhr(f,g)},0)}t(h,r),h._getReceiver=function(f,g,m){return m.sameOrigin?new c(g,o):s.enabled?new c(g,s):a.enabled&&m.sameScheme?new c(g,a):l.enabled()?new l(f,g):new c(g,n)},h.prototype.doXhr=function(f,g){var m=this,d=i.addPath(f,"/info");this.xo=h._getReceiver(f,d,g),this.timeoutRef=setTimeout(function(){m._cleanup(!1),m.emit("finish")},h.timeout),this.xo.once("finish",function(p,v){m._cleanup(!0),m.emit("finish",p,v)})},h.prototype._cleanup=function(f){clearTimeout(this.timeoutRef),this.timeoutRef=null,!f&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,u.exports=h},7486:function(u,_,e){u.exports=e.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3626:function(u,_,e){e(1247);var r,t=e(4564),i=e(5717),a=e(8915),s=e(8028),o=e(273),n=e(7705),l=e(5581),c=e(2217),h=e(8510),f=e(4886),g=e(685),m=e(3184),d=e(7486),p=e(2530),v=e(3326),O=e(5172);function S(k,E,T){if(!(this instanceof S))return new S(k,E,T);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=S.CONNECTING,this.extensions="",this.protocol="",(T=T||{}).protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=T.transports,this._transportOptions=T.transportOptions||{},this._timeout=T.timeout||0;var y=T.sessionId||8;if(typeof y=="function")this._generateSessionId=y;else{if(typeof y!="number")throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(y)}}this._server=T.server||a.numberString(1e3);var b=new t(k);if(!b.host||!b.protocol)throw new SyntaxError("The URL '"+k+"' is invalid");if(b.hash)throw new SyntaxError("The URL must not contain a fragment");if(b.protocol!=="http:"&&b.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+b.protocol+"' is not allowed.");var U=b.protocol==="https:";if(d.protocol==="https:"&&!U&&!o.isLoopbackAddr(b.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");E?Array.isArray(E)||(E=[E]):E=[];var D=E.sort();D.forEach(function(Z,J){if(!Z)throw new SyntaxError("The protocols entry '"+Z+"' is invalid.");if(J<D.length-1&&Z===D[J+1])throw new SyntaxError("The protocols entry '"+Z+"' is duplicated.")});var L=o.getOrigin(d.href);this._origin=L?L.toLowerCase():null,b.set("pathname",b.pathname.replace(/\/+$/,"")),this.url=b.href,this.url,this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:o.isOriginEqual(this.url,d.href),sameScheme:o.isSchemeEqual(this.url,d.href)},this._ir=new O(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function I(k){return k===1e3||k>=3e3&&k<=4999}i(S,m),S.prototype.close=function(k,E){if(k&&!I(k))throw new Error("InvalidAccessError: Invalid code");if(E&&E.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==S.CLOSING&&this.readyState!==S.CLOSED&&this._close(k||1e3,E||"Normal closure",!0)},S.prototype.send=function(k){if(typeof k!="string"&&(k=""+k),this.readyState===S.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===S.OPEN&&this._transport.send(s.quote(k))},S.version=e(2828),S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._receiveInfo=function(k,E){if(this._ir=null,k){this._rto=this.countRTO(E),this._transUrl=k.base_url?k.base_url:this.url,k=c.extend(k,this._urlInfo);var T=r.filterToEnabled(this._transportsWhitelist,k);this._transports=T.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},S.prototype._connect=function(){for(var k=this._transports.shift();k;k=this._transports.shift()){if(k.transportName,k.needBody&&(!e.g.document.body||e.g.document.readyState!==void 0&&e.g.document.readyState!=="complete"&&e.g.document.readyState!=="interactive"))return this._transports.unshift(k),void n.attachEvent("load",this._connect.bind(this));var E=Math.max(this._timeout,this._rto*k.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),E);var T=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),y=this._transportOptions[k.transportName],b=new k(T,this._transUrl,y);return b.on("message",this._transportMessage.bind(this)),b.once("close",this._transportClose.bind(this)),b.transportName=k.transportName,void(this._transport=b)}this._close(2e3,"All transports failed",!1)},S.prototype._transportTimeout=function(){this.readyState===S.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},S.prototype._transportMessage=function(k){var E,T=this,y=k.slice(0,1),b=k.slice(1);switch(y){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void this.transport}if(b)try{E=JSON.parse(b)}catch{}if(E!==void 0)switch(y){case"a":Array.isArray(E)&&E.forEach(function(U){T.transport,T.dispatchEvent(new v(U))});break;case"m":this.transport,this.dispatchEvent(new v(E));break;case"c":Array.isArray(E)&&E.length===2&&this._close(E[0],E[1],!0)}},S.prototype._transportClose=function(k,E){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),I(k)||k===2e3||this.readyState!==S.CONNECTING?this._close(k,E):this._connect()},S.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===S.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=S.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),this.transport):this._close(1006,"Server lost session")},S.prototype._close=function(k,E,T){this.transport,this.readyState;var y=!1;if(this._ir&&(y=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===S.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=S.CLOSING,setTimeout(function(){this.readyState=S.CLOSED,y&&this.dispatchEvent(new g("error"));var b=new p("close");b.wasClean=T||!1,b.code=k||1e3,b.reason=E,this.dispatchEvent(b),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},S.prototype.countRTO=function(k){return k>100?4*k:300+k},u.exports=function(k){return r=l(k),e(551)(S,k),S}},1247:function(){var u,_=Array.prototype,e=Object.prototype,r=Function.prototype,t=String.prototype,i=_.slice,a=e.toString,s=function(E){return e.toString.call(E)==="[object Function]"},o=function(E){return a.call(E)==="[object String]"},n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}();u=n?function(E,T,y,b){!b&&T in E||Object.defineProperty(E,T,{configurable:!0,enumerable:!1,writable:!0,value:y})}:function(E,T,y,b){!b&&T in E||(E[T]=y)};var l=function(E,T,y){for(var b in T)e.hasOwnProperty.call(T,b)&&u(E,b,T[b],y)},c=function(E){if(E==null)throw new TypeError("can't convert "+E+" to object");return Object(E)};function h(E){var T=+E;return T!=T?T=0:T!==0&&T!==1/0&&T!==-1/0&&(T=(T>0||-1)*Math.floor(Math.abs(T))),T}function f(){}l(r,{bind:function(E){var T=this;if(!s(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var y=i.call(arguments,1),b=function(){if(this instanceof Z){var J=T.apply(this,y.concat(i.call(arguments)));return Object(J)===J?J:this}return T.apply(E,y.concat(i.call(arguments)))},U=Math.max(0,T.length-y.length),D=[],L=0;L<U;L++)D.push("$"+L);var Z=Function("binder","return function ("+D.join(",")+"){ return binder.apply(this, arguments); }")(b);return T.prototype&&(f.prototype=T.prototype,Z.prototype=new f,f.prototype=null),Z}}),l(Array,{isArray:function(E){return a.call(E)==="[object Array]"}});var g,m,d,p=Object("a"),v=p[0]!=="a"||!(0 in p);l(_,{forEach:function(E){var T=c(this),y=v&&o(this)?this.split(""):T,b=arguments[1],U=-1,D=y.length>>>0;if(!s(E))throw new TypeError;for(;++U<D;)U in y&&E.call(b,y[U],U,T)}},(g=_.forEach,m=!0,d=!0,g&&(g.call("foo",function(E,T,y){typeof y!="object"&&(m=!1)}),g.call([1],function(){d=typeof this=="string"},"x")),!(g&&m&&d)));var O=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;l(_,{indexOf:function(E){var T=v&&o(this)?this.split(""):c(this),y=T.length>>>0;if(!y)return-1;var b=0;for(arguments.length>1&&(b=h(arguments[1])),b=b>=0?b:Math.max(0,y+b);b<y;b++)if(b in T&&T[b]===E)return b;return-1}},O);var S,I=t.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(S=/()??/.exec("")[1]===void 0,t.split=function(E,T){var y=this;if(E===void 0&&T===0)return[];if(a.call(E)!=="[object RegExp]")return I.call(this,E,T);var b,U,D,L,Z=[],J=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.extended?"x":"")+(E.sticky?"y":""),G=0;for(E=new RegExp(E.source,J+"g"),y+="",S||(b=new RegExp("^"+E.source+"$(?!\\s)",J)),T=T===void 0?4294967295:T>>>0;(U=E.exec(y))&&!((D=U.index+U[0].length)>G&&(Z.push(y.slice(G,U.index)),!S&&U.length>1&&U[0].replace(b,function(){for(var te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(U[te]=void 0)}),U.length>1&&U.index<y.length&&_.push.apply(Z,U.slice(1)),L=U[0].length,G=D,Z.length>=T));)E.lastIndex===U.index&&E.lastIndex++;return G===y.length?!L&&E.test("")||Z.push(""):Z.push(y.slice(G)),Z.length>T?Z.slice(0,T):Z}):"0".split(void 0,0).length&&(t.split=function(E,T){return E===void 0&&T===0?[]:I.call(this,E,T)});var k=t.substr;l(t,{substr:function(E,T){return k.call(this,E<0&&(E=this.length+E)<0?0:E,T)}},"".substr&&"0b".substr(-1)!=="b")},7581:function(u,_,e){u.exports=[e(2412),e(9842),e(4620),e(3004),e(882)(e(3004)),e(5616),e(882)(e(5616)),e(2387),e(9998),e(882)(e(2387)),e(5375)]},2940:function(u,_,e){var r=e(3212).v,t=e(5717),i=e(7705),a=e(273),s=e.g.XMLHttpRequest;function o(c,h,f,g){var m=this;r.call(this),setTimeout(function(){m._start(c,h,f,g)},0)}t(o,r),o.prototype._start=function(c,h,f,g){var m=this;try{this.xhr=new s}catch{}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();h=a.addQuery(h,"t="+ +new Date),this.unloadRef=i.unloadAdd(function(){m._cleanup(!0)});try{this.xhr.open(c,h,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){m.emit("finish",0,""),m._cleanup(!1)})}catch{return this.emit("finish",0,""),void this._cleanup(!1)}if(g&&g.noCredentials||!o.supportsCORS||(this.xhr.withCredentials=!0),g&&g.headers)for(var d in g.headers)this.xhr.setRequestHeader(d,g.headers[d]);this.xhr.onreadystatechange=function(){if(m.xhr){var p,v,O=m.xhr;switch(O.readyState,O.readyState){case 3:try{v=O.status,p=O.responseText}catch{}v===1223&&(v=204),v===200&&p&&p.length>0&&m.emit("chunk",v,p);break;case 4:(v=O.status)===1223&&(v=204),v!==12005&&v!==12029||(v=0),O.responseText,m.emit("finish",v,O.responseText),m._cleanup(!1)}}};try{m.xhr.send(f)}catch{m.emit("finish",0,""),m._cleanup(!1)}},o.prototype._cleanup=function(c){if(this.xhr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),c)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},o.prototype.close=function(){this._cleanup(!0)},o.enabled=!!s;var n=["Active"].concat("Object").join("X");!o.enabled&&n in e.g&&(s=function(){try{return new e.g[n]("Microsoft.XMLHTTP")}catch{return null}},o.enabled=!!new s);var l=!1;try{l="withCredentials"in new s}catch{}o.supportsCORS=l,u.exports=o},3759:function(u,_,e){u.exports=e.g.EventSource},9334:function(u,_,e){var r=e.g.WebSocket||e.g.MozWebSocket;u.exports=r?function(t){return new r(t)}:void 0},3004:function(u,_,e){var r=e(5717),t=e(9395),i=e(6709),a=e(9033),s=e(3759);function o(n){if(!o.enabled())throw new Error("Transport created when disabled");t.call(this,n,"/eventsource",i,a)}r(o,t),o.enabled=function(){return!!s},o.transportName="eventsource",o.roundTrips=2,u.exports=o},5616:function(u,_,e){var r=e(5717),t=e(3608),i=e(3515),a=e(9395);function s(o){if(!t.enabled)throw new Error("Transport created when disabled");a.call(this,o,"/htmlfile",t,i)}r(s,a),s.enabled=function(o){return t.enabled&&o.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,u.exports=s},5088:function(u,_,e){var r=e(5717),t=e(3212).v,i=e(2828),a=e(273),s=e(3683),o=e(7705),n=e(8915);function l(c,h,f){if(!l.enabled())throw new Error("Transport created when disabled");t.call(this);var g=this;this.origin=a.getOrigin(f),this.baseUrl=f,this.transUrl=h,this.transport=c,this.windowId=n.string(8);var m=a.addPath(f,"/iframe.html")+"#"+this.windowId;this.iframeObj=s.createIframe(m,function(d){g.emit("close",1006,"Unable to load an iframe ("+d+")"),g.close()}),this.onmessageCallback=this._message.bind(this),o.attachEvent("message",this.onmessageCallback)}r(l,t),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){o.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(c){if(c.data,!a.isOriginEqual(c.origin,this.origin))return c.origin,void this.origin;var h;try{h=JSON.parse(c.data)}catch{return void c.data}if(h.windowId!==this.windowId)return h.windowId,void this.windowId;switch(h.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",h.data);break;case"c":var f;try{f=JSON.parse(h.data)}catch{return void h.data}this.emit("close",f[0],f[1]),this.close()}},l.prototype.postMessage=function(c,h){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:c,data:h||""}),this.origin)},l.prototype.send=function(c){this.postMessage("m",c)},l.enabled=function(){return s.iframeEnabled},l.transportName="iframe",l.roundTrips=2,u.exports=l},5375:function(u,_,e){var r=e(5717),t=e(8347),i=e(514),a=e(771);function s(o){if(!s.enabled())throw new Error("Transport created when disabled");t.call(this,o,"/jsonp",a,i)}r(s,t),s.enabled=function(){return!!e.g.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,u.exports=s},9395:function(u,_,e){var r=e(5717),t=e(273),i=e(8347);function a(s,o,n,l){i.call(this,s,o,function(c){return function(h,f,g){var m={};typeof f=="string"&&(m.headers={"Content-type":"text/plain"});var d=t.addPath(h,"/xhr_send"),p=new c("POST",d,f,m);return p.once("finish",function(v){if(p=null,v!==200&&v!==204)return g(new Error("http status "+v));g()}),function(){p.close(),p=null;var v=new Error("Aborted");v.code=1e3,g(v)}}}(l),n,l)}r(a,i),u.exports=a},1851:function(u,_,e){var r=e(5717),t=e(3212).v;function i(a,s){t.call(this),this.sendBuffer=[],this.sender=s,this.url=a}r(i,t),i.prototype.send=function(a){this.sendBuffer.push(a),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){var a,s=this;this.sendStop=function(){s.sendStop=null,clearTimeout(a)},a=setTimeout(function(){s.sendStop=null,s.sendSchedule()},25)},i.prototype.sendSchedule=function(){this.sendBuffer.length;var a=this;if(this.sendBuffer.length>0){var s="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,s,function(o){a.sendStop=null,o?(a.emit("close",o.code||1006,"Sending error: "+o),a.close()):a.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},u.exports=i},882:function(u,_,e){var r=e(5717),t=e(5088),i=e(2217);u.exports=function(a){function s(o,n){t.call(this,a.transportName,o,n)}return r(s,t),s.enabled=function(o,n){if(!e.g.document)return!1;var l=i.extend({},n);return l.sameOrigin=!0,a.enabled(l)&&t.enabled()},s.transportName="iframe-"+a.transportName,s.needBody=!0,s.roundTrips=t.roundTrips+a.roundTrips-1,s.facadeTransport=a,s}},1265:function(u,_,e){var r=e(5717),t=e(3212).v;function i(a,s,o){t.call(this),this.Receiver=a,this.receiveUrl=s,this.AjaxObject=o,this._scheduleReceiver()}r(i,t),i.prototype._scheduleReceiver=function(){var a=this,s=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);s.on("message",function(o){a.emit("message",o)}),s.once("close",function(o,n){a.pollIsClosing,a.poll=s=null,a.pollIsClosing||(n==="network"?a._scheduleReceiver():(a.emit("close",o||1006,n),a.removeAllListeners()))})},i.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},u.exports=i},8347:function(u,_,e){var r=e(5717),t=e(273),i=e(1851),a=e(1265);function s(o,n,l,c,h){var f=t.addPath(o,n),g=this;i.call(this,o,l),this.poll=new a(c,f,h),this.poll.on("message",function(m){g.emit("message",m)}),this.poll.once("close",function(m,d){g.poll=null,g.emit("close",m,d),g.close()})}r(s,i),s.prototype.close=function(){i.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},u.exports=s},6709:function(u,_,e){var r=e(5717),t=e(3212).v,i=e(3759);function a(s){t.call(this);var o=this,n=this.es=new i(s);n.onmessage=function(l){l.data,o.emit("message",decodeURI(l.data))},n.onerror=function(l){n.readyState;var c=n.readyState!==2?"network":"permanent";o._cleanup(),o._close(c)}}r(a,t),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var s=this.es;s&&(s.onmessage=s.onerror=null,s.close(),this.es=null)},a.prototype._close=function(s){var o=this;setTimeout(function(){o.emit("close",null,s),o.removeAllListeners()},200)},u.exports=a},3608:function(u,_,e){var r=e(5717),t=e(3683),i=e(273),a=e(3212).v,s=e(8915);function o(l){a.call(this);var c=this;t.polluteGlobalNamespace(),this.id="a"+s.string(6),l=i.addQuery(l,"c="+decodeURIComponent(t.WPrefix+"."+this.id)),o.htmlfileEnabled;var h=o.htmlfileEnabled?t.createHtmlfile:t.createIframe;e.g[t.WPrefix][this.id]={start:function(){c.iframeObj.loaded()},message:function(f){c.emit("message",f)},stop:function(){c._cleanup(),c._close("network")}},this.iframeObj=h(l,function(){c._cleanup(),c._close("permanent")})}r(o,a),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e.g[t.WPrefix][this.id]},o.prototype._close=function(l){this.emit("close",null,l),this.removeAllListeners()},o.htmlfileEnabled=!1;var n=["Active"].concat("Object").join("X");if(n in e.g)try{o.htmlfileEnabled=!!new e.g[n]("htmlfile")}catch{}o.enabled=o.htmlfileEnabled||t.iframeEnabled,u.exports=o},514:function(u,_,e){var r=e(3683),t=e(8915),i=e(8510),a=e(273),s=e(5717),o=e(3212).v;function n(l){var c=this;o.call(this),r.polluteGlobalNamespace(),this.id="a"+t.string(6);var h=a.addQuery(l,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e.g[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(h),this.timeoutId=setTimeout(function(){c._abort(new Error("JSONP script loaded abnormally (timeout)"))},n.timeout)}s(n,o),n.prototype.abort=function(){if(e.g[r.WPrefix][this.id]){var l=new Error("JSONP user aborted read");l.code=1e3,this._abort(l)}},n.timeout=35e3,n.scriptErrorTimeout=1e3,n.prototype._callback=function(l){this._cleanup(),this.aborting||(l&&this.emit("message",l),this.emit("close",null,"network"),this.removeAllListeners())},n.prototype._abort=function(l){this._cleanup(),this.aborting=!0,this.emit("close",l.code,l.message),this.removeAllListeners()},n.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var l=this.script;l.parentNode.removeChild(l),l.onreadystatechange=l.onerror=l.onload=l.onclick=null,this.script=null}delete e.g[r.WPrefix][this.id]},n.prototype._scriptError=function(){var l=this;this.errorTimer||(this.errorTimer=setTimeout(function(){l.loadedOkay||l._abort(new Error("JSONP script loaded abnormally (onerror)"))},n.scriptErrorTimeout))},n.prototype._createScript=function(l){var c,h=this,f=this.script=e.g.document.createElement("script");if(f.id="a"+t.string(8),f.src=l,f.type="text/javascript",f.charset="UTF-8",f.onerror=this._scriptError.bind(this),f.onload=function(){h._abort(new Error("JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(){if(f.readyState,/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){h.loadedOkay=!0;try{f.onclick()}catch{}}f&&h._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},f.async===void 0&&e.g.document.attachEvent)if(i.isOpera())(c=this.script2=e.g.document.createElement("script")).text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=c.async=!1;else{try{f.htmlFor=f.id,f.event="onclick"}catch{}f.async=!0}f.async!==void 0&&(f.async=!0);var g=e.g.document.getElementsByTagName("head")[0];g.insertBefore(f,g.firstChild),c&&g.insertBefore(c,g.firstChild)},u.exports=n},1044:function(u,_,e){var r=e(5717),t=e(3212).v;function i(a,s){t.call(this);var o=this;this.bufferPosition=0,this.xo=new s("POST",a,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,l){o._chunkHandler(n,l),o.xo=null;var c=n===200?"network":"permanent";o.emit("close",null,c),o._cleanup()})}r(i,t),i.prototype._chunkHandler=function(a,s){if(a===200&&s)for(var o=-1;;this.bufferPosition+=o+1){var n=s.slice(this.bufferPosition);if((o=n.indexOf(`
`))===-1)break;var l=n.slice(0,o);l&&this.emit("message",l)}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},u.exports=i},771:function(u,_,e){var r,t,i=e(8915),a=e(273);u.exports=function(s,o,n){r||((r=e.g.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(t=e.g.document.createElement("textarea")).name="d",r.appendChild(t),e.g.document.body.appendChild(r));var l="a"+i.string(8);r.target=l,r.action=a.addQuery(a.addPath(s,"/jsonp_send"),"i="+l);var c=function(f){try{return e.g.document.createElement('<iframe name="'+f+'">')}catch{var g=e.g.document.createElement("iframe");return g.name=f,g}}(l);c.id=l,c.style.display="none",r.appendChild(c);try{t.value=o}catch{}r.submit();var h=function(f){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),t.value="",n(f))};return c.onerror=function(){h()},c.onload=function(){h()},c.onreadystatechange=function(f){c.readyState,c.readyState==="complete"&&h()},function(){h(new Error("Aborted"))}}},6073:function(u,_,e){var r=e(3212).v,t=e(5717),i=e(7705),a=e(8510),s=e(273);function o(n,l,c){var h=this;r.call(this),setTimeout(function(){h._start(n,l,c)},0)}t(o,r),o.prototype._start=function(n,l,c){var h=this,f=new e.g.XDomainRequest;l=s.addQuery(l,"t="+ +new Date),f.onerror=function(){h._error()},f.ontimeout=function(){h._error()},f.onprogress=function(){f.responseText,h.emit("chunk",200,f.responseText)},f.onload=function(){h.emit("finish",200,f.responseText),h._cleanup(!1)},this.xdr=f,this.unloadRef=i.unloadAdd(function(){h._cleanup(!0)});try{this.xdr.open(n,l),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(c)}catch{this._error()}},o.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},o.prototype._cleanup=function(n){if(this.xdr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,n)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},o.prototype.close=function(){this._cleanup(!0)},o.enabled=!(!e.g.XDomainRequest||!a.hasDomain()),u.exports=o},9033:function(u,_,e){var r=e(5717),t=e(2940);function i(a,s,o,n){t.call(this,a,s,o,n)}r(i,t),i.enabled=t.enabled&&t.supportsCORS,u.exports=i},7103:function(u,_,e){var r=e(3212).v;function t(){var i=this;r.call(this),this.to=setTimeout(function(){i.emit("finish",200,"{}")},t.timeout)}e(5717)(t,r),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,u.exports=t},3515:function(u,_,e){var r=e(5717),t=e(2940);function i(a,s,o){t.call(this,a,s,o,{noCredentials:!0})}r(i,t),i.enabled=t.enabled,u.exports=i},2412:function(u,_,e){var r=e(7705),t=e(273),i=e(5717),a=e(3212).v,s=e(9334);function o(n,l,c){if(!o.enabled())throw new Error("Transport created when disabled");a.call(this);var h=this,f=t.addPath(n,"/websocket");f=f.slice(0,5)==="https"?"wss"+f.slice(5):"ws"+f.slice(4),this.url=f,this.ws=new s(this.url,[],c),this.ws.onmessage=function(g){g.data,h.emit("message",g.data)},this.unloadRef=r.unloadAdd(function(){h.ws.close()}),this.ws.onclose=function(g){g.code,g.reason,h.emit("close",g.code,g.reason),h._cleanup()},this.ws.onerror=function(g){h.emit("close",1006,"WebSocket connection broken"),h._cleanup()}}i(o,a),o.prototype.send=function(n){var l="["+n+"]";this.ws.send(l)},o.prototype.close=function(){var n=this.ws;this._cleanup(),n&&n.close()},o.prototype._cleanup=function(){var n=this.ws;n&&(n.onmessage=n.onclose=n.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},o.enabled=function(){return!!s},o.transportName="websocket",o.roundTrips=2,u.exports=o},9998:function(u,_,e){var r=e(5717),t=e(9395),i=e(4620),a=e(1044),s=e(6073);function o(n){if(!s.enabled)throw new Error("Transport created when disabled");t.call(this,n,"/xhr",a,s)}r(o,t),o.enabled=i.enabled,o.transportName="xdr-polling",o.roundTrips=2,u.exports=o},4620:function(u,_,e){var r=e(5717),t=e(9395),i=e(1044),a=e(6073);function s(o){if(!a.enabled)throw new Error("Transport created when disabled");t.call(this,o,"/xhr_streaming",i,a)}r(s,t),s.enabled=function(o){return!o.cookie_needed&&!o.nullOrigin&&a.enabled&&o.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,u.exports=s},2387:function(u,_,e){var r=e(5717),t=e(9395),i=e(1044),a=e(9033),s=e(3515);function o(n){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");t.call(this,n,"/xhr",i,a)}r(o,t),o.enabled=function(n){return!n.nullOrigin&&(!(!s.enabled||!n.sameOrigin)||a.enabled)},o.transportName="xhr-polling",o.roundTrips=2,u.exports=o},9842:function(u,_,e){var r=e(5717),t=e(9395),i=e(1044),a=e(9033),s=e(3515),o=e(8510);function n(l){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");t.call(this,l,"/xhr_streaming",i,a)}r(n,t),n.enabled=function(l){return!l.nullOrigin&&!o.isOpera()&&a.enabled},n.transportName="xhr-streaming",n.roundTrips=2,n.needBody=!!e.g.document,u.exports=n},2017:function(u,_,e){e.g.crypto&&e.g.crypto.getRandomValues?u.exports.randomBytes=function(r){var t=new Uint8Array(r);return e.g.crypto.getRandomValues(t),t}:u.exports.randomBytes=function(r){for(var t=new Array(r),i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}},8510:function(u,_,e){u.exports={isOpera:function(){return e.g.navigator&&/opera/i.test(e.g.navigator.userAgent)},isKonqueror:function(){return e.g.navigator&&/konqueror/i.test(e.g.navigator.userAgent)},hasDomain:function(){if(!e.g.document)return!0;try{return!!e.g.document.domain}catch{return!1}}}},8028:function(u){var _,e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;u.exports={quote:function(r){var t=JSON.stringify(r);return e.lastIndex=0,e.test(t)?(_||(_=function(i){var a,s={},o=[];for(a=0;a<65536;a++)o.push(String.fromCharCode(a));return i.lastIndex=0,o.join("").replace(i,function(n){return s[n]="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),""}),i.lastIndex=0,s}(e)),t.replace(e,function(i){return _[i]})):t}}},7705:function(u,_,e){var r=e(8915),t={},i=!1,a=e.g.chrome&&e.g.chrome.app&&e.g.chrome.app.runtime;u.exports={attachEvent:function(s,o){e.g.addEventListener!==void 0?e.g.addEventListener(s,o,!1):e.g.document&&e.g.attachEvent&&(e.g.document.attachEvent("on"+s,o),e.g.attachEvent("on"+s,o))},detachEvent:function(s,o){e.g.addEventListener!==void 0?e.g.removeEventListener(s,o,!1):e.g.document&&e.g.detachEvent&&(e.g.document.detachEvent("on"+s,o),e.g.detachEvent("on"+s,o))},unloadAdd:function(s){if(a)return null;var o=r.string(8);return t[o]=s,i&&setTimeout(this.triggerUnloadCallbacks,0),o},unloadDel:function(s){s in t&&delete t[s]},triggerUnloadCallbacks:function(){for(var s in t)t[s](),delete t[s]}},a||u.exports.attachEvent("unload",function(){i||(i=!0,u.exports.triggerUnloadCallbacks())})},3683:function(u,_,e){var r=e(7705),t=e(8510);u.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){u.exports.WPrefix in e.g||(e.g[u.exports.WPrefix]={})},postMessage:function(i,a){e.g.parent!==e.g&&e.g.parent.postMessage(JSON.stringify({windowId:u.exports.currentWindowId,type:i,data:a||""}),"*")},createIframe:function(i,a){var s,o,n=e.g.document.createElement("iframe"),l=function(){clearTimeout(s);try{n.onload=null}catch{}n.onerror=null},c=function(){n&&(l(),setTimeout(function(){n&&n.parentNode.removeChild(n),n=null},0),r.unloadDel(o))},h=function(f){n&&(c(),a(f))};return n.src=i,n.style.display="none",n.style.position="absolute",n.onerror=function(){h("onerror")},n.onload=function(){clearTimeout(s),s=setTimeout(function(){h("onload timeout")},2e3)},e.g.document.body.appendChild(n),s=setTimeout(function(){h("timeout")},15e3),o=r.unloadAdd(c),{post:function(f,g){setTimeout(function(){try{n&&n.contentWindow&&n.contentWindow.postMessage(f,g)}catch{}},0)},cleanup:c,loaded:l}},createHtmlfile:function(i,a){var s,o,n,l=["Active"].concat("Object").join("X"),c=new e.g[l]("htmlfile"),h=function(){clearTimeout(s),n.onerror=null},f=function(){c&&(h(),r.unloadDel(o),n.parentNode.removeChild(n),n=c=null,CollectGarbage())},g=function(d){c&&(f(),a(d))};c.open(),c.write('<html><script>document.domain="'+e.g.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[u.exports.WPrefix]=e.g[u.exports.WPrefix];var m=c.createElement("div");return c.body.appendChild(m),n=c.createElement("iframe"),m.appendChild(n),n.src=i,n.onerror=function(){g("onerror")},s=setTimeout(function(){g("timeout")},15e3),o=r.unloadAdd(f),{post:function(d,p){try{setTimeout(function(){n&&n.contentWindow&&n.contentWindow.postMessage(d,p)},0)}catch{}},cleanup:f,loaded:h}}},u.exports.iframeEnabled=!1,e.g.document&&(u.exports.iframeEnabled=(typeof e.g.postMessage=="function"||typeof e.g.postMessage=="object")&&!t.isKonqueror())},4886:function(u,_,e){var r={};["log","debug","warn"].forEach(function(t){var i;try{i=e.g.console&&e.g.console[t]&&e.g.console[t].apply}catch{}r[t]=i?function(){return e.g.console[t].apply(e.g.console,arguments)}:t==="log"?function(){}:r.log}),u.exports=r},2217:function(u){u.exports={isObject:function(_){var e=typeof _;return e==="function"||e==="object"&&!!_},extend:function(_){if(!this.isObject(_))return _;for(var e,r,t=1,i=arguments.length;t<i;t++)for(r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(_[r]=e[r]);return _}}},8915:function(u,_,e){var r=e(2017),t="abcdefghijklmnopqrstuvwxyz012345";u.exports={string:function(i){for(var a=t.length,s=r.randomBytes(i),o=[],n=0;n<i;n++)o.push(t.substr(s[n]%a,1));return o.join("")},number:function(i){return Math.floor(Math.random()*i)},numberString:function(i){var a=(""+(i-1)).length;return(new Array(a+1).join("0")+this.number(i)).slice(-a)}}},5581:function(u){u.exports=function(_){return{filterToEnabled:function(e,r){var t={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],_.forEach(function(i){i&&(i.transportName==="websocket"&&r.websocket===!1||(e.length&&e.indexOf(i.transportName)===-1?i.transportName:i.enabled(r)?(i.transportName,t.main.push(i),i.facadeTransport&&t.facade.push(i.facadeTransport)):i.transportName))}),t}}}},273:function(u,_,e){var r=e(4564);u.exports={getOrigin:function(t){if(!t)return null;var i=new r(t);if(i.protocol==="file:")return null;var a=i.port;return a||(a=i.protocol==="https:"?"443":"80"),i.protocol+"//"+i.hostname+":"+a},isOriginEqual:function(t,i){return this.getOrigin(t)===this.getOrigin(i)},isSchemeEqual:function(t,i){return t.split(":")[0]===i.split(":")[0]},addPath:function(t,i){var a=t.split("?");return a[0]+i+(a[1]?"?"+a[1]:"")},addQuery:function(t,i){return t+(t.indexOf("?")===-1?"?"+i:"&"+i)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}}},2828:function(u){u.exports="1.6.1"},4564:function(u,_,e){var r=e(7418),t=e(7129),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,n=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function c(v){return(v||"").toString().replace(i,"")}var h=[["#","hash"],["?","query"],function(v,O){return m(O.protocol)?v.replace(/\\/g,"/"):v},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function g(v){var O,S=(typeof window<"u"?window:e.g!==void 0?e.g:typeof self<"u"?self:{}).location||{},I={},k=typeof(v=v||S);if(v.protocol==="blob:")I=new p(unescape(v.pathname),{});else if(k==="string")for(O in I=new p(v,{}),f)delete I[O];else if(k==="object"){for(O in v)O in f||(I[O]=v[O]);I.slashes===void 0&&(I.slashes=s.test(v.href))}return I}function m(v){return v==="file:"||v==="ftp:"||v==="http:"||v==="https:"||v==="ws:"||v==="wss:"}function d(v,O){v=(v=c(v)).replace(a,""),O=O||{};var S,I=n.exec(v),k=I[1]?I[1].toLowerCase():"",E=!!I[2],T=!!I[3],y=0;return E?T?(S=I[2]+I[3]+I[4],y=I[2].length+I[3].length):(S=I[2]+I[4],y=I[2].length):T?(S=I[3]+I[4],y=I[3].length):S=I[4],k==="file:"?y>=2&&(S=S.slice(2)):m(k)?S=I[4]:k?E&&(S=S.slice(2)):y>=2&&m(O.protocol)&&(S=I[4]),{protocol:k,slashes:E||m(k),slashesCount:y,rest:S}}function p(v,O,S){if(v=(v=c(v)).replace(a,""),!(this instanceof p))return new p(v,O,S);var I,k,E,T,y,b,U=h.slice(),D=typeof O,L=this,Z=0;for(D!=="object"&&D!=="string"&&(S=O,O=null),S&&typeof S!="function"&&(S=t.parse),I=!(k=d(v||"",O=g(O))).protocol&&!k.slashes,L.slashes=k.slashes||I&&O.slashes,L.protocol=k.protocol||O.protocol||"",v=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||l.test(v))||!k.slashes&&(k.protocol||k.slashesCount<2||!m(L.protocol)))&&(U[3]=[/(.*)/,"pathname"]);Z<U.length;Z++)typeof(T=U[Z])!="function"?(E=T[0],b=T[1],E!=E?L[b]=v:typeof E=="string"?~(y=E==="@"?v.lastIndexOf(E):v.indexOf(E))&&(typeof T[2]=="number"?(L[b]=v.slice(0,y),v=v.slice(y+T[2])):(L[b]=v.slice(y),v=v.slice(0,y))):(y=E.exec(v))&&(L[b]=y[1],v=v.slice(0,y.index)),L[b]=L[b]||I&&T[3]&&O[b]||"",T[4]&&(L[b]=L[b].toLowerCase())):v=T(v,L);S&&(L.query=S(L.query)),I&&O.slashes&&L.pathname.charAt(0)!=="/"&&(L.pathname!==""||O.pathname!=="")&&(L.pathname=function(J,G){if(J==="")return G;for(var te=(G||"/").split("/").slice(0,-1).concat(J.split("/")),ce=te.length,ie=te[ce-1],ye=!1,be=0;ce--;)te[ce]==="."?te.splice(ce,1):te[ce]===".."?(te.splice(ce,1),be++):be&&(ce===0&&(ye=!0),te.splice(ce,1),be--);return ye&&te.unshift(""),ie!=="."&&ie!==".."||te.push(""),te.join("/")}(L.pathname,O.pathname)),L.pathname.charAt(0)!=="/"&&m(L.protocol)&&(L.pathname="/"+L.pathname),r(L.port,L.protocol)||(L.host=L.hostname,L.port=""),L.username=L.password="",L.auth&&(~(y=L.auth.indexOf(":"))?(L.username=L.auth.slice(0,y),L.username=encodeURIComponent(decodeURIComponent(L.username)),L.password=L.auth.slice(y+1),L.password=encodeURIComponent(decodeURIComponent(L.password))):L.username=encodeURIComponent(decodeURIComponent(L.auth)),L.auth=L.password?L.username+":"+L.password:L.username),L.origin=L.protocol!=="file:"&&m(L.protocol)&&L.host?L.protocol+"//"+L.host:"null",L.href=L.toString()}p.prototype={set:function(v,O,S){var I=this;switch(v){case"query":typeof O=="string"&&O.length&&(O=(S||t.parse)(O)),I[v]=O;break;case"port":I[v]=O,r(O,I.protocol)?O&&(I.host=I.hostname+":"+O):(I.host=I.hostname,I[v]="");break;case"hostname":I[v]=O,I.port&&(O+=":"+I.port),I.host=O;break;case"host":I[v]=O,o.test(O)?(O=O.split(":"),I.port=O.pop(),I.hostname=O.join(":")):(I.hostname=O,I.port="");break;case"protocol":I.protocol=O.toLowerCase(),I.slashes=!S;break;case"pathname":case"hash":if(O){var k=v==="pathname"?"/":"#";I[v]=O.charAt(0)!==k?k+O:O}else I[v]=O;break;case"username":case"password":I[v]=encodeURIComponent(O);break;case"auth":var E=O.indexOf(":");~E?(I.username=O.slice(0,E),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=O.slice(E+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(O))}for(var T=0;T<h.length;T++){var y=h[T];y[4]&&(I[y[1]]=I[y[1]].toLowerCase())}return I.auth=I.password?I.username+":"+I.password:I.username,I.origin=I.protocol!=="file:"&&m(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString(),I},toString:function(v){v&&typeof v=="function"||(v=t.stringify);var O,S=this,I=S.host,k=S.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var E=k+(S.protocol&&S.slashes||m(S.protocol)?"//":"");return S.username?(E+=S.username,S.password&&(E+=":"+S.password),E+="@"):S.password?(E+=":"+S.password,E+="@"):S.protocol!=="file:"&&m(S.protocol)&&!I&&S.pathname!=="/"&&(E+="@"),(I[I.length-1]===":"||o.test(S.hostname)&&!S.port)&&(I+=":"),E+=I+S.pathname,(O=typeof S.query=="object"?v(S.query):S.query)&&(E+=O.charAt(0)!=="?"?"?"+O:O),S.hash&&(E+=S.hash),E}},p.extractProtocol=d,p.location=g,p.trimLeft=c,p.qs=t,u.exports=p}},__webpack_module_cache__={};function __webpack_require__(u){var _=__webpack_module_cache__[u];if(_!==void 0)return _.exports;var e=__webpack_module_cache__[u]={exports:{}};return __webpack_modules__[u].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.amdO={},__webpack_require__.n=function(u){var _=u&&u.__esModule?function(){return u.default}:function(){return u};return __webpack_require__.d(_,{a:_}),_},__webpack_require__.d=function(u,_){for(var e in _)__webpack_require__.o(_,e)&&!__webpack_require__.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:_[e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(u,_){return Object.prototype.hasOwnProperty.call(u,_)},__webpack_require__.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return ft}});var u=__webpack_require__(8e3),_=__webpack_require__.n(u),e=__webpack_require__(3281),r=__webpack_require__.n(e),t=__webpack_require__(3720),i=__webpack_require__.n(t),a=(__webpack_require__(9601),__webpack_require__(8309),__webpack_require__(4812),__webpack_require__(9070),__webpack_require__(1539),__webpack_require__(8674),__webpack_require__(3843),__webpack_require__(3710),__webpack_require__(2564),__webpack_require__(9653),__webpack_require__(7941),__webpack_require__(9554),__webpack_require__(4747),__webpack_require__(7327),__webpack_require__(561),__webpack_require__(7252)),s=__webpack_require__(4370),o=__webpack_require__(5531),n=(__webpack_require__(2526),__webpack_require__(1817),__webpack_require__(2165),__webpack_require__(6992),__webpack_require__(8783),__webpack_require__(3948),__webpack_require__(9714),__webpack_require__(7042),__webpack_require__(5212),__webpack_require__(2772),__webpack_require__(9753),__webpack_require__(8264),__webpack_require__(9575),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(5021),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(6699),__webpack_require__(2023),__webpack_require__(3161),__webpack_require__(1249),__webpack_require__(4188)),l=__webpack_require__.n(n),c=__webpack_require__(8161),h=__webpack_require__(7360),f=["public","members_only","allow_user_invites","invite_need_confirm"],g={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function m(N,A){var R,w,ee,B,F,ve,P=this;return A.isThread?(ee={id:A.mucId.name,name:A.mucName,operation:"",parentId:A.mucParentId.name,operator:A.from.name,userName:A.to.length?A.to[0].name:""},B={chatThreadId:A.mucId.name,chatThreadName:A.mucName,operation:"",parentId:A.mucParentId.name}):(w={type:"",owner:A.from.name,gid:A.mucId.name,from:A.from.name,fromJid:A.from,to:A.to.length?A.to[0].name:"",toJid:A.to,chatroom:A.isChatroom,status:A.status},F={operation:"",id:A.mucId.name,from:A.from.name},A.isChatroom&&((R=A==null?void 0:A.eventInfo)===null||R===void 0?void 0:R.ext)&&(ve=JSON.parse(A.eventInfo.ext))),({44:function(){var W;F.operation="removeChatRoomAttributes",F.attributes=ve.result.successKeys,ve.result.successKeys.length>0&&((W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomEvent",F))},43:function(){var W;F.operation="updateChatRoomAttributes";var q={};ve.result.successKeys.forEach(function(z){q[z]=ve.properties[z]}),F.attributes=q,ve.result.successKeys.length>0&&((W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomEvent",F))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var W;B.operation="chatThreadNameUpdate",(W=P.eventHandler)===null||W===void 0||W.dispatch("onMultiDeviceEvent",B)},37:function(){var W;ee.operation="userRemove",(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatThreadChange",ee)},36:function(){var W;B.operation="chatThreadLeave",(W=P.eventHandler)===null||W===void 0||W.dispatch("onMultiDeviceEvent",B)},35:function(){var W;B.operation="chatThreadJoin",(W=P.eventHandler)===null||W===void 0||W.dispatch("onMultiDeviceEvent",B)},34:function(){var W;B.operation="chatThreadDestroy",(W=P.eventHandler)===null||W===void 0||W.dispatch("onMultiDeviceEvent",B)},33:function(){var W;B.operation="chatThreadCreate",(W=P.eventHandler)===null||W===void 0||W.dispatch("onMultiDeviceEvent",B)},32:function(){var W,q,z,Q;w.type=A.isChatroom?"rmChatRoomMute":"rmGroupMute",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="unmuteAllMembers",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},31:function(){var W,q,z,Q;w.type=A.isChatroom?"muteChatRoom":"muteGroup",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="muteAllMembers",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},30:function(){var W,q,z,Q;w.type=A.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="removeAllowlistMember",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},29:function(){var W,q,z,Q;w.type=A.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="addUserToAllowlist",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},28:function(){var W,q,z,Q;w.type="deleteFile",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="deleteFile",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},27:function(){var W,q,z,Q;w.type="uploadFile",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="uploadFile",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},26:function(){var W,q,z,Q;w.type="deleteAnnouncement",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="deleteAnnouncement",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},25:function(){var W,q,z,Q;w.type="updateAnnouncement",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="updateAnnouncement",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},24:function(){var W,q,z,Q;w.type="removeMute",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="unmuteMember",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},23:function(){var W,q,z,Q;w.type="addMute",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="muteMember",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},22:function(){var W,q,z,Q;w.type="removeAdmin",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="removeAdmin",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},21:function(){var W,q,z,Q;w.type="addAdmin",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="setAdmin",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},20:function(){var W,q,z,Q;w.type="changeOwner",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="changeOwner",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},19:function(){var W,q,z,Q;w.type="direct_joined",w.groupName=A.mucName,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="directJoined",F.name=A.mucName,A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},18:function(){var W,q,z,Q;w.type=A.isChatroom?"leaveChatRoom":"leaveGroup",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="memberAbsence",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},17:function(){var W,q,z,Q;w.type=A.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="memberPresence",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},16:function(){var W,q;w.type="unblock",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},15:function(){var W,q;w.type="block",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},14:function(){var W,q,z,Q,ge,Ve=A.isChatroom;if(!Ve){var Ze=JSON.parse(((W=A==null?void 0:A.eventInfo)===null||W===void 0?void 0:W.ext)||"{}",function(rt,Je){return rt==="last_modified"?Number(Je):f.includes(rt)?Je==="true"||Je===!0:Je});F.detail=w.detail={},Object.keys(Ze).forEach(function(rt){var Je=g[rt];if(Je){var lt=Ze[rt];F.detail&&(F.detail[Je]=lt),w.detail&&(w.detail[Je]=lt)}})}w.type="update",P.onPresence&&P.onPresence(w),Ve?(q=P.eventHandler)===null||q===void 0||q.dispatch("onChatroomChange",w):(z=P.eventHandler)===null||z===void 0||z.dispatch("onGroupChange",w),F.operation="updateInfo",Ve?(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onChatroomEvent",F):(ge=P.eventHandler)===null||ge===void 0||ge.dispatch("onGroupEvent",F)},13:function(){var W,q,z,Q;w.type="allow",w.reason=A.reason,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="unblockMember",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},12:function(){var W,q;w.type="ban",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},11:function(){var W,q;w.type="getBlackList",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},10:function(){var W,q,z,Q;w.type="removedFromGroup",w.kicked=w.to,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="removeMember",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},9:function(){var W,q,z,Q;w.type="invite_decline",w.kicked=w.to,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="rejectInvite",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},8:function(){var W,q,z,Q;w.type="invite_accept",w.kicked=w.to,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="acceptInvite",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},7:function(){var W,q,z,Q;w.type="invite",w.kicked=w.to,w.groupName=A.mucName,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="inviteToJoin",F.name=A.mucName,A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},6:function(){var W,q;w.type="joinPublicGroupDeclined",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},5:function(){var W,q,z,Q;w.type="joinPublicGroupSuccess",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="acceptRequest",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},4:function(){var W,q,z,Q;w.type="joinGroupNotifications",w.reason=A.reason,P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="requestToJoin",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},3:function(){var W,q;w.type="leave",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},2:function(){var W,q;w.type="join",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w)},1:function(){var W,q,z,Q;w.type="deleteGroupChat",P.onPresence&&P.onPresence(w),A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomChange",w):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupChange",w),F.operation="destroy",A.isChatroom?(z=P.eventHandler)===null||z===void 0||z.dispatch("onChatroomEvent",F):(Q=P.eventHandler)===null||Q===void 0||Q.dispatch("onGroupEvent",F)},0:function(){var W,q;F.operation="create",A.isChatroom?(W=P.eventHandler)===null||W===void 0||W.dispatch("onChatroomEvent",F):(q=P.eventHandler)===null||q===void 0||q.dispatch("onGroupEvent",F)}}[N]||function(){console.error("No match operation ".concat(N))})()}var d=function(N){var A=this.root.lookup("easemob.pb.MUCBody").decode(N.payload),R=A.operation;h.kg.debug("onMucMessage",A),m.call(this,R,A)},p=__webpack_require__(4968),v=function(N){var A,R,w,ee,B,F,ve=this.root.lookup("easemob.pb.StatisticsBody").decode(N.payload);switch(ve.operation){case 0:this.onStatisticMessage&&this.onStatisticMessage(ve),(A=this.eventHandler)===null||A===void 0||A.dispatch("onStatisticMessage",ve);break;case 1:F=a.Z.create({type:o.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.logOut=!0,this.onError&&this.onError(F),(R=this.eventHandler)===null||R===void 0||R.dispatch("onError",F);break;case 2:F=a.Z.create({type:o.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),this.logOut=!0,this.onError&&this.onError(F),(w=this.eventHandler)===null||w===void 0||w.dispatch("onError",F);break;case 3:F=a.Z.create({type:o.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.logOut=!0,this.onError&&this.onError(F),(ee=this.eventHandler)===null||ee===void 0||ee.dispatch("onError",F);break;case 4:F=a.Z.create({type:o.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.logOut=!0,this.onError&&this.onError(F),(B=this.eventHandler)===null||B===void 0||B.dispatch("onError",F);break;default:h.kg.error("handleStatisticsMsg:",ve)}},O=(__webpack_require__(9720),__webpack_require__(4363));function S(N){var A,R=[],w=[],ee=N.data;ee&&ee.values&&ee.values.forEach(function(B){Object.entries(B.status).forEach(function(F){w.push({device:F[0],status:Number(F[1])})}),R.push({userId:B.uid,lastTime:Number(B.last_time),expire:Number(B.expiry),ext:B.ext,statusDetails:w})}),this.onPresenceStatusChange&&this.onPresenceStatusChange(R),(A=this.eventHandler)===null||A===void 0||A.dispatch("onPresenceStatusChange",R)}function I(N){var A=this;N.data.forEach(function(R){var w,ee={from:R.from,to:R.to,chatType:R.channel_type==="chat"?"singleChat":"groupChat",messageId:R.messageId,reactions:R.reactions,ts:R.ts};(w=A.eventHandler)===null||w===void 0||w.dispatch("onReactionChange",ee)})}function k(N){var A,R,w,ee;if(N.data){var B=N.data,F={id:B.id||"",name:B.name||"",parentId:B.muc_parent_id||"",messageId:B.msg_parent_id||"",timestamp:B.timestamp||0,operator:B.from||"",operation:""};switch(B.operation){case"create":F.operation="create",F.createTimestamp=F.timestamp,F.messageCount=0,(A=this.eventHandler)===null||A===void 0||A.dispatch("onChatThreadChange",F);break;case"update_msg":F.operation="update",F.messageCount=B.message_count,B.last_message&&JSON.stringify(B.last_message)!=="{}"?F.lastMessage=(0,O.w)(B.last_message):JSON.stringify(B.last_message)==="{}"&&(F.lastMessage={}),(R=this.eventHandler)===null||R===void 0||R.dispatch("onChatThreadChange",F);break;case"update":F.operation="update",F.messageCount=B.message_count,(w=this.eventHandler)===null||w===void 0||w.dispatch("onChatThreadChange",F);break;case"delete":F.operation="destroy",(ee=this.eventHandler)===null||ee===void 0||ee.dispatch("onChatThreadChange",F)}}}function E(N){var A,R=N.data;if(R.resource!==this.clientResource){var w={operation:"deleteRoaming",conversationId:R.to,chatType:R.chatType==="chat"?"singleChat":"groupChat",resource:R.resource};(A=this.eventHandler)===null||A===void 0||A.dispatch("onMultiDeviceEvent",w)}}var T=function(N){var A=s.P6.parseNotify(N.payload);switch(N.from.name,N.to.name,A.type){case"presence":S.call(this,A);break;case"reaction":I.call(this,A);break;case"thread":k.call(this,A);break;case"roaming_delete":E.call(this,A);break;default:h.kg.error("unexpected notify type: ".concat(A.type))}},y=__webpack_require__(2071),b=__webpack_require__(1595);function U(N){return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},U(N)}var D=function(){return D=Object.assign||function(N){for(var A,R=1,w=arguments.length;R<w;R++)for(var ee in A=arguments[R])Object.prototype.hasOwnProperty.call(A,ee)&&(N[ee]=A[ee]);return N},D.apply(this,arguments)},L=s.P6.getEnvInfo();function Z(){var N="webim",A="",R="",w=[],ee=new Date().valueOf();this.deviceId==="webim"?(R="random_"+ee.toString(),N=this.deviceId+"_"+R,A=this.deviceId):N=A=R="webim_"+this.deviceId,this.context.jid&&(this.context.jid.clientResource=N);var B=this.root.lookup("easemob.pb.Provision"),F=B.decode(w);F.compressType=this.compressType,F.encryptType=this.encryptType,F.osType=this.osType,F.version=this.version,F.deviceName=A,F.resource=N,F.deviceUuid=R,F.auth="$t$"+this.token,F.actionVersion="v2.0",F=B.encode(F).finish();var ve=this.root.lookup("easemob.pb.MSync"),P=ve.decode(w);return P.version=this.version,P.guid=this.context.jid,P.auth="$t$"+this.token,P.command=3,P.deviceId=A,P.serviceId=this.dataReport.getServiceId(),P.encryptType=this.encryptType,P.payload=F,ve.encode(P).finish()}function J(N,A){var R=this,w=s.P6.getEnvInfo();if(w.platform==="web"||w.platform==="zfb"||w.platform==="dd"){for(var ee="",B=0;B<N.length;B++)ee+=String.fromCharCode(N[B]);return ee=l().btoa(ee),w.platform==="web"?ee:{data:ee,isBuffer:!1,complete:function(){},fail:function(ve){ve.errMsg!=="sendSocketMessage:fail taskID not exist"&&ve.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||(h.kg.debug("send message fail and reconnect"),R.reconnecting||R.reconnect()),A&&R._msgHash&&R._msgHash[A]&&R._msgHash[A].fail({id:A})}}}var F=N;return{data:F.buffer.slice(F.byteOffset,F.byteOffset+F.byteLength),fail:function(ve){ve.errMsg!=="sendSocketMessage:fail taskID not exist"&&ve.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||R.reconnecting||R.reconnect(),A&&R._msgHash&&R._msgHash[A]&&R._msgHash[A].fail({id:A})}}}function G(N,A){switch(N.ns){case 0:v.call(this,N);break;case 1:c.Z.call(this,N,A);break;case 2:d.call(this,N);break;case 3:p.Z.handleRosterMsg.call(this,N);break;case 4:this.registerConfrIQHandler&&this.registerConfrIQHandler(N,A,this);break;case 5:T.call(this,N);break;default:h.kg.error("distributeMeta",N)}}function te(N,A){for(var R=function(B){var F=new(i())(N[B].id.low,N[B].id.high,N[B].id.unsigned).toString();if(w._load_msg_cache.some(function(q){return q.msgId===F}))return"continue";var ve=N[B].from.name,P=N[B].to?N[B].to.name:"",W=!!N[B].to&&N[B].to.domain.indexOf("conference")!==-1;w._load_msg_cache.length<=w.max_cache_length||w._load_msg_cache.shift(),w._load_msg_cache.push({msgId:F,from:ve,to:P,isGroup:W}),G.call(w,N[B],A)},w=this,ee=0;ee<N.length;ee++)R(ee)}function ce(N){var A=this.root.lookup("easemob.pb.CommUnreadDL");if(A=A.decode(N.payload),this.grantType==="agoraToken"){var R=new(i())(A.timestamp.low,A.timestamp.high,A.timestamp.unsigned).toString();this.compareTokenExpireTime(Number(R),this.expirationTime)}if(A.unread.length===0)xe.call(this);else for(var w=0;w<A.unread.length;w++)be.call(this,A.unread[w].queue)}function ie(){var N=[],A=this.root.lookup("easemob.pb.StatisticsBody"),R=A.decode(N);R.operation=0,R=A.encode(R).finish();var w=this.root.lookup("easemob.pb.Meta").decode(N);w.id=new Date().valueOf(),w.ns=0,w.payload=R;var ee=this.root.lookup("easemob.pb.CommSyncUL"),B=ee.decode(N);B.meta=w,B=ee.encode(B).finish();var F=this.root.lookup("easemob.pb.MSync"),ve=F.decode(N);return ve.version=this.version,ve.encryptType=[0],ve.command=0,ve.payload=B,F.encode(ve).finish()}function ye(N){var A=[],R=this.root.lookup("easemob.pb.CommSyncUL"),w=R.decode(A);w.queue=N,w=R.encode(w).finish();var ee=this.root.lookup("easemob.pb.MSync"),B=ee.decode(A);return B.version=this.version,B.encryptType=this.encryptType,B.command=0,B.payload=w,ee.encode(B).finish()}function be(N){h.kg.debug("sendBackqueue");var A=ye.call(this,N);ue.call(this,A)}function Oe(N,A){var R=[],w=this.root.lookup("easemob.pb.CommSyncUL"),ee=w.decode(R);ee.queue=A,ee.key=new(i())(N.low,N.high,N.unsigned).toString(),ee=w.encode(ee).finish();var B=this.root.lookup("easemob.pb.MSync"),F=B.decode(R);return F.version=this.version,F.encryptType=this.encryptType,F.command=0,F.payload=ee,B.encode(F).finish()}function fe(N,A){h.kg.debug("sendLastSession");var R=Oe.call(this,N,A);ue.call(this,R)}function Ue(N){var A,R=this.root.lookup("easemob.pb.Provision").decode(N.payload);if(this.context.jid&&(this.context.jid.clientResource=R.resource),this.clientResource=R.resource,R.status.errorCode===0){if(this.reconnecting=!1,this.logOut=!1,L.platform!=="zfb"&&L.platform!=="dd"||(this.sock.readyState=1),this.onOpened&&this.onOpened(),(A=this.eventHandler)===null||A===void 0||A.dispatch("onConnected"),this.grantType==="agoraToken"){var w=Date.now();this.expiresIn=this.expirationTime-w,this.tokenExpireTimeCountDown(this.expiresIn)}Ae.call(this),V.call(this),Re.call(this),xe.call(this)}}function Ae(){if(this.unSendMsgArr.length>0){for(var N=0;N<this.unSendMsgArr.length;N++){var A=this.unSendMsgArr[N];x.call(this,A)}this.unSendMsgArr=[]}}function xe(){var N=ie.call(this);ue.call(this,N)}function Re(){var N=Ke.call(this);ue.call(this,N)}function V(){var N=this;He.call(this),this.heartBeatID=setInterval(function(){Re.call(N)},this.heartBeatWait)}function He(){clearInterval(this.heartBeatID)}function Ke(){var N=this.root.lookup("easemob.pb.MSync"),A=N.decode([]);return A.version=this.version,A.encryptType=this.encryptType,A.command=1,N.encode(A).finish()}function ot(N,A){return N.some(function(R){return R.name===A.name})}function ze(N){var A=this,R=this.root.lookup("easemob.pb.CommNotice").decode(N.payload);ot(this._queues,R.queue)||this.clientResource===R.queue.clientResource&&R.queue.name===this.context.userId||(this._queues.push(R.queue),this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout(function(){var w=R.queue;ot(A._queues,w)&&(be.call(A,R.queue),h.kg.debug("\u2B07q:",w))},1e4),this._queues.length===1&&be.call(this,R.queue))}function et(N){if(typeof N=="string"){var A=JSON.parse(N);if(Array.isArray(A)){var R=A[0],w=A[1];this.closeInfo={code:R,reason:w}}}}function We(N){return A=this,R=void 0,ee=function(){var B,F,ve,P,W,q,z,Q;return function(ge,Ve){var Ze,rt,Je,lt,Fe={label:0,sent:function(){if(1&Je[0])throw Je[1];return Je[1]},trys:[],ops:[]};return lt={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function st(pt){return function(gt){return function(ct){if(Ze)throw new TypeError("Generator is already executing.");for(;Fe;)try{if(Ze=1,rt&&(Je=2&ct[0]?rt.return:ct[0]?rt.throw||((Je=rt.return)&&Je.call(rt),0):rt.next)&&!(Je=Je.call(rt,ct[1])).done)return Je;switch(rt=0,Je&&(ct=[2&ct[0],Je.value]),ct[0]){case 0:case 1:Je=ct;break;case 4:return Fe.label++,{value:ct[1],done:!1};case 5:Fe.label++,rt=ct[1],ct=[0];continue;case 7:ct=Fe.ops.pop(),Fe.trys.pop();continue;default:if(!((Je=(Je=Fe.trys).length>0&&Je[Je.length-1])||ct[0]!==6&&ct[0]!==2)){Fe=0;continue}if(ct[0]===3&&(!Je||ct[1]>Je[0]&&ct[1]<Je[3])){Fe.label=ct[1];break}if(ct[0]===6&&Fe.label<Je[1]){Fe.label=Je[1],Je=ct;break}if(Je&&Fe.label<Je[2]){Fe.label=Je[2],Fe.ops.push(ct);break}Je[2]&&Fe.ops.pop(),Fe.trys.pop();continue}ct=Ve.call(ge,Fe)}catch(Ot){ct=[6,Ot],rt=0}finally{Ze=Je=0}if(5&ct[0])throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}([pt,gt])}}}(this,function(ge){if(B=s.P6.getEnvInfo(),F=this.root.lookup("easemob.pb.MSync"),this.name==="miniCore"){try{N.data instanceof ArrayBuffer||(h.kg.debug("received message: ".concat(N.data)),et.call(this,N.data)),P=new Uint8Array(N.data),ve=F.decode(P)}catch{throw new Error("decode message fail.")}return[2,ve]}if(B.platform==="web"||B.platform==="zfb"||B.platform==="dd"){for(N.data==='[401,"normal closed"]'&&(h.kg.debug("received message: ".concat(N.data)),et.call(this,N.data)),W=l().atob(N.data),q=[],z=0,Q=W.length;z<Q;++z)q.push(W.charCodeAt(z));return[2,F.decode(q)]}try{N.data instanceof ArrayBuffer||(h.kg.debug("received message: ".concat(N.data)),et.call(this,N.data)),ve=F.decode(N.data)}catch{throw new Error("decode message fail.")}return[2,ve]})},new((w=void 0)||(w=Promise))(function(B,F){function ve(q){try{W(ee.next(q))}catch(z){F(z)}}function P(q){try{W(ee.throw(q))}catch(z){F(z)}}function W(q){var z;q.done?B(q.value):(z=q.value,z instanceof w?z:new w(function(Q){Q(z)})).then(ve,P)}W((ee=ee.apply(A,R||[])).next())});var A,R,w,ee}function Xe(N){var A=this;N.then(function(R){if(R)switch(R.command){case 0:Ye.call(A,R);break;case 1:ce.call(A,R);break;case 2:ze.call(A,R);break;case 3:Ue.call(A,R);break;default:h.kg.error("unexpected msync command: ".concat(R.command))}else h.kg.error("unexpected msync result: ".concat(R))})}function Ye(N){var A,R,w,ee,B,F,ve,P,W,q,z=this.root.lookup("easemob.pb.CommSyncDL");z=z.decode(N.payload);var Q=new(i())(z.serverId.low,z.serverId.high,z.serverId.unsigned).toString(),ge=new(i())(z.metaId.low,z.metaId.high,z.metaId.unsigned).toString();if(z.metas.length!==0)try{te.call(this,z.metas,z.status)}catch(gt){var Ve=a.Z.create({type:o.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:gt});this.onError&&this.onError(Ve),(A=this.eventHandler)===null||A===void 0||A.dispatch("onError",Ve)}finally{if(z.isLast){var Ze=-1;(lt=this._queues.some(function(gt,ct){return gt.name===z.name&&(Ze=ct,!0)}))&&Ze>0&&this._queues.splice(Ze,1),this._queues.length>0&&(be.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}else fe.call(this,z.nextKey,z.queue)}else if(z.isLast){var rt=-1;(lt=this._queues.some(function(gt,ct){return gt.name===z.queue.name&&(rt=ct,!0)}))&&this._queues.splice(rt,1),this._queues.length>0&&(be.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}else if(z.status&&z.status.errorCode===0){var Je=-1,lt=this._queues.some(function(gt,ct){var Ot;return gt.name===((Ot=z.queue)===null||Ot===void 0?void 0:Ot.name)&&(Je=ct,!0)});if(lt&&this._queues.splice(Je,1),this._queues.length>0&&(be.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer)),(pt=y.Nl.get(ge))&&((0,pt.rpt)({isEndApi:!0,data:{isSuccess:1,requestName:pt.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.success}}),y.Nl.delete(ge)),this._msgHash[ge]){y.TJ.has(ge)&&(y.TJ.get(ge).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.success,msgId:Q}}),y.TJ.delete(ge));try{((R=this._msgHash[ge])===null||R===void 0?void 0:R.resolve)instanceof Function&&this._msgHash[ge].resolve({localMsgId:ge,serverMsgId:Q}),((w=this._msgHash[ge])===null||w===void 0?void 0:w.success)instanceof Function&&this._msgHash[ge].success(ge,Q)}catch(gt){Ve=a.Z.create({type:o.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:gt}),this.onError&&this.onError(Ve),(ee=this.eventHandler)===null||ee===void 0||ee.dispatch("onError",Ve)}this.onReceivedMessage&&this.onReceivedMessage({id:ge,mid:Q,to:this._msgHash[ge].to,time:0}),(B=this.eventHandler)===null||B===void 0||B.dispatch("onReceivedMessage",{id:ge,mid:Q,to:this._msgHash[ge].to}),delete this._msgHash[ge]}}else if(z.status&&z.status.errorCode===15)((F=this._msgHash[ge])===null||F===void 0?void 0:F.fail)instanceof Function&&this._msgHash[ge].fail({type:o.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject({type:o.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"});else if(z.status&&z.status.errorCode===1){var Fe=void 0;switch(z.status.reason){case"blocked":Fe=o.E.PERMISSION_DENIED;break;case"group not found":Fe=o.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":Fe=o.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":Fe=o.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":Fe=o.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":Fe=o.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":Fe=o.E.USER_NOT_FRIEND,z.status.reason="not contact";break;case"group is disabled":Fe=o.E.GROUP_IS_DISABLED,z.status.reason="group is disabled";break;default:Fe=z.status.reason.includes("moderation")?o.E.MESSAGE_MODERATION_BLOCKED:o.E.SERVER_UNKNOWN_ERROR}if(this._msgHash[ge]){var st=a.Z.create({type:Fe,message:z.status.reason||"",data:{id:ge,mid:Q}});this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail({type:Fe,reason:z.status.reason?z.status.reason:"",data:{id:ge,mid:Q}})}}else if(z.status&&z.status.errorCode===7)z.status.reason==="sensitive words"&&this._msgHash[ge]?(st=a.Z.create({type:o.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:ge,mid:Q}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail({type:o.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:ge,mid:Q,reason:"sensitive words"}})):z.status.reason==="blocked by mod_antispam"&&this._msgHash[ge]?(st=a.Z.create({type:o.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:ge,mid:Q}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail({type:o.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:ge,mid:Q,reason:"blocked by mod_antispam"}})):z.status.reason==="user is mute"&&this._msgHash[ge]?(st=a.Z.create({type:o.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:ge,mid:Q}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail(st)):z.status.reason==="traffic limit"&&this._msgHash[ge]&&(st=a.Z.create({type:o.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:ge,mid:Q}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail(st));else if(z.status&&z.status.errorCode===19)this._msgHash[ge]&&(y.TJ.has(ge)&&(y.TJ.get(ge).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:o.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:z.status.reason||"",msgId:Q}}),y.TJ.delete(ge)),st=a.Z.create({type:o.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:z.status.reason||"",data:{id:ge,mid:Q}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail({type:o.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:ge,mid:Q,reason:z.status.reason}}));else if(this._msgHash[ge]){y.TJ.has(ge)&&(y.TJ.get(ge).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:o.E.WEBIM_LOAD_MSG_ERROR,codeDesc:((ve=z.status)===null||ve===void 0?void 0:ve.reason)||"",msgId:Q}}),y.TJ.delete(ge));try{st=a.Z.create({type:o.E.WEBIM_LOAD_MSG_ERROR,message:((P=z.status)===null||P===void 0?void 0:P.reason)||"",data:{id:ge,mid:Q,reason:z.status&&z.status.reason}}),this._msgHash[ge].reject instanceof Function&&this._msgHash[ge].reject(st),this._msgHash[ge].fail instanceof Function&&this._msgHash[ge].fail({type:o.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:z.status&&z.status.errorCode,reason:z.status&&z.status.reason}})}catch(gt){Ve=a.Z.create({type:o.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:gt}),this.onError&&this.onError(Ve),(W=this.eventHandler)===null||W===void 0||W.dispatch("onError",Ve)}delete this._msgHash[ge]}else{var pt;y.TJ.has(ge)&&(y.TJ.get(ge).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:o.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:Q}}),y.TJ.delete(ge)),(pt=y.Nl.get(ge))&&((0,pt.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:pt.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.failed,codeDesc:"on message error"}}),y.Nl.delete(ge)),Ve=a.Z.create({type:o.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(Ve),(q=this.eventHandler)===null||q===void 0||q.dispatch("onError",Ve)}}function nt(N){var A=[],R=this.root.lookup("easemob.pb.KeyValue"),w=[];for(var ee in N){var B=R.decode(A);B.key=ee,U(N[ee])==="object"?(B.type=8,B.stringValue=JSON.stringify(N[ee])):typeof N[ee]=="string"?(B.type=7,B.stringValue=N[ee]):typeof N[ee]=="boolean"?(B.type=1,B.varintValue=N[ee]===!0?1:0):Number.isInteger(N[ee])?(B.type=2,B.varintValue=N[ee]):(B.type=6,B.doubleValue=N[ee]),w.push(B)}return w}function $e(N){var A,R,w=[];if(this.root){var ee,B=this.root.lookup("easemob.pb.MessageBody.Content").decode(w);switch(ee=!N.group&&((A=N==null?void 0:N.chatType)===null||A===void 0?void 0:A.toLowerCase())!=="groupchat"||N.roomType?N.group&&N.roomType||((R=N==null?void 0:N.chatType)===null||R===void 0?void 0:R.toLowerCase())==="chatroom"?"chatRoom":"singleChat":"groupChat",N.type){case"txt":B.type=0,B.text=N.msg;break;case"img":B.type=1,N.body?(B.displayName=N.body.filename,B.remotePath=N.body.url,B.secretKey=N.body.secret,B.fileLength=N.body.file_length,B.size=N.body.size,B.thumbnailDisplayName=N.body.filename):N.file?(B.displayName=N.file.filename,B.remotePath=N.file.url,B.secretKey=N.file.secret,B.fileLength=N.file.file_length,B.size=N.file.size,B.thumbnailDisplayName=N.file.filename):(B.displayName=N.filename,B.remotePath=N.url,B.secretKey=N.secret,B.fileLength=N.file_length,B.size=N.size,B.thumbnailDisplayName=N.filename);break;case"video":B.type=2,B.displayName=N.body.filename,B.remotePath=N.body.url,B.secretKey=N.body.secret,B.fileLength=N.body.file_length,B.duration=N.body.length,B.thumbnailDisplayName=N.body.filename;break;case"loc":B.type=3,B.latitude=N.lat,B.longitude=N.lng,B.address=N.addr,B.buildingName=N.buildingName,B.latitude=N.lat;break;case"audio":B.type=4,B.displayName=N.body.filename,B.remotePath=N.body.url,B.secretKey=N.body.secret,B.fileLength=N.body.file_length,B.duration=N.body.length,B.thumbnailDisplayName=N.body.filename;break;case"file":B.type=5,B.displayName=N.body.filename,B.remotePath=N.body.url,B.secretKey=N.body.secret,B.fileLength=N.body.file_length,B.size=N.body.size,B.thumbnailDisplayName=N.body.filename;break;case"cmd":B.type=6,B.action=N.action;break;case"custom":B.type=7,B.customEvent=N.customEvent,B.customExts=nt.call(this,N.customExts)}var F=[];N.ext&&(F=nt.call(this,N.ext));var ve=this.root.lookup("easemob.pb.MessageBody"),P=ve.decode(w);P.from={name:this.context.jid.name},P.to={name:N.to},N.type==="channel"?P.type=7:N.type==="recall"?(P.type=6,P.ackMessageId=N.ackId):N.type==="delivery"?(P.type=5,P.ackMessageId=N.ackId):N.type==="read"?(P.type=4,P.ackMessageId=N.ackId,ee==="groupChat"&&(P.msgConfig={allowGroupAck:!0},P.ackContent=N.ackContent)):ee==="chatRoom"?P.type=3:ee==="groupChat"?(P.type=2,N.msgConfig&&(P.msgConfig={allowGroupAck:!0})):ee==="singleChat"&&(P.type=1),P.contents=[B],P.ext=F;var W=function(rt){var Je={};return"translations"in rt&&(Je.translations=rt.translations),"isChatThread"in rt&&rt.isChatThread&&(Je.thread={}),Object.keys(Je).length>0?JSON.stringify(Je):""}(N);W&&(P.meta=W),P=ve.encode(P).finish();var q=this.root.lookup("easemob.pb.Meta").decode(w);q.id=N.id;var z="easemob.com";ee!=="chatRoom"&&ee!=="groupChat"||(z="conference.easemob.com"),q.to={appKey:this.appKey,name:N.to,domain:z},ee==="chatRoom"&&(q.ext=nt.call(this,function(rt){return{chatroom_msg_tag:rt.priority==="high"?0:rt.priority==="low"?2:1}}(N))[0]),q.ns=1,q.payload=P;var Q=this.root.lookup("easemob.pb.CommSyncUL"),ge=Q.decode(w);ge.meta=q,ge=Q.encode(ge).finish();var Ve=this.root.lookup("easemob.pb.MSync"),Ze=Ve.decode(w);return Ze.version=this.version,Ze.encryptType=this.encryptType,Ze.command=0,Ze.payload=ge,Ve.encode(Ze).finish()}N.fail&&N.fail({type:o.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function Ie(N){var A=this,R=D({},N);if(N.file)return R.accessToken=this.token,R.appKey=this.appKey,R.apiUrl=this.apiUrl,R.body&&R.body.url?$e.call(this,R):new Promise(function(ee,B){var F=R.onFileUploadComplete;R.onFileUploadComplete=function(ve){var P,W;if(ve.entities[0]["file-metadata"]){var q=ve.entities[0]["file-metadata"]["content-length"];R.file_length=q,R.filetype=ve.entities[0]["file-metadata"]["content-type"],q>204800&&(R.thumbnail=!0)}R.body={type:R.type||"file",secret:ve.entities[0]["share-secret"],filename:R.file.filename||R.filename,url:(A.isHttpDNS?A.apiUrl+ve.uri.substr(ve.uri.indexOf("/",9)):ve.uri)+"/"+ve.entities[0].uuid,length:R.length||0,filetype:R.filetype||R.file.filetype,file_length:((W=(P=R.file)===null||P===void 0?void 0:P.data)===null||W===void 0?void 0:W.size)||0,size:{width:R.width||0,height:R.height||0}},R.file.url=ve.uri,N.secret=ve.entities[0]["share-secret"];var z=(A.isHttpDNS?A.apiUrl+ve.uri.substr(ve.uri.indexOf("/",9)):ve.uri)+"/"+ve.entities[0].uuid;N.url=z,ve.url=z,R.type==="img"&&(N.thumb="".concat(z,"?thumbnail=true"),ve.thumb="".concat(z,"?thumbnail=true")),F instanceof Function&&F(ve,R.id);var Q=$e.call(A,R);y.TJ.size<=y.F3&&y.TJ.set(R.id,{rpt:A.dataReport.geOperateFun({operationName:b.fI.SEND_MSG})}),ue.call(A,Q)},s.P6.uploadFile.call(A,R,b.fI.UPLOAD_MSG_ATTACH)});N.type==="img"&&(R.body=D(D({},R),{size:{width:R.width||0,height:R.height||0}}));var w=$e.call(this,R);ue.call(this,w)}function x(N){var A=this;return new Promise(function(R,w){var ee,B;if(A.logOut)return w({type:o.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!N.id||typeof N.id!="string"||N.id==="")return w({type:o.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!N.to||typeof N.to!="string"||N.to==="")return w({type:o.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var F=N.type==="file"||N.type==="img"||N.type==="audio"||N.type==="video",ve=N.type==="delivery"||N.type==="read"||N.type==="channel";if(N.id&&((!F&&!ve||F&&A.useOwnUploadFun)&&y.TJ.size<=y.F3&&y.TJ.set(N.id,{rpt:A.dataReport.geOperateFun({operationName:N.type==="recall"?b.fI.SEND_RECALL_MSG:b.fI.SEND_MSG})}),A._msgHash[N.id]=D(D({},N),{resolve:R,reject:w})),F)return Ie.call(A,N);if(N.type==="txt"&&((ee=N.msgConfig)===null||ee===void 0?void 0:ee.languages)&&Array.isArray((B=N.msgConfig)===null||B===void 0?void 0:B.languages)&&N.msgConfig.languages.length>0){var P=A.translateMessage||A.translation.translateMessage;if(!P)throw new Error("there is no method to translate message");P({text:N.msg,languages:N.msgConfig.languages}).then(function(q){var z,Q=(z=q.data[0])===null||z===void 0?void 0:z.translations;Q=Q.map(function(Ve){return{code:Ve.to,text:Ve.text}}),N.translations=Q;var ge=$e.call(A,N);ue.call(A,ge,N.id)}).catch(function(q){w(q)})}else{var W=$e.call(A,N);ue.call(A,W,N.id)}})}function ue(N,A){if(!this.isOpened())return this.unSendMsgArr.push(N),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.socketHost.length&&this.isHttpDNS||!this.isHttpDNS)&&(h.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));var R;R=this.name==="miniCore"?N:J.call(this,N,A),this.sock.send(R)}var se=function(N,A){return N.send=x,N.sendMsg=x,h.kg.debug("init Msync by ".concat(N.name)),{generateProvision:Z.bind(N),base64transform:J.bind(N),distributeMeta:G.bind(N),decodeMeta:te.bind(N),decodeUnreadDL:ce.bind(N),_rebuild:ie.bind(N),_lastsession:Oe.bind(N),receiveProvision:Ue.bind(N),isInQueue:ot.bind(N),decodeNotice:ze.bind(N),decodeMSync:We.bind(N),distributeMSync:Xe.bind(N),encodeChatMsg:$e.bind(N),upLoadFile:Ie.bind(N),send:x.bind(N),stopHeartBeat:He.bind(N)}},j=function(){function N(A,R,w){this.handlerData={},this.handlerData={},A.addEventHandler=this.addEventHandler.bind(this),A.removeEventHandler=this.removeEventHandler.bind(this)}return N.prototype.addEventHandler=function(A,R){this.handlerData[A]=R},N.prototype.removeEventHandler=function(A){delete this.handlerData[A]},N.prototype.dispatch=function(A,R){for(var w in h.kg.debug("dispatch event: "+A,R||""),this.handlerData){var ee=this.handlerData[w][A];ee&&ee(R)}},N}(),H=function(){};function he(N){this.onOpened=N.onOpened||H,this.onPresence=N.onPresence||H,this.onTextMessage=N.onTextMessage||H,this.onPictureMessage=N.onPictureMessage||H,this.onAudioMessage=N.onAudioMessage||H,this.onVideoMessage=N.onVideoMessage||H,this.onFileMessage=N.onFileMessage||H,this.onLocationMessage=N.onLocationMessage||H,this.onCmdMessage=N.onCmdMessage||H,this.onCustomMessage=N.onCustomMessage||H,this.onReceivedMessage=N.onReceivedMessage||H,this.onDeliveredMessage=N.onDeliveredMessage||H,this.onReadMessage=N.onReadMessage||H,this.onRecallMessage=N.onRecallMessage||H,this.onChannelMessage=N.onChannelMessage||H,this.onError=N.onError||H,this.onOffline=N.onOffline||H,this.onOnline=N.onOnline||H,this.onStatisticMessage=N.onStatisticMessage||H,this.onContactInvited=N.onContactInvited||H,this.onContactAgreed=N.onContactAgreed||H,this.onContactRefuse=N.onContactRefuse||H,this.onContactDeleted=N.onContactDeleted||H,this.onContactAdded=N.onContactAdded||H,this.onTokenWillExpire=N.onTokenWillExpire||H,this.onTokenExpired=N.onTokenExpired||H,this.onClosed=N.onClosed||H,this.onPresenceStatusChange=N.onPresenceStatusChange||H}__webpack_require__(2222);var le={biz:"",debug:!1,token:""},de="https://data-reporting.agora.io/report",Ee="https://data-reporting.sh.agoralab.co/report",Ce=function(N){var A=Number(b.C8[N]);return A===b.C8.USER_LOGIN?"MANUALLOGIN":A===b.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":A>b.C8.UNKNOWOPERATION&&A<b.C8.REST_OPERATE?"REST":A>b.C8.REST_OPERATE&&A<b.C8.MSYNC_OPERATE?"MESSAGE":A>b.C8.MSYNC_OPERATE&&A<b.C8.ROSTER_OPERATE?"ROSTER":A>b.C8.ROSTER_OPERATE&&A<b.C8.USER_OPERATE?"USER":A>b.C8.USER_OPERATE&&A<b.C8.GROUP_OPERATE?"GROUP":A>b.C8.GROUP_OPERATE&&A<b.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},ne=function(){return new Date().getTime()},K=function(N){return[s.iw.BAIDU,s.iw.WX,s.iw.DD,s.iw.ZFB,s.iw.TT,s.iw.QUICK_APP,s.iw.UNI].includes(N.platform)},C=function(){return N=1,A=99999,N=Math.ceil(N),A=Math.floor(A),Math.floor(Math.random()*(A-N))+N;var N,A},X={},Y=1e3,re=function(){function N(A){this.eventQueue=[],this.stock=Y,this.config=A,this.governor()}return N.prototype.add=function(A){this.stock<=0?console.warn("Event Report limit ".concat(Y," per minute")):(this.eventQueue.push(A),this.consume(),this.stock-=1)},N.prototype.consume=function(){var A=this;this.eventQueue.length!==0&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout(function(){var R,w=A.eventQueue.splice(0,10),ee=w.filter(function(F){return F.appId===w[0].appId}),B=w.filter(function(F){return F.appId!==w[0].appId});(R=A.eventQueue).unshift.apply(R,B),A.batchSend(ee)},1e3))},N.prototype.governor=function(){var A=this,R=setInterval(function(){A.stock=Y},6e4);typeof addEventListener<"u"&&addEventListener("beforeunload",function(){clearInterval(R)})},N.prototype.batchSend=function(A){var R,w;if(A===void 0&&(A=[]),A.length!==0)try{var ee=A.map(function(B){B.biz,B.appId;var F=B.eventId,ve=function(P,W){var q={};for(var z in P)Object.prototype.hasOwnProperty.call(P,z)&&W.indexOf(z)<0&&(q[z]=P[z]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function"){var Q=0;for(z=Object.getOwnPropertySymbols(P);Q<z.length;Q++)W.indexOf(z[Q])<0&&Object.prototype.propertyIsEnumerable.call(P,z[Q])&&(q[z[Q]]=P[z[Q]])}return q}(B,["biz","appId","eventId"]);return{eventId:Number(F),body:ve}});(function(B,F){try{var ve=F.biz,P=F.appId,W=F.data,q=F.debug,z=F.onSuccess;if(!ve)throw new Error("biz is not defined");X.global||(X=s.P6.getEnvInfo());var Q=X;if(K(Q)){var ge={url:q?Ee:de,data:W,method:"POST",success:function(){z==null||z()},fail:function(){},complete:function(){}},Ve={token:B,appid:P!=null?P:"",sendts:"".concat(Math.floor(new Date().getTime()/1e3)),biz:ve,debug:"".concat(q)};if(Q.platform==="zfb"||Q.platform==="dd"?ge.headers=Ve:ge.header=Ve,Q.platform==="dd")return Q.global.httpRequest(ge);Q.global.request(ge)}else{var Ze=new XMLHttpRequest;Ze.onreadystatechange=function(){Ze.readyState===2&&(z==null||z())},Ze.open("POST",q?Ee:de),Ze.setRequestHeader("Content-Type","application/json"),Ze.setRequestHeader("token",B),Ze.setRequestHeader("appid",P!=null?P:""),Ze.setRequestHeader("sendts","".concat(Math.floor(new Date().getTime()/1e3))),Ze.setRequestHeader("biz",ve),Ze.setRequestHeader("debug","".concat(q)),Ze.send(JSON.stringify(W))}}catch(rt){console.error(rt)}})(this.config.token,{biz:(R=A[0])===null||R===void 0?void 0:R.biz,appId:(w=A[0])===null||w===void 0?void 0:w.appId,data:ee,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(B){console.error(B)}},N}(),ae=function(){return ae=Object.assign||function(N){for(var A,R=1,w=arguments.length;R<w;R++)for(var ee in A=arguments[R])Object.prototype.hasOwnProperty.call(A,ee)&&(N[ee]=A[ee]);return N},ae.apply(this,arguments)},pe=new(function(){function N(A){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=le,A&&this.init(A)}return N.prototype.init=function(A){var R;if(A===void 0&&(A={}),!A.biz||!A.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=(R=A.appId)!==null&&R!==void 0?R:"",this.biz=A.biz,this.config=ae(ae({},le),A),this.eventQueue=new re(this.config),this.log(A),this.inited=!0}catch(w){console.error(w)}},N.prototype.send=function(A,R,w){var ee;if(R===void 0&&(R={}),this.inited){var B=ae(ae({},R),{eventId:Number(A),biz:this.biz,appId:(ee=w==null?void 0:w.appId)!==null&&ee!==void 0?ee:this.appId});this.eventQueue.add(B),this.log(B)}else console.error("Event Report: init is not called")},N.prototype.log=function(A){try{if(this.config.debug){var R=A.payload,w=function(ee,B){var F={};for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&B.indexOf(ve)<0&&(F[ve]=ee[ve]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(ve=Object.getOwnPropertySymbols(ee);P<ve.length;P++)B.indexOf(ve[P])<0&&Object.prototype.propertyIsEnumerable.call(ee,ve[P])&&(F[ve[P]]=ee[ve[P]])}return F}(A,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(w),R&&(console.info("payload:"),console.table(R))}}catch(ee){console.error(ee)}},N}()),me=function(){return me=Object.assign||function(N){for(var A,R=1,w=arguments.length;R<w;R++)for(var ee in A=arguments[R])Object.prototype.hasOwnProperty.call(A,ee)&&(N[ee]=A[ee]);return N},me.apply(this,arguments)},Te={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},Be=function(){function N(A){this.platform=s.P6.getEnvInfo(),this.isReportDt=A.isReport||!1,this.isCollectDt=!0,K(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=y.yK,this.options=function(R,w){w.platform||(w=s.P6.getEnvInfo());var ee=R.org,B=R.appkey,F=R.deviceId,ve=R.sdkVersion,P=(navigator==null?void 0:navigator.userAgent)||"".concat(w.platform,"_mini_program");return{org:ee,appkey:B,deviceId:F,sdkServiceId:"sid_".concat(s.P6.getUniqueId(),"_").concat(C()),did:P,sdkVersion:ve,os:y.Wc,sdkProduct:b.aC.web}}(A,this.platform),this.sid=this.options.sdkServiceId,this.init(A)}return N.getInstance=function(){return N.instance},N.prototype.getServiceId=function(){return this.sid||"sid_0"},N.prototype.setIsReportDt=function(A){this.isReportDt=A,A&&this.rptEventQueue()},N.prototype.setIsCollectDt=function(A){this.isCollectDt=A,A||(this.eventQueue=[])},N.prototype.rptEventQueue=function(){var A=this;this.eventQueue.length&&this.eventQueue.forEach(function(R,w){pe.send(R.eventId,R.dt),w>=A.eventQueue.length-1&&(A.eventQueue=[])})},N.prototype.init=function(A){N.instance||(N.instance=this,pe.init({biz:y.el,token:y.$x,appId:A.appkey,debug:!1}),this.reportInit())},N.prototype.reportInit=function(){if(this.isCollectDt){var A=this.options,R=A.did,w=A.os,ee=A.sdkVersion,B=A.deviceId;this.reportData(y.iB.INIT,{did:R,os:w,sdkVersion:ee,deviceId:B})}},N.prototype.geOperateFun=function(A){var R=this;if(!this.isCollectDt)return function(){};var w=1,ee=0,B="",F=ne(),ve=A.uid,P=A.operationName;ve&&(this.uid=ve);var W={uid:this.uid,operationId:"opr_".concat(s.P6.getUniqueId(),"_").concat(C()),requestid:"req_".concat(s.P6.getUniqueId(),"_").concat(C()),operationName:P};return function(q){var z,Q,ge,Ve;if(q.data.isSuccess?(ee=0,B=""):(q.data.code===0&&(q.data.code=y.Tp),ee=(z=q.data.code)!==null&&z!==void 0?z:ee,B=(Q=q.data.codeDesc)!==null&&Q!==void 0?Q:B),!((ge=q.data)===null||ge===void 0)&&ge.accessChannel&&(R.accessChannel=(Ve=q.data)===null||Ve===void 0?void 0:Ve.accessChannel),q.isRetry?(w++,q.data.subrequestid="".concat(w)):(W.requestid="req_".concat(s.P6.getUniqueId(),"_").concat(C()),w=1),q.data.isLastApi){var Ze=ne();q.data.requestElapse=Ze-F,q.data.requestMethod="",q.data.subrequestid="0",q.data.code=ee===200?0:ee,q.data.codeDesc=B}else q.data.requestName||(q.data.requestName=P);q.data.requestElapse||(q.data.requestElapse=ne()-F),R.reportData.call(R,y.iB.API,me(me(me(me({},Te),W),q.data),{accessChannel:R.accessChannel,operationType:Ce(P)})),q.isEndApi&&R.reportData.call(R,y.iB.API,me(me(me({},W),Te),{isSuccess:q.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:ee===200?0:ee,codeDesc:B,requestElapse:q.data.requestElapse,accessChannel:R.accessChannel,operationType:Ce(P)}))}},N.prototype.reportData=function(A,R){return w=this,ee=void 0,F=function(){var ve,P,W,q,z,Q,ge,Ve;return function(Ze,rt){var Je,lt,Fe,st,pt={label:0,sent:function(){if(1&Fe[0])throw Fe[1];return Fe[1]},trys:[],ops:[]};return st={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(st[Symbol.iterator]=function(){return this}),st;function gt(ct){return function(Ot){return function(dt){if(Je)throw new TypeError("Generator is already executing.");for(;pt;)try{if(Je=1,lt&&(Fe=2&dt[0]?lt.return:dt[0]?lt.throw||((Fe=lt.return)&&Fe.call(lt),0):lt.next)&&!(Fe=Fe.call(lt,dt[1])).done)return Fe;switch(lt=0,Fe&&(dt=[2&dt[0],Fe.value]),dt[0]){case 0:case 1:Fe=dt;break;case 4:return pt.label++,{value:dt[1],done:!1};case 5:pt.label++,lt=dt[1],dt=[0];continue;case 7:dt=pt.ops.pop(),pt.trys.pop();continue;default:if(!((Fe=(Fe=pt.trys).length>0&&Fe[Fe.length-1])||dt[0]!==6&&dt[0]!==2)){pt=0;continue}if(dt[0]===3&&(!Fe||dt[1]>Fe[0]&&dt[1]<Fe[3])){pt.label=dt[1];break}if(dt[0]===6&&pt.label<Fe[1]){pt.label=Fe[1],Fe=dt;break}if(Fe&&pt.label<Fe[2]){pt.label=Fe[2],pt.ops.push(dt);break}Fe[2]&&pt.ops.pop(),pt.trys.pop();continue}dt=rt.call(Ze,pt)}catch(Rt){dt=[6,Rt],lt=0}finally{Je=Fe=0}if(5&dt[0])throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}([ct,Ot])}}}(this,function(Ze){switch(Ze.label){case 0:return Ze.trys.push([0,3,,4]),ve=ne(),P=0,A!==y.iB.API?[3,2]:[4,(rt=this.platform,new Promise(function(Je){var lt;rt.platform||(rt=s.P6.getEnvInfo());var Fe="";if(rt.platform===s.iw.WEB){var st=navigator.connection;st!=null&&st.type?(st==null||st.type,Fe=b.td.WIFI):st!=null&&st.effectiveType&&(Fe=b.td[st.effectiveType.toLocaleUpperCase()]),Je(Fe)}else rt.platform===s.iw.NODE?(Fe=b.td.UNKNOWN,Je(Fe)):(lt=rt.global)===null||lt===void 0||lt.getNetworkType({success:function(pt){Fe=b.td[pt.networkType.toLocaleUpperCase()],Je(Fe)}})}))];case 1:P=Ze.sent(),Ze.label=2;case 2:return W=this.options,q=W.appkey,z=W.sdkServiceId,Q=W.sdkProduct,ge=me({lts:ve,net:P,appkey:q,sdkServiceId:z,sdkProduct:Q},R),this.isReportDt?pe.send(A,ge):this.isCollectDt&&this.eventQueue.push({eventId:A,dt:ge}),[3,4];case 3:return Ve=Ze.sent(),console.warn(Ve),[3,4];case 4:return[2]}var rt})},new((B=void 0)||(B=Promise))(function(ve,P){function W(Q){try{z(F.next(Q))}catch(ge){P(ge)}}function q(Q){try{z(F.throw(Q))}catch(ge){P(ge)}}function z(Q){var ge;Q.done?ve(Q.value):(ge=Q.value,ge instanceof B?ge:new B(function(Ve){Ve(ge)})).then(W,q)}z((F=F.apply(w,ee||[])).next())});var w,ee,B,F},N}(),Ge=__webpack_require__(7479),ut=__webpack_require__(2856),at=__webpack_require__(9667),mt=__webpack_require__(3770),vt=__webpack_require__(1735),Et=__webpack_require__(7384),Tt=__webpack_require__(70),ht=function(){return ht=Object.assign||function(N){for(var A,R=1,w=arguments.length;R<w;R++)for(var ee in A=arguments[R])Object.prototype.hasOwnProperty.call(A,ee)&&(N[ee]=A[ee]);return N},ht.apply(this,arguments)},yt=s.P6.getEnvInfo(),_t=yt.platform==="web",M=function(){},Ne=function(){function N(A){var R;if(this.name="connection",this.isDebug=A.isDebug||!1,this.isReport=!1,this.isHttpDNS=A.isHttpDNS===void 0?_t:A.isHttpDNS,this.heartBeatWait=A.heartBeatWait||3e4,this.autoReconnectNumMax=A.autoReconnectNumMax||5,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.delivery=A.delivery||!1,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.socketHost=[],this.hostTotal=0,this.times=1,this.autoReconnectNumTotal=0,this.domain="easemob.com",this.appKey=A.appKey,this.appName="",this.orgName="",this.token="",this.grantType="",this.apiUrl=A.apiUrl||"",this.url=A.url||"",this.https=A.https||typeof window<"u"&&((R=window.location)===null||R===void 0?void 0:R.protocol)==="https:",this.version="1.1.0",this.deviceId=A.deviceId||"webim",this.osType=16,this.useOwnUploadFun=A.useOwnUploadFun||!1,this.compressType=[0],this.encryptType=[0],this.clientResource="",this.expiresIn=0,this.expirationTime=0,this.logOut=!0,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this._msgHash={},this._msgPromiseHash={},this._queues=[],this._load_msg_cache=[],this.unSendMsgArr=[],this.mr_cache={},this.closeInfo=null,this.reconnecting=!1,typeof this.appKey!="string"||this.appKey.split("#").length!==2)throw Error("Illegal appKey: ".concat(this.appKey));var w=this.appKey.split("#");this.orgName=w[0],this.appName=w[1],this.listen=he.bind(this),this.mSync=this.usePlugin(se),this.eventHandler=this.usePlugin(j),Object.assign(N.prototype,Ge),Object.assign(N.prototype,ut),Object.assign(N.prototype,at),Object.assign(N.prototype,mt),Object.assign(N.prototype,vt),Object.assign(N.prototype,Et),Object.assign(N.prototype,Tt),this.dataReport=new Be({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport});var ee=0,B=this;Object.defineProperty(s.P6,"ajaxUnconventionalErrorTimes",{set:function(F){F!==0&&(h.kg.debug("rest api request fail times: ".concat(F)),(ee=F)%5==0&&this.isHttpDNS&&(h.kg.debug("refresh dns config when rest request fail."),Qe.call(B,"refresh",{},{})))},get:function(){return ee}})}return N.prototype.usePlugin=function(A,R){if(!R)return new A(this);this[R]=new A(this)},N.prototype.listen=function(A){},N.prototype.addEventHandler=function(A,R){},N.prototype.removeEventHandler=function(A){},N.prototype.registerUser=function(A){var R=this;return new Promise(function(w,ee){var B=R.dataReport.geOperateFun({uid:A.username,operationName:b.fI.REGISTER});if(R.isHttpDNS){R.dnsIndex=0;var F=ht(ht({},A),{user:A.username,pwd:A.password,promise:{resolve:w,reject:ee}});Qe.call(R,"signup",F,{rpt:B})}else F=ht(ht({},A),{promise:{resolve:w,reject:ee}}),oe.call(R,F,{rpt:B})})},N.prototype.open=function(A){var R=this;return h.kg.debug("open"),new Promise(function(w,ee){if(Le.call(R,A)){A.accessToken&&(R.token=A.accessToken);var B=ht(ht({},A),{promise:{resolve:w,reject:ee}}),F=R.dataReport.geOperateFun({uid:A.user,operationName:b.fI.LOGIN});R.isHttpDNS?Qe.call(R,"login",B,{rpt:F}):we.call(R,B,{rpt:F})}})},N.prototype.isOpened=function(){return this.sock&&this.sock.readyState===1||!1},N.prototype.close=function(){this.logOut=!0,this.reconnecting=!1,this.context.status=o.E.STATUS_CLOSING,this.sock&&this.sock.close(),this.stopHeartBeat(),this.rejectMessage(),this.context.status=o.E.STATUS_CLOSED,this._load_msg_cache=[],this.unSendMsgArr=[],this._queues=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken=""},N.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},N.prototype._checkOpenParams=function(A){return Le.call(this,A)},N.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},N.prototype.heartBeat=function(){},N.prototype.renewToken=function(A){var R=this;return this.isOpened()?this.getChatToken(A).then(function(w){var ee=Date.now();return R.expirationTime=w.expire_timestamp,R.expiresIn=w.expire_timestamp-ee,R.token=w.access_token,R.context.accessToken=w.access_token,R.clearTokenTimeout(),R.tokenExpireTimeCountDown(R.expiresIn),{status:!0,token:w.access_token,expire:w.expire_timestamp}}):Promise.reject({status:!1})},N.prototype.clearTokenTimeout=function(){h.kg.debug("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer)},N.prototype.tokenExpireTimeCountDown=function(A){var R=this;A>Math.pow(2,31)-1&&(A=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout(function(){var w;R.onTokenWillExpire&&R.onTokenWillExpire(),(w=R.eventHandler)===null||w===void 0||w.dispatch("onTokenWillExpire"),h.kg.info("onTokenWillExpire",A)},A/2),this.tokenExpiredTimer=setTimeout(function(){var w;h.kg.info("onTokenExpired",A),R.onTokenExpired&&R.onTokenExpired(),(w=R.eventHandler)===null||w===void 0||w.dispatch("onTokenExpired"),R.close()},A)},N.prototype.compareTokenExpireTime=function(A,R){var w,ee=Number(R)-Number(A);h.kg.debug("compareTokenExpireTime",ee),ee<=this.expiresIn/2&&ee>0?(this.onTokenWillExpire&&this.onTokenWillExpire(),(w=this.eventHandler)===null||w===void 0||w.dispatch("onTokenWillExpire"),h.kg.info("onTokenWillExpire",ee)):ee<=0&&(this.closeByTokenExpired(),h.kg.info("closeByTokenExpired",ee))},N.prototype.closeByTokenExpired=function(){var A;h.kg.info("closed By TokenExpired"),this.onTokenExpired&&this.onTokenExpired(),(A=this.eventHandler)===null||A===void 0||A.dispatch("onTokenExpired"),this.close()},N.prototype.rejectMessage=function(){var A=this,R=Object.keys(this._msgHash);if(R.length>0){var w=a.Z.create({type:o.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});R.forEach(function(ee){A._msgHash[ee].reject instanceof Function&&A._msgHash[ee].reject(w),A._msgHash[ee].fail instanceof Function&&A._msgHash[ee].fail(w),delete A._msgHash[ee]})}},N.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},N.prototype.reconnect=function(){var A,R=this;this.sock.readyState!==0&&this.sock.readyState!==1&&(h.kg.info("reconnect: time",this.times),h.kg.info("reconnect sock.readyState: ",this.sock.readyState),this.reconnecting===!1&&(this.reconnecting=!0),(A=this.eventHandler)===null||A===void 0||A.dispatch("onReconnecting"),this.rejectMessage(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout(function(){R.sock.readyState!==1&&(h.kg.info("login sock.readyState: ",R.sock.readyState),R.sock.close(),Me.call(R,{access_token:R.context.accessToken}),R.times++)},500*this.times),this.autoReconnectNumTotal++)},N.prototype.send=function(A){return Promise.resolve(null)},N.max_cache_length=100,N._getSock=function(){},N}();function oe(N,A){var R=this,w=A.rpt,ee=A.isRetry,B=N.promise,F=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users",ve={requestName:b.c.RESISTER,requestUrl:F},P=N.error||M;if(!this.orgName&&!this.appName){var W=a.Z.create({type:o.E.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"signup error"});P(W)}var q={headers:{"Content-type":"application/json"},url:F,dataType:"json",data:JSON.stringify({username:N.username,password:N.password,nickname:N.nickname||""}),success:function(z){N.success&&N.success(z);var Q=ht(ht({},z),{type:o.E.REQUEST_SUCCESS});B.resolve&&B.resolve(Q);var ge=z.extraInfo,Ve=ge.httpCode,Ze=ge.elapse;w({isEndApi:!0,isRetry:ee,data:ht(ht({},{requestElapse:Ze,isSuccess:1,code:Ve}),ve)})},error:function(z){var Q=z.extraInfo,ge=Q.elapse,Ve=Q.httpCode,Ze=Q.errDesc;return w({isRetry:ee,data:ht(ht({},{requestElapse:ge,isSuccess:0,code:Ve,codeDesc:Ze}),ve)}),R.isHttpDNS&&R.restIndex+1<R.restTotal?(R.restIndex++,_e.call(R),oe.call(R,N,{rpt:w,isRetry:ee}),Promise.reject(z)):(w({data:{isLastApi:1,isSuccess:0}}),R.clear(),B.reject&&B.reject(z),P(z))}};return s.P6.ajax(q).catch(function(z){B.reject&&B.reject(z)})}function we(N,A){var R=this;if(Le.call(this,N)&&!this.isOpened()){var w=A.rpt,ee=A.isRetry;qe.call(this,N),this.user=N.user;var B=N.promise,F=this.context.appName,ve=this.context.orgName,P=this.apiUrl+"/"+ve+"/"+F+"/token";if(N.agoraToken)this.grantType="agoraToken",this.getChatToken(N.agoraToken).then(function(Q){h.kg.info("getChatToken result:",Q),R.expirationTime=Q.expire_timestamp,R.token=Q.access_token,R.context.accessToken=Q.access_token,R.context.restTokenData=Q.access_token;var ge=Q.extraInfo,Ve=ge.httpCode,Ze=ge.elapse;B.resolve({accessToken:Q.access_token,expireTimestamp:Q.expire_timestamp});var rt={requestName:b.c.LOGIN_BY_AGORA_TOKEN,requestUrl:P,requestElapse:Ze,isSuccess:1,code:Ve};w({data:rt}),Me.call(R,ht(ht({},N),{access_token:Q.access_token}),w)}).catch(function(Q){var ge,Ve=a.Z.create({type:o.E.WEBIM_CONNCTION_GETROSTER_ERROR,message:"get chat token fail",data:Q});B.reject(Ve),R.onError&&R.onError(Ve),(ge=R.eventHandler)===null||ge===void 0||ge.dispatch("onError",Ve);var Ze=Q.extraInfo,rt=Ze.elapse,Je=Ze.httpCode,lt=Ze.errDesc,Fe={requestName:b.c.LOGIN_BY_AGORA_TOKEN,requestUrl:P,requestElapse:rt,isSuccess:0,code:Je,codeDesc:lt};w({data:Fe}),w({data:{isLastApi:1,isSuccess:0}})});else if(N.accessToken)this.grantType="accessToken",this.token=N.accessToken,this.context.accessToken=N.accessToken,this.context.restTokenData=N.accessToken,B.resolve({accessToken:N.accessToken}),Me.call(this,N,w);else{this.grantType="password";var W={grant_type:"password",username:N.user,password:N.pwd,timestamp:+new Date},q=JSON.stringify(W),z={headers:{"Content-type":"application/json"},url:P,dataType:"json",data:q,success:function(Q){typeof N.success=="function"&&N.success(Q),R.token=Q.access_token,R.context.restTokenData=Q.access_token,R.context.accessToken=Q.access_token,R.expiresIn=Q.expires_in,R.clearTokenTimeout(),R.tokenExpireTimeCountDown(R.expiresIn),B.resolve({accessToken:Q.access_token,duration:Q.expires_in});var ge=Q.extraInfo,Ve=ge.httpCode,Ze=ge.elapse,rt={requestName:b.c.LOGIN_BY_PWD,requestElapse:Ze,requestUrl:P,isSuccess:1,code:Ve};w({isRetry:ee,data:rt}),Me.call(R,Q,w)},error:function(Q){var ge,Ve=Q.extraInfo,Ze=Ve.elapse,rt=Ve.httpCode,Je=Ve.errDesc,lt={requestName:b.c.LOGIN_BY_PWD,requestElapse:Ze,requestUrl:P,isSuccess:0,code:rt,codeDesc:Je};if(w({isRetry:ee,data:lt}),R.isHttpDNS&&R.restIndex+1<R.restTotal)return R.restIndex++,_e.call(R),void we.call(R,N,{rpt:w,isRetry:!0});w({data:{isLastApi:1,isSuccess:0}}),R.clear(),Q.error&&Q.error_description?(ge=a.Z.create({type:o.E.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,message:Q.error_description,data:Q}),R.onError&&R.onError(ge)):(ge=a.Z.create({type:o.E.WEBIM_CONNCTION_OPEN_ERROR,message:Q.error_description,data:Q}),R.onError&&R.onError(ge)),typeof N.error=="function"&&N.error(ge),B.reject(ge)},version:"4.0.8"};s.P6.ajax(z).catch(function(Q){console.warn(Q)})}s.P6.listenNetwork(Pe.bind(this),je.bind(this))}}function Pe(){var N;h.kg.debug("online"),this.onOnline&&this.onOnline(),(N=this.eventHandler)===null||N===void 0||N.dispatch("onOnline"),this.sock&&this.sock.readyState!==1&&(h.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())}function je(){var N;h.kg.debug("offline"),this.onOffline&&this.onOffline(),(N=this.eventHandler)===null||N===void 0||N.dispatch("onOffline")}function Me(N,A){var R=this,w=this._getSock();this.sock=w;var ee=function(){var ve;h.kg.debug("websockt onOpen"),A&&A({data:{isLastApi:1,isSuccess:1,accessChannel:(ve=R.socketHost[R.hostIndex])===null||ve===void 0?void 0:ve.channel}});var P=s.P6.flow([R.mSync.generateProvision,R.mSync.base64transform])();try{w.send(P)}catch(q){var W=a.Z.create({type:o.E.SDK_RUNTIME_ERROR,message:"send message error",data:q});R.onError&&R.onError(W)}},B=function(ve){setTimeout(function(){var P,W,q,z,Q;h.kg.debug("websocket onClose"),yt.platform!=="zfb"&&yt.platform!=="dd"||(R.sock.readyState=3);var ge=(ve==null?void 0:ve.code)===401||((P=R.closeInfo)===null||P===void 0?void 0:P.code)===401;if(R.logOut)R.clear(),R.resetConnState(),ge&&(h.kg.debug("websocket provision error"),R.closeInfo=null),R.onClosed&&R.onClosed(),(W=R.eventHandler)===null||W===void 0||W.dispatch("onDisconnected");else if(ge){h.kg.debug("websocket provision error");var Ve={type:o.E.WEBIM_CONNECTION_ERROR,message:"provision error",data:ve};R.closeInfo=null,R.onError&&R.onError(Ve),(q=R.eventHandler)===null||q===void 0||q.dispatch("onError",Ve),R.onClosed&&R.onClosed(),(z=R.eventHandler)===null||z===void 0||z.dispatch("onDisconnected"),R.resetConnState()}else if(R.autoReconnectNumTotal<R.autoReconnectNumMax){R.reconnect();var Ze={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};R.onError&&R.onError(Ze),R.autoReconnectNumTotal%R.refreshDNSIntervals==0&&yt.platform==="web"&&R.isHttpDNS&&(h.kg.debug("refresh dns config when websocket close"),Qe.call(R,"refresh",{},{}))}else Ze={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"},R.onError&&R.onError(Ze),R.onClosed&&R.onClosed(),(Q=R.eventHandler)===null||Q===void 0||Q.dispatch("onDisconnected"),R.resetConnState(),R.reconnecting=!1,h.kg.debug("reconnect fail")},0)},F=function(ve){var P=R.mSync,W=P.decodeMSync,q=P.distributeMSync;s.P6.flow([W,q])(ve)};yt.platform==="web"?(w.onopen=ee,w.onclose=B,w.onmessage=F):(w.onOpen(ee),w.onMessage(F),w.onClose(B),typeof window<"u"&&window.WebSocket||w.onError(function(ve){var P,W;if(h.kg.debug("mini program sock on error",ve),R.onError&&R.onError({type:o.E.WEBIM_CONNECTION_ERROR,message:"on socket error",data:ve}),!R.logOut)if(R.autoReconnectNumTotal<R.autoReconnectNumMax)h.kg.debug("sock.onError reconnect",R.autoReconnectNumTotal,R.autoReconnectNumMax),R.reconnect(),R.autoReconnectNumTotal%R.refreshDNSIntervals==0&&yt.platform==="web"&&R.isHttpDNS&&(h.kg.debug("refresh dns config when websocket error"),Qe.call(R,"refresh",{},{}));else{var q={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};R.onError&&R.onError(q),R.onClosed&&R.onClosed(),(P=R.eventHandler)===null||P===void 0||P.dispatch("onDisconnected"),R.resetConnState(),R.reconnecting=!1,h.kg.debug("reconnect fail")}A&&A({data:{isLastApi:1,isSuccess:0,accessChannel:(W=R.socketHost[R.hostIndex])===null||W===void 0?void 0:W.channel}})}))}function Le(N){if(N.user===""){var A=a.Z.create({type:o.E.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,message:"the user cannot be empty"});return this.onError&&this.onError(A),!1}var R=this.appKey.split("#");return!(R.length!==2||!R[0]||!R[1])||(A=a.Z.create({type:o.E.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"the appKey is illegal"}),this.onError&&this.onError(A),!1)}function qe(N){this.context.jid={appKey:this.appKey,name:N.user,domain:this.domain,clientResource:this.clientResource};var A=this.appKey.split("#"),R=A[0],w=A[1];this.context.root=this.root,this.context.userId=N.user,this.context.appKey=this.appKey,this.context.appName=w,this.context.orgName=R}function Qe(N,A,R){var w=this,ee=R.rpt,B=R.isRetry,F=this.dnsArr[this.dnsIndex]+"/easemob/server.json",ve={url:F,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)},success:function(P){var W=P.extraInfo,q=W.elapse,z=W.httpCode,Q={requestUrl:F,requestName:b.c.GET_DNS,requestElapse:q,isSuccess:1,code:z};(P==null?void 0:P.enableDataReport)==="true"?(w.dataReport.setIsCollectDt(!0),w.dataReport.setIsReportDt(!0)):(w.dataReport.setIsReportDt(!1),w.dataReport.setIsCollectDt(!1)),ee&&ee({isRetry:B,data:Q});var ge=P.rest.hosts,Ve=w.https?"https":"http";if(h.kg.info("httpType: "+Ve),!ge)return Promise.reject(!1);for(var Ze=ge.filter(function(st){if(st.protocol===Ve)return st}),rt=0;rt<Ze.length;rt++)if(Ze[rt].protocol===Ve){var Je=Ze[rt];Ze.splice(rt,1),Ze.unshift(Je)}w.restHosts=Ze,w.restTotal=Ze.length;var lt=P["msync-ws"].hosts;if(!lt)return Promise.reject(!1);var Fe=lt.filter(function(st){return st.protocol===Ve&&st});w.socketHost=Fe,w.hostTotal=Fe.length,_e.call(w),N!=="refresh"&&(N==="login"?we.call(w,A,{rpt:ee}):oe.call(w,A,{rpt:ee}))},error:function(P){var W=P.extraInfo,q=W.elapse,z=W.httpCode,Q=W.errDesc,ge={requestUrl:F,requestName:b.c.GET_DNS,isSuccess:0,code:z,codeDesc:Q,requestElapse:q};ee&&ee({isRetry:B,data:ge}),h.kg.debug("getHttpDNS fail: "+w.dnsIndex),w.dnsIndex++,w.dnsIndex<w.dnsTotal&&Qe.call(w,N,A,{rpt:ee,isRetry:!0})}};return s.P6.ajax(ve).catch(function(P){console.warn(P)})}function _e(){var N,A;if(this.restIndex>this.restTotal)return h.kg.debug("restIndex > restTotal"),"";var R="",w=this.restHosts[this.restIndex],ee=w.domain,B=w.ip,F=w.port,ve=this.https?"https:":"http:";return B&&typeof window<"u"&&((N=window==null?void 0:window.location)===null||N===void 0?void 0:N.protocol)==="http:"?R=ve+"//"+B+":"+F:(R=ve+"//"+ee,F&&F!=="80"&&F!=="443"&&(R+=":".concat(F)),typeof window>"u"||window.location||(R="https://"+ee),typeof window<"u"&&window.location&&((A=window.location)===null||A===void 0?void 0:A.protocol)==="file:"&&(R="https://"+ee)),typeof window>"u"&&(R=ve+"//"+ee),this.apiUrl=R,R}var De=__webpack_require__(4799);r().util.Long=i(),r().configure();var ke=r().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{type:"KeyValue",id:8},meta:{type:"bytes",id:9}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}});Ne.prototype.root=ke;var it=h.kg.getLogger("defaultLogger");it.setConfig({useCache:!1,maxCache:3145728,color:"",background:""}),it.enableAll(),Ne.prototype._getSock=function(){if(this.isHttpDNS){var N=this.socketHost[this.hostIndex];if(!N)throw this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0,this.onClosed&&this.onClosed(),new Error("No connected domain name when get websocket.");var A=N.domain,R=N.ip,w="",ee=N.port;w=A||R,ee&&ee!=="80"&&ee!=="443"&&(w+=":"+ee),w&&(this.url="//"+w+"/ws");var B=this.https?"https:":"http:";this.url=B+this.url}return new(_())(this.url)},Ne.prototype.getUniqueId=s.P6.getUniqueId;var Se={connection:Ne,message:De.Message,utils:s.P6,logger:it,statusCode:o.E};typeof window<"u"&&(window.WebIM=Se);var ft=Se}(),__webpack_exports__}()})})(AgoraChat);const AC=getDefaultExportFromCjs(AgoraChat.exports),loginPage=document.querySelector("#login-page");document.querySelector("#login-box");const userPP=document.querySelector(".user-image.this-user"),loginUserName=document.querySelector("#login-input-username"),userName=document.querySelector(".user-username.this-user"),mainPage=document.querySelector("#main-page");document.querySelector("#main-box");let userId,userToken,chatroomId;document.querySelector("#login-button").addEventListener("click",login);document.querySelector(".left-bar-option.exit").addEventListener("click",exit);function login(u){u.preventDefault(),loginUserName.value!==""&&(userName.innerText=loginUserName.value),document.querySelector("#login-input-username").value&&document.querySelector("#login-input-token").value&&document.querySelector("#login-input-chatroom").value&&(userId=loginUserName.value.toString(),userToken=document.querySelector("#login-input-token").value.toString(),chatroomId=document.querySelector("#login-input-chatroom").value.toString(),ACLogin(userId,userToken,chatroomId))}function loginSuccess(){loginPage.style.display="none",mainPage.style.display="flex",document.querySelector("#login-button").firstElementChild.innerText="Enter"}function exit(){loginPage.style.display="flex",mainPage.style.display="none",ACClose()}function loginFailed(){loginPage.style.display="flex",mainPage.style.display="none",document.querySelector("#login-button").firstElementChild.innerText="Login Failed"}const loginPP=document.querySelector("#login-input-pp"),preview=document.querySelector("#login-user-image");document.querySelector("#login-user-img");loginPP.addEventListener("change",updateImageDisplay);function updateImageDisplay(){for(;preview.firstChild;)preview.removeChild(preview.firstChild);const u=loginPP.files;u.length===1&&(loginPP.style.backgroundColor="unset",preview.style.backgroundImage=`url("${URL.createObjectURL(u[0])}")`,userPP.style.backgroundColor="unset",userPP.style.backgroundImage=`url("${URL.createObjectURL(u[0])}")`,`${URL.createObjectURL(u[0])}`)}let conn;function ACLogin(u,_,e){conn=new AC.connection({appKey:"71947963#1179086"}),conn.addEventHandler("connection&message",{onConnected:()=>{loginSuccess()},onDisconnected:()=>{console.log("Logged out!")},onTextMessage:t=>{receiveMessage(t.msg,t.from,t.time,t.id)},onTokenWillExpire:t=>{console.log("Token is about to expire")},onTokenExpired:t=>{console.log("The token has expired")},onError:t=>{loginFailed()}}),conn.open({user:u,agoraToken:_}).then(()=>{r(e)});function r(t){conn.joinChatRoom({roomId:t}).then(i=>{i.data.result===!0&&console.log("joined chat room")}).catch(i=>{loginFailed()})}}function ACClose(){conn.close()}function sendMessageBE(u,_,e){let r={chatType:"chatRoom",type:"txt",from:_,msg:u,to:e},t=AC.message.create(r);conn.send(t).then(i=>{console.log("send text success")}).catch(i=>{console.log("send private text fail"),console.log(i)}),console.log(e)}document.querySelector("#send").addEventListener("click",sendMessage);const typeArea=document.querySelector("#type-area"),chatBox=document.querySelector("#chat-box");typeArea.addEventListener("keydown",typeAreaKeyDown);function sendMessage(u){if(u&&u.preventDefault(),typeArea.value){const _=document.createElement("div");_.setAttribute("class","chat-bg background your-chat");const e=document.createElement("div"),r=document.createElement("span"),t=document.createElement("div");let i=document.createElement("ion-icon");const a=document.createElement("span");a.setAttribute("class","chat-time");const s=new Date;a.innerText=`${s.getHours()}:${s.getMinutes()}`,i.setAttribute("name","checkmark-outline"),t.setAttribute("class","chat-footer"),r.setAttribute("class","chat-text"),r.innerText=typeArea.value,e.setAttribute("class","chat glass your-chat");const o=document.createElement("div");o.setAttribute("class","chat-reactions-box glass c-input"),t.appendChild(i),t.appendChild(a),e.appendChild(r),e.appendChild(t),e.appendChild(o),_.appendChild(e),_.addEventListener("contextmenu",reply),chatBox.appendChild(_),o.addEventListener("click",chatReactionsBoxClick);const n=typeArea.value.toString();typeArea.value="",sendMessageBE(n,loginUserName.value.toString(),chatroomId.toString())}}function typeAreaKeyDown(u){u.key==="Enter"&&u.shiftKey===!1&&(u.preventDefault(),sendMessage())}function receiveMessage(u,_,e,r){const t=document.createElement("div");t.setAttribute("class","chat-bg background other-chat");const i=document.createElement("div"),a=document.createElement("span"),s=document.createElement("div");let o=document.createElement("ion-icon");const n=document.createElement("span");n.setAttribute("class","chat-time"),n.innerText=`${new Date(e).getHours()}:${new Date(e).getMinutes()}`,o.setAttribute("name","checkmark-outline"),s.setAttribute("class","chat-footer"),a.setAttribute("class","chat-text"),a.innerText=u,i.setAttribute("class","chat glass other-chat");const l=document.createElement("div");l.setAttribute("class","chat-reactions-box glass c-input"),s.appendChild(o),s.appendChild(n),i.appendChild(a),i.appendChild(s),i.appendChild(l),t.appendChild(i),t.addEventListener("contextmenu",reply),chatBox.appendChild(t),t.setAttribute("id",r),l.addEventListener("click",chatReactionsBoxClick)}
